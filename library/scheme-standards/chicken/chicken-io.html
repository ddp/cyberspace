<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Module (chicken io) - The CHICKEN Scheme wiki</title>
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="stylesheet" type="text/css" href="/chicken.css" />
<meta name="viewport" content="width=device-width, initial-scale=1" /></head>
<body>
<div id="menu">
<ul>
<li><a href="/" class="internal">Wiki</a></li>
<li><a href="//code.call-cc.org/" class="external">Download</a></li>
<li><a href="/manual/index" class="internal">Manual</a></li>
<li><a href="//eggs.call-cc.org" class="external">Eggs</a></li>
<li><a href="//api.call-cc.org/5/doc/" class="external">API</a></li>
<li><a href="//tests.call-cc.org/" class="external">Tests</a></li>
<li><a href="//bugs.call-cc.org/" class="external">Bugs</a></li></ul></div>
<ul id="page-specific-links">
<li><a href="?action=show">show</a></li>
<li><a href="?action=edit" rel="nofollow">edit</a></li>
<li><a href="?action=history">history</a></li></ul>
<div id="content">
<ul class="tags">
<li>manual</li></ul>
<div id="toc">
<ol>
<li><a href="#module-chicken-io">Module (chicken io)</a>
<ol>
<li><a href="#read-list">read-list</a></li>
<li><a href="#read-buffered">read-buffered</a></li>
<li><a href="#read-byte">read-byte</a></li>
<li><a href="#write-byte">write-byte</a></li>
<li><a href="#read-line">read-line</a></li>
<li><a href="#write-line">write-line</a></li>
<li><a href="#read-lines">read-lines</a></li>
<li><a href="#read-string">read-string</a></li>
<li><a href="#read-string">read-string!</a></li>
<li><a href="#write-string">write-string</a></li>
<li><a href="#read-token">read-token</a></li></ol></li></ol></div><a href="#module-chicken-io">
<h2 id="module-chicken-io">Module (chicken io)</h2></a>
<p>This module provides various Input/Output extensions.</p><a href="#read-list">
<h3 id="read-list">read-list</h3></a><span class="definition procedure"><em>[procedure]</em> <tt>(read-list [PORT [READER [MAX]]])</tt>
<br /></span>
<p>Call <tt>READER</tt> up to <tt>MAX</tt> times and collect its output in a list. If <tt>MAX</tt> is <tt>#f</tt>, read until end of file.</p>
<p>The reader is called with one argument: <tt>PORT</tt>.</p>
<p><tt>READER</tt> defaults to <tt>read</tt>, <tt>MAX</tt> to <tt>#f</tt> and <tt>PORT</tt> to <tt>current-input-port</tt>, so if you call it with no arguments, it will read all remaining s-expressions from the current input port.</p><a href="#read-buffered">
<h3 id="read-buffered">read-buffered</h3></a><span class="definition procedure"><em>[procedure]</em> <tt>(read-buffered [PORT])</tt>
<br /></span>
<p>Reads any remaining data buffered after previous read operations on <tt>PORT</tt>. If no remaining data is currently buffered, an empty string is returned. This procedure will never block. Currently only useful for string-, process- and tcp ports.</p><a href="#read-byte">
<h3 id="read-byte">read-byte</h3></a><a href="#write-byte">
<h3 id="write-byte">write-byte</h3></a><span class="definition procedure"><em>[procedure]</em> <tt>(read-byte [PORT])</tt>
<br /></span><span class="definition procedure"><em>[procedure]</em> <tt>(write-byte BYTE [PORT])</tt>
<br /></span>
<p>Read/write a byte to the port given in <tt>PORT</tt>, which default to the values of <tt>(current-input-port)</tt> and <tt>(current-output-port)</tt>, respectively.</p><a href="#read-line">
<h3 id="read-line">read-line</h3></a><a href="#write-line">
<h3 id="write-line">write-line</h3></a><span class="definition procedure"><em>[procedure]</em> <tt>(read-line [PORT [LIMIT]])</tt>
<br /></span><span class="definition procedure"><em>[procedure]</em> <tt>(write-line STRING [PORT])</tt>
<br /></span>
<p>Line-input and -output. <tt>PORT</tt> defaults to the value of <tt>(current-input-port)</tt> and <tt>(current-output-port)</tt>, respectively. If the optional argument <tt>LIMIT</tt> is given and not <tt>#f</tt>, then <tt>read-line</tt> reads at most <tt>LIMIT</tt> characters per line. <tt>read-line</tt> returns a string without the terminating newline and <tt>write-line</tt> adds a terminating newline  before outputting.</p><a href="#read-lines">
<h3 id="read-lines">read-lines</h3></a><span class="definition procedure"><em>[procedure]</em> <tt>(read-lines [PORT [MAX]])</tt>
<br /></span>
<p>Read <tt>MAX</tt> or fewer lines from <tt>PORT</tt>. <tt>MAX</tt> defaults to <tt>most-positive-fixnum</tt> and <tt>PORT</tt> defaults to the value of <tt>(current-input-port)</tt>. Returns a list of strings, each string representing a line read, not including any line separation character(s).</p><a href="#read-string">
<h3 id="read-string">read-string</h3></a><a href="#read-string">
<h3 id="read-string">read-string!</h3></a><a href="#write-string">
<h3 id="write-string">write-string</h3></a><span class="definition procedure"><em>[procedure]</em> <tt>(read-string [NUM [PORT]])</tt>
<br /></span><span class="definition procedure"><em>[procedure]</em> <tt>(read-string! NUM STRING [PORT [START]])</tt>
<br /></span><span class="definition procedure"><em>[procedure]</em> <tt>(write-string STRING [NUM [PORT]])</tt>
<br /></span>
<p>Read or write <tt>NUM</tt> characters from/to <tt>PORT</tt>, which defaults to the value of <tt>(current-input-port)</tt> or <tt>(current-output-port)</tt>, respectively.</p>
<p>If <tt>NUM</tt> is <tt>#f</tt> or not given, then all data up to the end-of-file is read, or, in the case of <tt>write-string</tt> the whole string is written. If no more input is available, <tt>read-string</tt> returns <tt>#!eof</tt>.</p>
<p><tt>read-string!</tt> reads destructively into the given <tt>STRING</tt> argument, but never more characters than would fit into <tt>STRING</tt>. If <tt>START</tt> is given, then the read characters are stored starting at that position. <tt>read-string!</tt> returns the actual number of characters read.</p><a href="#read-token">
<h3 id="read-token">read-token</h3></a><span class="definition procedure"><em>[procedure]</em> <tt>(read-token PREDICATE [PORT])</tt>
<br /></span>
<p>Reads characters from <tt>PORT</tt> (which defaults to the value of <tt>(current-input-port)</tt>) and calls the procedure <tt>PREDICATE</tt> with each character until <tt>PREDICATE</tt> returns false. Returns a string with the accumulated characters.</p>
<hr />
<p>Previous: <a href="Module (chicken gc)" class="internal">Module (chicken gc)</a></p>
<p>Next: <a href="Module (chicken irregex)" class="internal">Module (chicken irregex)</a></p></div></body></html>