<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>PLOT: Array Protocol</title></head><body><banner><center><h1>Programming Language for Old Timers</h1><br>by David A. Moon<br>February 2006 .. September 2008<br></center><br>Comments and criticisms to dave underscore moon atsign alum dot mit dot edu.<br><hr><br><P align=center><A HREF="page-9.html">Previous page</A>&nbsp;&nbsp;&nbsp;<A HREF="index.html">Table of Contents</A>&nbsp;&nbsp;&nbsp;<A HREF="page-11.html">Next page</A></P><BR><h2>Array Protocol</h2><P>Array is a subprotocol of collection and keyed-sequence.  An array has asequence of elements in a defined order, keyed by consecutive integersstarting at zero.  The keys are also called subscripts.  Negativesubscripts index from the end of the sequence.  Thus key 0 selects thefirst element and key -1 selects the last element.<P>The length of an array is the number of elements.<P>Some array types have restrictions on the types of their elements.<P>Array is implemented by list, stack, argument-list, bit-vector, etc.<P>String also implements the method requirements of array,but does not inherit from the protocol itself.This is because the + operator with a string as its right-hand argumentworks differently depending on the type of its left-hand argument.  If theleft-hand argument is an array, the result is an array with one moreelement, the string.  If the left-hand argument is a string, the result isthe two strings concatenated.  Adding a string to an array does not takethe string apart into its individual characters.  For this reason, somemethods may be specialized for "array or string."<P>The following method requirements, in addition to the collection andsequence methods, constitute the array protocol:<P><PRE>defprotocol array is sequence, keyed-sequence, collection  x is array[subscript is integer, result: element]  x is array[range is range, result: subseq is array]  position(element, x is array, result: integer or false)  x is array + y is array, result: concatenation is array  x is array + y is anything, result: appended is array  first(x is array, result: element)  last(x is array, result: element)</PRE><P><P>Many arrays also implement assignable-sequence.  There is a protocolassignable-array that inherits from array and assignable-keyed-sequenceand adds these method requirements:<P><PRE>defprotocol assignable-array is array, assignable-keyed-sequence  x is array[subscript is integer] := new-element  first:=(x is array, new-element)  last:=(x is array, new-element)</PRE><P>A superprotocol of array is collection.  A collection is like an arrayexcept that it does not have subscripts, so the <TT>[]</TT>, <TT>[]:=</TT>, position, first,last, and reverse methods are not present.<P><P><BR><P align=center><A HREF="page-9.html">Previous page</A>&nbsp;&nbsp;&nbsp;<A HREF="index.html">Table of Contents</A>&nbsp;&nbsp;&nbsp;<A HREF="page-11.html">Next page</A></P><BR><br></body></html>