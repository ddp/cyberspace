<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RFC-019: Documentation Pipeline</title>
  <link rel="stylesheet" href="rfc.css">
</head>
<body>
<h1>RFC-019: Documentation Pipeline</h1>
<dl class="metadata">
</dl>
<hr>
<section>
<h2>Abstract</h2>
<p>This RFC specifies the documentation pipeline for the Library of Cyberspace: automated generation of canonical document formats and index catalogs. Output formats are HTML, PostScript, and plain text—open formats that will outlast corporations.</p>
</section>
<section>
<h2>Motivation</h2>
<p>Documentation must be:</p>
<p>1. Preserved - Open formats for long-term archival 2. Accessible - Viewable in any environment 3. Readable - Human-readable output 4. Discoverable - Indexed for navigation</p>
<h3>Why PostScript, Not PDF</h3>
<p>PDF is Adobe's proprietary format dressed in ISO clothing.[^h1] PostScript is:</p>
<p>- Open - Published specification since 1984 - Stable - Level 3 unchanged since 1997 - Readable - Plain text you can grep, diff, edit - Honest - Describes rendering, doesn't control viewing</p>
<p>NeXT got it right. The source is the document.[^h2]</p>
<p>[^h1]: Historical: Adobe created PDF in 1993 as a proprietary format, then donated it to ISO in 2008 (ISO 32000) after market dominance was achieved. The "open standard" arrived after lock-in.</p>
<p>[^h2]: Historical: NeXT's Display PostScript (1988) used PostScript as the native imaging model. What you saw on screen was what the printer rendered. Steve Jobs understood that the document format is the document.</p>
</section>
<section>
<h2>RFC Categories</h2>
<p>Following IETF tradition (RFC 2026, RFC 2223).[^d4]</p>
<p>Table 0: RFC Categories and Authorship</p>
<table>
<tr><th>Category </th><th>Description </th><th>Author </th></tr>
<tr><td>Standards Track </td><td>Core specifications defining the system </td><td>Core maintainers </td></tr>
<tr><td>Informational </td><td>Guidelines, explanations, tutorials </td><td>Anyone in federation </td></tr>
<tr><td>Experimental </td><td>New ideas being tested </td><td>Anyone in federation </td></tr>
<tr><td>Best Current Practice </td><td>Recommended approaches </td><td>Core maintainers </td></tr>
<tr><td>Historic </td><td>Deprecated specifications </td><td>Core maintainers </td></tr>
</table>
<p>Open Authorship: Any member of the federation may author Informational or Experimental RFCs. Standards Track, Best Current Practice, and Historic designations require core maintainer approval.</p>
<p>[^d4]: Design: Following IETF tradition (RFC 2026). Informational RFCs lower the barrier to contribution while Standards Track maintains architectural coherence. The federation grows through documentation.</p>
</section>
<section>
<h2>RFC Header Format</h2>
<p>Every RFC begins with a standardized header block:</p>
<pre class="language-markdown">
# RFC-NNN: Title

Status: Draft | Proposed | Implemented | Historic
Category: Standards Track | Informational | Experimental | BCP | Historic
Created: YYYY-MM-DD
Updated: YYYY-MM-DD
Author: Name &lt;email&gt;
Updates: RFC-NNN (if applicable)
Obsoletes: RFC-NNN (if applicable)

---

## Abstract

One paragraph summary of the RFC.

---

## Status of This Memo

This document specifies a [Standards Track/Informational/Experimental]
protocol for the Library of Cyberspace community.

Distribution of this memo is unlimited.
</pre>
<h3>Status Values</h3>
<table>
<tr><th>Status </th><th>Meaning </th></tr>
<tr><td>Draft </td><td>Work in progress, not yet reviewed </td></tr>
<tr><td>Proposed </td><td>Under review, seeking feedback </td></tr>
<tr><td>Implemented </td><td>Specification complete, implementation exists </td></tr>
<tr><td>Historic </td><td>Superseded or deprecated </td></tr>
</table>
<h3>Required Sections</h3>
<p>1. Abstract — One paragraph summary 2. Motivation — Why this RFC exists 3. Specification — The technical details 4. Security Considerations — Required, even if "None" 5. References — Citations and dependencies</p>
</section>
<section>
<h2>Footnote Categories</h2>
<p>RFCs use categorized footnotes to separate different types of annotations:[^d2]</p>
<p>Table 2: Footnote Categories</p>
<table>
<tr><th>Prefix </th><th>Category </th><th>Purpose </th></tr>
<tr><td>[^d] </td><td>Design </td><td>Rationale, trade-offs, alternatives considered </td></tr>
<tr><td>[^r] </td><td>Research </td><td>Academic references, papers, formal methods </td></tr>
<tr><td>[^h] </td><td>Historical </td><td>Context, predecessors, lessons from past systems </td></tr>
<tr><td>[^i] </td><td>Implementation </td><td>Code notes, performance, optimization details </td></tr>
</table>
<p>Convention: Number sequentially within category (e.g., [^d1], [^d2], [^h1], [^h2]).[^r1]</p>
<p>[^d2]: Design: Categorized footnotes prevent mixing implementation details with historical context. Readers can skim by category.</p>
<p>[^r1]: Research: Knuth's literate programming separates code from documentation. Our footnote categories extend this to separate design rationale from historical context from implementation notes. See Knuth, "Literate Programming" (1984).</p>
</section>
<section>
<h2>Output Formats</h2>
<p>Table 1: Output Formats</p>
<table>
<tr><th>Format </th><th>Extension </th><th>Purpose </th></tr>
<tr><td>Text </td><td>.txt </td><td>IETF tradition, universal, immortal </td></tr>
<tr><td>PostScript </td><td>.ps </td><td>Archival, printing </td></tr>
<tr><td>Hypertext Markup Language </td><td>.html </td><td>Web viewing </td></tr>
</table>
<p>Philosophy: Text, PostScript, and Hypertext Markup Language cover all use cases with open formats. No proprietary gatekeepers. These three are canonical—don't add more.[^d1]</p>
<p>[^d1]: Design: Three formats cover all use cases. Text is grep-able and eternal. PostScript is printable and archival. HTML is web-viewable. Adding PDF would be redundant (PostScript covers printing) and would introduce a proprietary dependency.</p>
</section>
<section>
<h2>Pipeline Specification</h2>
<h3>Output</h3>
<p>For each RFC:</p>
<pre>
rfc-NNN-short-name.html   # Standalone HTML
rfc-NNN-short-name.ps     # PostScript
rfc-NNN-short-name.txt    # Plain text, 78 columns
</pre>
<p>Plus a navigational index:</p>
<pre>
index.html                # Hypertext catalog
</pre>
<h3>Generation</h3>
<pre class="language-bash">
./generate-rfcs.sh
</pre>
<p>The script handles all format generation automatically.</p>
<h3>Table of Contents</h3>
<p>Each RFC generates a table of contents from section headings:[^i1]</p>
<p>- Level 1: # - RFC title (not in TOC) - Level 2: ## - Major sections - Level 3: ### - Subsections</p>
<p>HTML output includes navigable TOC with anchor links.</p>
<p>[^i1]: Implementation: Pandoc generates TOC with --toc flag. PostScript uses LaTeX \tableofcontents. Plain text uses indented section listing.</p>
<h3>Index Generation</h3>
<p>The index.html catalog provides:</p>
<p>- RFC number and title - Links to all output formats (html, ps, txt) - Clean, accessible HTML</p>
<p>Structure:</p>
<pre class="language-html">
&lt;table&gt;
  &lt;tr&gt;
    &lt;td&gt;RFC Number&lt;/td&gt;
    &lt;td&gt;Title&lt;/td&gt;
    &lt;td&gt;html | ps | txt&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</pre>
<h3>Permuted Index (KWIC)</h3>
<p>A Key Word In Context index rotates titles around each significant word:[^h3]</p>
<pre>
              Architecture  RFC-002: Vault System Architecture
                    Audit  RFC-003: Cryptographic Audit Trail
Vault System  Architecture  RFC-002: Vault System Architecture
Cryptographic       Audit  RFC-003: Cryptographic Audit Trail
</pre>
<p>Stop words excluded: a, an, and, for, in, of, on, or, the, to, with</p>
<p>The permuted index enables discovery by concept rather than by RFC number.[^r2]</p>
<p>[^h3]: Historical: KWIC indices originated at IBM (1958) for chemical abstracts. Unix ptx command generates permuted indices. The technique predates full-text search and remains valuable for browsable discovery.</p>
<p>[^r2]: Research: Luhn, H.P. "Keyword-in-Context Index for Technical Literature (KWIC Index)" (1960). American Documentation 11(4):288-295.</p>
</section>
<section>
<h2>Publication</h2>
<h3>Pipeline Vocabulary</h3>
<pre>
commit  →  sync  →  publish
  │         │         │
  git     github   yoyodyne
 local    remote      www
</pre>
<p>Table 3: Publication Commands</p>
<table>
<tr><th>Command </th><th>Action </th><th>Target </th></tr>
<tr><td>commit </td><td>git commit </td><td>Local repository </td></tr>
<tr><td>sync </td><td>git pull &amp;&amp; git push </td><td>GitHub (cyberspace) </td></tr>
<tr><td>publish </td><td>rsync </td><td>Yoyodyne (www) </td></tr>
</table>
<p>Note: sync is intentionally ambiguous—it also means lazy clustering sync (RFC-016). Context disambiguates. The ambiguity with git is preserved.[^d3]</p>
<p>[^d3]: Design: Overloaded vocabulary reflects reality. "Sync" universally means bidirectional reconciliation. Fighting this creates cognitive load. Embrace it.</p>
<h3>Commit (Local)</h3>
<pre class="language-bash">
# Generate all formats
./generate-rfcs.sh

# Commit to vault
git add -A &amp;&amp; git commit -m "Regenerate RFC documentation"
</pre>
<h3>Sync (GitHub)</h3>
<pre class="language-bash">
# Sync with remote
git pull &amp;&amp; git push
</pre>
<h3>Publish (Yoyodyne)</h3>
<pre class="language-bash">
# Publish to yoyodyne
rsync -avz --chmod=D755,F644 \
  .html .ps *.txt \
  ddp@www.yoyodyne.com:/www/yoyodyne/ddp/cyberspace/
</pre>
<p>Published URL: https://www.yoyodyne.com/ddp/cyberspace/</p>
<p>Published: - .html - Web viewing - .ps - PostScript (archival, printing) - *.txt - Plain text - index.html - Catalog</p>
<p>Permission model: - Directories: 755 (world-readable, owner-writable) - Files: 644 (world-readable, owner-writable)</p>
</section>
<section>
<h2>Rich Formatting Pipeline</h2>
<h3>HTML: Modern, Themeable</h3>
<p>HTML output uses rfc.css for rich presentation:</p>
<p>- Light/dark themes: Respects prefers-color-scheme, toggleable - Typography: System fonts with monospace fallbacks for code - Code blocks: font-feature-settings ensures box-drawing alignment - Responsive: Mobile-friendly with print styles - Tables: Shadows, hover states, proper borders</p>
<pre class="language-css">
:root {
  --bg: #fafafa; --fg: #1a1a1a; --accent: #0066cc;
}
@media (prefers-color-scheme: dark) {
  :root { --bg: #0d1117; --fg: #e6edf3; --accent: #58a6ff; }
}
</pre>
<h3>PostScript: Professional Typesetting</h3>
<p>PostScript uses groff with ms macros for rich output:</p>
<p>- Markdown sources: pandoc → groff ms → PostScript - Text-only sources: enscript with fancy headers - Page layout: 1" margins, 10pt body, Helvetica headers - Running headers: Title left, page number right</p>
<pre class="language-bash">
# From markdown (via groff)
pandoc doc.md -t ms | groff -ms -Tps &gt; doc.ps

# From text (via enscript)
enscript --fancy-header=enscript -p doc.ps doc.txt
</pre>
<h3>Text: Immortal ASCII</h3>
<p>Plain text remains intentionally simple:</p>
<p>- 78 columns for universal display - Unicode box-drawing converted to ASCII - No formatting dependencies - Grep-able, diff-able, eternal</p>
</section>
<section>
<h2>Dependencies</h2>
<table>
<tr><th>Tool </th><th>Version </th><th>Purpose </th></tr>
<tr><td>pandoc </td><td>2.x+ </td><td>Markdown → HTML, Markdown → groff ms </td></tr>
<tr><td>groff </td><td>1.23+ </td><td>ms macros → PostScript </td></tr>
<tr><td>enscript </td><td>1.6+ </td><td>Text → PostScript (fancy headers) </td></tr>
<tr><td>rsync </td><td>3.x+ </td><td>Publication </td></tr>
</table>
<p>Install on macOS:</p>
<pre class="language-bash">
brew install pandoc groff enscript
</pre>
<p>PostScript viewers: TeXShop, Preview, Ghostscript, or read the source directly.</p>
</section>
<section>
<h2>Security Considerations</h2>
<h3>Integrity</h3>
<p>Generated documents inherit integrity from: - Git version control - Vault signatures (releases)</p>
<h3>Publication</h3>
<p>Remote publication uses: - SSH key authentication - No sensitive data in documents - World-readable permissions only</p>
</section>
<section>
<h2>References</h2>
<p>1. Pandoc User's Guide (preserved) 2. PostScript Language Reference Manual - Adobe (preserved) 3. RFC-006: Vault System Architecture</p>
</section>
<section>
<h2>Changelog</h2>
<p>- 2026-01-11 - Add rich formatting pipeline (groff, CSS themes) - 2026-01-07 - Add footnote categories, TOC, permuted index (KWIC) - 2026-01-07 - Replace PDF with PostScript (open format) - 2026-01-06 - Initial specification</p>
</section>
</body>
</html>
