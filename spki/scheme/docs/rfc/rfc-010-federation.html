<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>rfc-010-federation</title>
  <style>
    /* Default styles provided by pandoc.
    ** See https://pandoc.org/MANUAL.html#variables-for-html for config info.
    */
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="rfc.css" />
</head>
<body>
<h1 id="rfc-010-federation-protocol">RFC-010: Federation Protocol</h1>
<p><strong>Status:</strong> Proposed <strong>Date:</strong> January 2026
<strong>Author:</strong> Derrell Piper <a href="mailto:ddp@eludom.net"
class="email">ddp@eludom.net</a> <strong>Implementation:</strong>
Partial (see RFC-001 Replication Layer)</p>
<hr />
<h2 id="abstract">Abstract</h2>
<p>This RFC specifies the Federation Protocol for the Library of
Cyberspace: a peer-to-peer synchronization system enabling loose
confederacies of friends to share and preserve cryptographically sealed
artifacts without central authority.</p>
<hr />
<h2 id="e-pluribus-unum">E Pluribus Unum</h2>
<p><em>Out of many, one.</em></p>
<pre><code>    ┌─────────┐         ┌─────────┐         ┌─────────┐
    │  Alice  │◄───────►│   Bob   │◄───────►│  Carol  │
    │  Vault  │         │  Vault  │         │  Vault  │
    └────┬────┘         └────┬────┘         └────┬────┘
         │                   │                   │
         │    ┌──────────────┴──────────────┐    │
         │    │                             │    │
         └────►    No Central Authority    ◄────┘
              │                             │
              │   Just keys, seals, trust   │
              │                             │
              └─────────────────────────────┘</code></pre>
<hr />
<h2 id="motivation">Motivation</h2>
<p>Centralized systems fail:</p>
<ul>
<li><strong>Single point of failure</strong>: Server goes down, everyone
stops</li>
<li><strong>Censorship</strong>: Authority can deny access</li>
<li><strong>Trust concentration</strong>: Must trust operator</li>
<li><strong>Survival</strong>: Company folds, data lost</li>
</ul>
<p>Federation provides:</p>
<ol type="1">
<li><strong>Decentralized</strong> - No master server</li>
<li><strong>Resilient</strong> - Survives node failures</li>
<li><strong>Autonomous</strong> - Each peer controls own data</li>
<li><strong>Cryptographic</strong> - Trust through math, not
authority</li>
<li><strong>Eventual consistency</strong> - Convergence without
coordination</li>
</ol>
<hr />
<h2 id="federation-model">Federation Model</h2>
<h3 id="peer-relationships">Peer Relationships</h3>
<pre><code>Peer: A vault instance with identity (SPKI principal)

Relationships:
  - Publisher:  I push releases to you
  - Subscriber: I pull releases from you
  - Peer:       Bidirectional sync</code></pre>
<h3 id="trust-model">Trust Model</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>(federation-trust</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  (peer alice-pubkey</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    (role publisher)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    (trust-level verified)     <span class="co">; Signature verified</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    (sync-policy automatic))</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  (peer bob-pubkey</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    (role subscriber)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    (trust-level known)        <span class="co">; Key known, not verified</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    (sync-policy manual)))</span></code></pre></div>
<p>Trust levels: - <strong>unknown</strong>: Never seen, reject -
<strong>known</strong>: Key registered, manual approval -
<strong>verified</strong>: Signature chain verified via SPKI -
<strong>trusted</strong>: Full automatic sync</p>
<hr />
<h2 id="protocol-operations">Protocol Operations</h2>
<h3 id="peer-discovery">Peer Discovery</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>(federation-discover)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">;; Returns: List of known peers and their status</span></span></code></pre></div>
<p>Discovery mechanisms: 1. <strong>Explicit configuration</strong>:
Known peer list 2. <strong>Git remotes</strong>: Extract from repository
3. <strong>Directory service</strong>: Optional, not required 4.
<strong>mDNS/Bonjour</strong>: Local network discovery via
<code>_cyberspace._tcp</code></p>
<h3 id="mdns-service-discovery">mDNS Service Discovery</h3>
<p>Cyberspace nodes announce themselves via mDNS using the
<code>_cyberspace._tcp</code> service type:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">;; Announce this node</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>(announce-presence &#39;starlight)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">;; Registers: starlight._cyberspace._tcp.local. port 7654</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">;; Discover peers</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>(discover-peers)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">;; Scans for _cyberspace._tcp services on local network</span></span></code></pre></div>
<p>Platform support: - <strong>macOS</strong>: <code>dns-sd -R</code>
for registration, <code>dns-sd -B</code> for browsing -
<strong>Linux</strong>: <code>avahi-publish</code> for registration,
<code>avahi-browse</code> for browsing</p>
<h3 id="peer-registration">Peer Registration</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>(federation-register peer-uri</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">#!key</span> public-key trust-level)</span></code></pre></div>
<p>Registers a new peer with: - URI (git remote, HTTP endpoint,
filesystem path) - Public key for verification - Initial trust level</p>
<h3 id="release-announcement">Release Announcement</h3>
<div class="sourceCode" id="cb7"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(federation-announce version</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">#!key</span> peers message)</span></code></pre></div>
<p>Pushes release notification to peers: 1. Create signed announcement
2. Send to specified peers (or all) 3. Peers verify signature 4. Peers
decide whether to pull</p>
<h3 id="release-request">Release Request</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>(federation-request version peer</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">#!key</span> verify-key)</span></code></pre></div>
<p>Pulls specific release from peer: 1. Request release metadata 2.
Verify signature 3. Download archive 4. Verify integrity 5. Record in
audit trail</p>
<h3 id="synchronization">Synchronization</h3>
<div class="sourceCode" id="cb9"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(federation-sync peer</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="ex">#!key</span> direction verify-key)</span></code></pre></div>
<p>Bidirectional sync (from RFC-001): 1. Exchange release lists 2.
Identify missing releases 3. Push/pull as configured 4. Verify all
signatures 5. Update audit trails</p>
<hr />
<h2 id="message-format">Message Format</h2>
<h3 id="announcement-message">Announcement Message</h3>
<div class="sourceCode" id="cb10"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>(federation-message</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  (type announcement)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  (from #<span class="op">${</span>alice-pubkey<span class="op">}</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  (timestamp <span class="dv">1767685100</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  (payload</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    (release <span class="st">&quot;2.0.0&quot;</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    (hash <span class="st">&quot;sha512:...&quot;</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    (archive-size <span class="dv">1048576</span>)</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>    (notes <span class="st">&quot;Major release&quot;</span>))</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  (signature #<span class="op">${</span>ed25519-sig<span class="op">}</span>))</span></code></pre></div>
<h3 id="request-message">Request Message</h3>
<div class="sourceCode" id="cb11"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(federation-message</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  (type request)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  (from #<span class="op">${</span>bob-pubkey<span class="op">}</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  (timestamp <span class="dv">1767685200</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  (payload</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    (release <span class="st">&quot;2.0.0&quot;</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    (format cryptographic))</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  (signature #<span class="op">${</span>ed25519-sig<span class="op">}</span>))</span></code></pre></div>
<h3 id="response-message">Response Message</h3>
<div class="sourceCode" id="cb12"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(federation-message</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  (type response)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  (from #<span class="op">${</span>alice-pubkey<span class="op">}</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  (in-reply-to <span class="st">&quot;sha512:request-hash&quot;</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  (timestamp <span class="dv">1767685300</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  (payload</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    (release <span class="st">&quot;2.0.0&quot;</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    (archive-uri <span class="st">&quot;/releases/vault-2.0.0.archive&quot;</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    (hash <span class="st">&quot;sha512:...&quot;</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>    (signature <span class="st">&quot;ed25519:...&quot;</span>))</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  (signature #<span class="op">${</span>ed25519-sig<span class="op">}</span>))</span></code></pre></div>
<hr />
<h2 id="transport-bindings">Transport Bindings</h2>
<h3 id="git-transport">Git Transport</h3>
<pre><code>Origin: git@github.com:alice/vault.git
Mechanism: Tags + release assets

Announce: git push origin v2.0.0
Request:  git fetch origin --tags
Sync:     git fetch origin &amp;&amp; git push origin</code></pre>
<h3 id="http-transport">HTTP Transport</h3>
<pre><code>Endpoint: https://alice.example.com/federation

Announce: POST /federation/announce
Request:  GET /federation/releases/2.0.0
Sync:     POST /federation/sync</code></pre>
<h3 id="filesystem-transport">Filesystem Transport</h3>
<pre><code>Path: /shared/federation/alice

Announce: Copy to /shared/federation/alice/announce/
Request:  Read from /shared/federation/alice/releases/
Sync:     rsync --update</code></pre>
<hr />
<h2 id="conflict-resolution">Conflict Resolution</h2>
<h3 id="version-conflicts">Version Conflicts</h3>
<p>Same version, different content:</p>
<div class="sourceCode" id="cb16"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>(federation-conflict</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  (version <span class="st">&quot;2.0.0&quot;</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  (local-hash <span class="st">&quot;sha512:abc...&quot;</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  (remote-hash <span class="st">&quot;sha512:def...&quot;</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  (resolution reject))  <span class="co">; Or: prefer-local, prefer-remote, rename</span></span></code></pre></div>
<p>Default: Reject conflicts, require human decision.</p>
<h3 id="resolution-strategies">Resolution Strategies</h3>
<ol type="1">
<li><strong>Reject</strong>: Stop sync, alert human</li>
<li><strong>Prefer-local</strong>: Keep local version</li>
<li><strong>Prefer-remote</strong>: Take remote version</li>
<li><strong>Rename</strong>: Keep both as 2.0.0-local, 2.0.0-remote</li>
<li><strong>Merge</strong>: If content mergeable (future)</li>
</ol>
<hr />
<h2 id="consistency-model">Consistency Model</h2>
<h3 id="eventual-consistency">Eventual Consistency</h3>
<ul>
<li>No global ordering required</li>
<li>Each peer has local view</li>
<li>Convergence through sync</li>
<li>Conflicts resolved locally</li>
</ul>
<h3 id="causal-ordering">Causal Ordering</h3>
<p>Within a peer’s releases: - Version numbers are monotonic - Audit
trail provides causality - Hash chains prevent reordering</p>
<h3 id="no-coordination">No Coordination</h3>
<ul>
<li>No consensus protocol required</li>
<li>No distributed lock</li>
<li>No leader election</li>
<li>Each peer autonomous</li>
</ul>
<hr />
<h2 id="security-considerations">Security Considerations</h2>
<h3 id="threat-model">Threat Model</h3>
<p><strong>Protected:</strong> - Unauthenticated release injection
(signature verification) - Content tampering (hash verification) -
Impersonation (SPKI principal binding) - Replay attacks (timestamps,
sequence numbers)</p>
<p><strong>Not protected:</strong> - Denial of service (rate limiting
helps) - Privacy of release metadata (encrypted transport helps) - Sybil
attacks (trust management helps)</p>
<h3 id="trust-verification">Trust Verification</h3>
<div class="sourceCode" id="cb17"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(<span class="ex">define</span><span class="fu"> </span>(<span class="fu">verify-peer-message </span>msg peer-key)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  (<span class="kw">and</span> (verify-signature msg peer-key)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>       (verify-timestamp msg (current-seconds))</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>       (verify-not-replayed msg)))</span></code></pre></div>
<h3 id="rate-limiting">Rate Limiting</h3>
<div class="sourceCode" id="cb18"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>(federation-config</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  (rate-limit</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    (announcements-per-hour <span class="dv">10</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    (requests-per-minute <span class="dv">60</span>)</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>    (sync-interval-minimum <span class="dv">300</span>)))</span></code></pre></div>
<hr />
<h2 id="gossip-protocol-future">Gossip Protocol (Future)</h2>
<p>For larger networks:</p>
<pre><code>Alice announces to Bob and Carol
Bob announces to Dave and Eve
Eve announces to Frank

Result: Epidemic spread without central broadcast</code></pre>
<p>Properties: - Logarithmic propagation time - Resilient to node
failures - No single bottleneck</p>
<hr />
<h2 id="bootstrap-procedure">Bootstrap Procedure</h2>
<h3 id="new-peer-joining">New Peer Joining</h3>
<ol type="1">
<li>Generate keypair</li>
<li>Register with known peer</li>
<li>Exchange public keys (out-of-band verification)</li>
<li>Initial sync to get current releases</li>
<li>Begin participating in federation</li>
</ol>
<h3 id="network-partitions">Network Partitions</h3>
<ul>
<li>Partitions heal automatically on reconnection</li>
<li>Conflicting releases detected and flagged</li>
<li>Audit trails show partition history</li>
</ul>
<hr />
<h2 id="configuration">Configuration</h2>
<div class="sourceCode" id="cb20"><pre
class="sourceCode scheme"><code class="sourceCode scheme"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>(federation-config</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">;; Identity</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  (identity my-private-key)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">;; Peers</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  (peers</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>    (peer <span class="st">&quot;alice&quot;</span> uri: <span class="st">&quot;git@github.com:alice/vault.git&quot;</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>                  key: alice-pubkey</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>                  trust: verified)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>    (peer <span class="st">&quot;bob&quot;</span>   uri: <span class="st">&quot;/shared/bob-vault&quot;</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>                  key: bob-pubkey</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>                  trust: known))</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>  <span class="co">;; Policies</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>  (auto-sync <span class="dv">#t</span>)</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a>  (sync-interval <span class="dv">3600</span>)  <span class="co">; seconds</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>  (verify-before-accept <span class="dv">#t</span>)</span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">;; Security</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>  (require-signature <span class="dv">#t</span>)</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>  (trust-on-first-use <span class="dv">#f</span>))</span></code></pre></div>
<hr />
<h2 id="implementation-status">Implementation Status</h2>
<h3 id="implemented-rfc-001">Implemented (RFC-001)</h3>
<ul>
<li>seal-publish: Push to single remote</li>
<li>seal-subscribe: Pull from single remote</li>
<li>seal-synchronize: Bidirectional with single peer</li>
<li>Transport: git, HTTP, filesystem</li>
</ul>
<h3 id="proposed-this-rfc">Proposed (This RFC)</h3>
<ul>
<li>Multi-peer management</li>
<li>Trust levels and policies</li>
<li>Announcement protocol</li>
<li>Gossip propagation</li>
<li>Conflict resolution UI</li>
</ul>
<hr />
<h2 id="references">References</h2>
<ol type="1">
<li>Birman, K. (2007). The Promise, and Limitations, of Gossip
Protocols.</li>
<li>Demers, A., et al. (1987). Epidemic Algorithms for Replicated
Database Maintenance.</li>
<li>Shapiro, M., et al. (2011). Conflict-Free Replicated Data
Types.</li>
<li>RFC-001: Replication Layer</li>
<li>RFC-004: SPKI Authorization</li>
</ol>
<hr />
<h2 id="changelog">Changelog</h2>
<ul>
<li><strong>2026-01-06</strong> - Initial specification</li>
</ul>
<hr />
<p><strong>Implementation Status:</strong> Partial (replication layer
complete) <strong>Protocol Status:</strong> Proposed <strong>Next
Steps:</strong> Multi-peer management, gossip propagation</p>
</body>
</html>
