%!PS-Adobe-3.0
%%Creator: groff version 1.23.0
%%CreationDate: Thu Jan  8 15:17:54 2026
%%DocumentNeededResources: font Times-Roman
%%DocumentSuppliedResources: procset grops 1.23 0
%%Pages: 6
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.23 0
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
% The ASCII code of the space character.
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
% name size font SF -
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
% name a c d font MF -
/MF{
findfont
[5 2 roll
0 3 1 roll % b
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
% Enable manual feed.
% MANUAL -
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
% Guess the page length.
% This assumes that the imageable area is vertically centered on the page.
% PLG - length
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
% BP -
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
% centerx centery radius startangle endangle DA -
/DA{
newpath arcn stroke
}bind def
% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even
/DL{
SN
moveto
SN
lineto stroke
}bind def
% centerx centery radius DC -
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
%  width height centerx centery DE -
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
% these are for splines
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
% fill the last path
% r g b Fr -
/Fr{
setrgbcolor fill
}bind def
% c m y k Fk -
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
% g Fg -
/Fg{
setgray fill
}bind def
% fill with the "current color"
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
% new_font_name encoding_vector old_font_name RE -
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
% hpos vpos EBEGIN -
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
% llx lly newwid wid newht ht newllx newlly PBEGIN -
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
% set the graphics state to default values
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
%
%  Any included setpagedevice should be ignored.
%  See: http://www.w-beer.de/doc/ps/.
%
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(RFC-038: Local Inference Inte)72 12 Q(gration)
-.15 E(Status: Draft Created: 2026-01-07 Authors: Library of Cyberspace\
 Contrib)72 36 Q(utors)-.2 E(------------------------------------------\
------------------------------------)72 60 Q(Abstract)72 84 Q .93
(This RFC speci\214es ho)72 108 R 3.43(wL)-.25 G .93
(ibrary of Cyberspace agents inte)-3.43 F .93(grate with local lar)-.15
F .93(ge language model \(LLM\) inference)-.18 F(back)72 120 Q .391
(ends. Local inference enables pri)-.1 F -.25(va)-.25 G -.15(cy).25 G
.391(-preserving agent operations without e).15 F .391
(xternal API dependencies, support-)-.15 F(ing the self-so)72 132 Q -.15
(ve)-.15 G(reign architecture of the Library).15 E(.[1])-.65 E(--------\
----------------------------------------------------------------------)
72 156 Q(Moti)72 180 Q -.25(va)-.25 G(tion).25 E(Agents in the Library \
of Cyberspace require language understanding and generation capabilitie\
s for:)72 204 Q 3.166(-D)72 228 S .666(ocument summarization and inde)
-3.166 F .666(xing - Natural language query translation \(RFC-025\) - C\
ontent annotation and)-.15 F(metadata e)72 240 Q(xtraction - Inter)-.15
E(-agent communication in natural language)-.2 E
(External API dependencies \(OpenAI, Anthropic, etc.\) introduce:)72 264
Q 2.854(1. Pri)72 288 R -.25(va)-.25 G .654 -.15(cy l).25 H .354
(eakage \342 document content lea).15 F -.15(ve)-.2 G 2.854(st).15 G
.354(he realm 2.)-2.854 F -1.27 -.74(Av a)5.354 H .354
(ilability risk \342 netw).74 F .354(ork partitions break agent opera-)
-.1 F(tion 3.)72 300 Q
(Cost unpredictability \342 metered APIs scale poorly 4.)5 E -1.11(Ve)5
G(ndor lock-in \342 proprietary formats and rate limits)1.11 E
(Local inference eliminates these concerns while maintaining capability)
72 324 Q(.[2])-.65 E(--------------------------------------------------\
----------------------------)72 348 Q(Architecture)72 372 Q(Inference T)
72 396 Q(opology)-.8 E -.8(Ta)72 420 S(ble 1: Inference Deplo).8 E
(yment Models)-.1 E 20(Model Description)77 444 R(Use Case)52.5 E(-----\
-------- ------------------------------- -----------------------------)
77 456 Q 5(Realm-local Inference)77 468 R(serv)2.5 E(er within realm)
-.15 E(Def)7.5 E(ault, pri)-.1 E -.25(va)-.25 G -.15(cy).25 G
(-preserving).15 E 7.5(Node-local Per)77 480 R(-node inference)-.2 E
(Edge agents, mobile)35 E 10(Federated Shared)77 492 R
(across trusted realms)2.5 E(Resource pooling)10 E<e2e2e2e2e2e2e2e2e2e2
e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2
e2e2e2e2e2e2e2e2e2>82 516 Q 55<e252>82 528 S 62.5(ealm \342)-55 F 5
<e2e2>82 540 S 7.5<e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2
e220e2e2e2e2e2e2e2e2e2e2e2e2e2>-5 F<e2>5 E 5<e2e241>82 552 S 2.5
<67656e7420e2e2e2e2e2b6e2>-5 F 2.5<496e666572656e636520e2e2e2e2e2b6e2>
7.5 F 5(Model \342)7.5 F<e2>5 E 10 5<e2e220e2>82 564 T 7.5
<e2e2e2e2e22053657276>-5 F 7.5<657220e2e2e2e2e2e2>-.15 F -.8(We)5 G 2.5
(ights \342 \342).8 F 5<e2e2>82 576 S 7.5<e2e2e2e2e2e2e2e2e2e220e2e2e2e2
e2e2e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2>-5 F<e2>5 E -2.5
17.5<e2e2203a>82 588 T 32.5(11434 \342)-17.5 F<e2>25 E 17.5<e2e2>82 600
S 85<bce2>-17.5 G 25<bce2>-85 G 5<e2e2>82 612 S 52.5
<e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2>-5 F<e2>10 E 5<e2e256>
82 624 S 2.5(ault \342)-6.11 F 7.5<e256>55 G 7.5(RAM \342 \342)-7.5 F 5
<e2e2>82 636 S 52.5<e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2>-5
F<e2>10 E<e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2
e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2>82 648 Q(Protocol)72
672 Q(Agents communicate with inference serv)72 696 Q
(ers via HTTP REST API.[3])-.15 E(Disco)72 720 Q -.15(ve)-.15 G(ry:).15
E(\(de\214ne \(disco)82 744 Q -.15(ve)-.15 G -.2(r-).15 G
(inference-serv).2 E(er\))-.15 E(;; Check well-kno)87 756 Q
(wn locations)-.25 E(\(or \(probe "http://localhost:11434"\))87 768 Q
2.5(;O)15 G(llama def)-2.5 E(ault)-.1 E
(\(probe "http://localhost:8080"\))97 780 Q 2.5(;l)17.5 G(lama.cpp)-2.5
E(\(probe \(realm-con\214g 'inference-url\)\) ; Con\214gured)97 792 Q 0
Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 85(#f\)\) ;)97 12 R(None a)2.5 E -.25(va)-.2 G
(ilable).25 E(Capability Ne)72 36 Q(gotiation:)-.15 E(\(de\214ne \(ne)82
60 Q(gotiate-capabilities serv)-.15 E(er\))-.15 E
(\(let \(\(models \(http-get \(string-append serv)87 72 Q
(er "/api/tags"\)\)\)\))-.15 E(\(map \(lambda \(m\))92 84 Q
(`\(\(name . ,\(alist-ref 'name m\)\))109.5 96 Q
(\(parameters . ,\(alist-ref ')114.5 108 Q(size m\)\))-.55 E(\(conte)
114.5 120 Q(xt-length . ,\(model-conte)-.15 E(xt-length m\)\))-.15 E
(\(capabilities . ,\(model-capabilities m\)\)\)\))114.5 132 Q
(models\)\)\))104.5 144 Q -.8(Ta)72 168 S(ble 2: Model Capabilities).8 E
5(Capability Description)77 192 R(Example Models)37.5 E
(------------ ------------------------- -------------------------)77 204
Q 5(completion T)77 216 R -.15(ex)-.7 G 2.5(tg).15 G 25(eneration All)
-2.5 F 20(chat Multi-turn)77 228 R(con)2.5 E -.15(ve)-.4 G 5
(rsation Llama).15 F(3, Mistral)2.5 E 7.5(embedding V)77 240 R
(ector embeddings)-1.11 E(nomic-embed, mxbai)22.5 E 20(code Code)77 252
R 25(generation CodeLlama,)2.5 F(DeepSeek)2.5 E 15(vision Image)77 264 R
15(understanding LLaV)2.5 F(A, Llama 3.2 V)-1.35 E(ision)-.6 E(--------\
----------------------------------------------------------------------)
72 288 Q(Agent Inte)72 312 Q(gration)-.15 E(Scribe Agent)72 336 Q
(The scribe agent uses local inference for document processing:[4])72
360 Q(\(de\214ne \(scribe-summarize document\))82 384 Q(\(let* \(\(serv)
87 396 Q(er \(disco)-.15 E -.15(ve)-.15 G -.2(r-).15 G(inference-serv).2
E(er\)\))-.15 E(\(model \(select-model serv)104.5 408 Q
(er 'completion\)\))-.15 E(\(prompt \(format "Summarize the follo)104.5
420 Q(wing document:0a")-.25 E(\(document-content document\)\)\)\))144.5
432 Q(\(inference-complete serv)92 444 Q(er model prompt)-.15 E
('\(\(max-tok)142 456 Q(ens . 500\))-.1 E(\(temperature . 0.3\)\)\)\)\))
147 468 Q(\(de\214ne \(scribe-inde)82 492 Q 2.5(xd)-.15 G(ocument\))-2.5
E(;; Extract k)87 504 Q -.15(ey)-.1 G -.1(wo).15 G
(rds using local inference).1 E(\(let* \(\(serv)87 516 Q(er \(disco)-.15
E -.15(ve)-.15 G -.2(r-).15 G(inference-serv).2 E(er\)\))-.15 E
(\(model \(select-model serv)104.5 528 Q(er 'completion\)\))-.15 E
(\(prompt \(format "Extract 5-10 k)104.5 540 Q -.15(ey)-.1 G -.1(wo).15
G(rds from:0a").1 E(\(document-content document\)\)\)\))144.5 552 Q
(\(parse-k)92 564 Q -.15(ey)-.1 G -.1(wo).15 G
(rds \(inference-complete serv).1 E(er model prompt\)\)\)\))-.15 E
(Query T)72 588 Q(ranslation)-.35 E
(Natural language queries translate to RFC-025 query language:)72 612 Q
(\(de\214ne \(nl-to-query natural-language\))82 636 Q(\(let* \(\(serv)87
648 Q(er \(disco)-.15 E -.15(ve)-.15 G -.2(r-).15 G(inference-serv).2 E
(er\)\))-.15 E(\(model \(select-model serv)104.5 660 Q(er 'chat\)\))-.15
E(\(system "Y)104.5 672 Q
(ou translate natural language to Cyberspace query)-1.1 E
(language. Output only the query)127 684 Q 2.5(,n)-.65 G 2.5(oe)-2.5 G
(xplanation."\))-2.65 E(\(e)104.5 696 Q
(xamples '\(\("\214nd all RFCs about security")-.15 E
("\(query \(type rfc\) \(topic security\)\)"\))137 708 Q
(\("documents modi\214ed last week")134.5 720 Q
("\(query \(modi\214ed \(after \(days-ago 7\)\)\)\)"\)\)\)\))137 732 Q
(\(inference-chat serv)92 744 Q(er model system e)-.15 E
(xamples natural-language\)\)\))-.15 E(Demonic Agent Inference)72 768 Q
(Sandbox)72 792 Q
(ed agents \(RFC-023\) access inference through capability tok)-.15 E
(ens:[5])-.1 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(de\214ne \(demonic-inference agent prompt\))82
24 Q(\(let \(\(cap \(agent-capability agent 'inference\)\)\))87 36 Q
(\(if \(not cap\))92 48 Q
(\(error 'unauthorized "Agent lacks inference capability"\))102 60 Q
(\(let \(\(limits \(capability-limits cap\)\)\))102 72 Q
(\(enforce-limits limits\))107 84 Q
(\(inference-complete \(capability-serv)107 96 Q(er cap\))-.15 E
(\(capability-model cap\))157 108 Q(prompt)157 120 Q(limits\)\)\)\)\))
157 132 Q(-------------------------------------------------------------\
-----------------)72 156 Q(Resource Management)72 180 Q(VRAM Allocation)
72 204 Q -.8(Ta)72 228 S(ble 3: Model Size Guidelines).8 E -.15(Pa)77
252 S 5(rameters VRAM).15 F 5(\(Q4\) VRAM)2.5 F 5(\(FP16\) Conte)2.5 F
(xt)-.15 E(------------ ----------- ------------- ---------)77 264 Q 25
(7B 4)77 276 R 17.5(GB 14)2.5 F 20(GB 8K)2.5 F 22.5(13B 8)77 288 R 17.5
(GB 26)2.5 F 20(GB 8K)2.5 F 22.5(34B 20)77 300 R 15(GB 68)2.5 F 20
(GB 16K)2.5 F 22.5(70B 40)77 312 R 15(GB 140)2.5 F 17.5(GB 32K)2.5 F
(Rate Limiting)72 336 Q(Local inference is limited by hardw)72 360 Q
(are, not API quotas. Realms implement f)-.1 E
(air scheduling across agents:[6])-.1 E
(\(de\214ne \(inference-rate-limit agent tok)82 384 Q(ens\))-.1 E
(\(let \(\(b)87 396 Q(uck)-.2 E(et \(agent-tok)-.1 E(en-b)-.1 E(uck)-.2
E(et agent\)\)\))-.1 E(\(if \(b)92 408 Q(uck)-.2 E(et-consume b)-.1 E
(uck)-.2 E(et tok)-.1 E(ens\))-.1 E(#t)102 420 Q(\(be)102 432 Q(gin)-.15
E(\(agent-w)107 444 Q(ait agent \(b)-.1 E(uck)-.2 E(et-re\214ll-time b)
-.1 E(uck)-.2 E(et\)\))-.1 E(\(inference-rate-limit agent tok)107 456 Q
(ens\)\)\)\)\))-.1 E -.15(Fa)72 480 S(llback Beha).15 E(vior)-.2 E
(When local inference is una)72 504 Q -.25(va)-.2 G(ilable:).25 E 2.814
(1. Queue)72 528 R 2.814<e262>2.814 G(uf)-3.014 E .314
(fer requests for later processing 2.)-.25 F(De)5.314 E .313
(grade \342 use simpler heuristics \(k)-.15 F -.15(ey)-.1 G -.1(wo).15 G
.313(rd e).1 F .313(xtraction vs.\302 LLM\))-.15 F 2.5(3. Federate)72
540 R 2.5<e272>2.5 G(equest inference from trusted peer realm 4.)-2.5 E
-.15(Fa)5 G(il \342 return error to requesting agent).15 E
(\(de\214ne \(inference-with-f)82 564 Q(allback serv)-.1 E
(er model prompt\))-.15 E(\(or \(try-inference serv)87 576 Q
(er model prompt\))-.15 E(\(try-queued-inference prompt\))97 588 Q
(\(try-de)97 600 Q(graded-processing prompt\))-.15 E
(\(try-federated-inference prompt\))97 612 Q(\(error 'inference-una)97
624 Q -.25(va)-.2 G(ilable\)\)\)).25 E(--------------------------------\
----------------------------------------------)72 648 Q
(Security Considerations)72 672 Q(Prompt Injection)72 696 Q
(Agents MUST sanitize document content before inclusion in prompts:[7])
72 720 Q(\(de\214ne \(safe-prompt template document\))82 744 Q
(\(let \(\(sanitized \(sanitize-for)87 756 Q
(-prompt \(document-content document\)\)\)\))-.2 E
(\(format template sanitized\)\)\))92 768 Q(\(de\214ne \(sanitize-for)82
792 Q(-prompt te)-.2 E(xt\))-.15 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(;; Remo)87 12 Q .3 -.15(ve i)-.15 H
(nstruction-lik).15 E 2.5(ep)-.1 G(atterns)-2.5 E(\(re)87 24 Q(ge)-.15 E
(xp-replace-all)-.15 E('\("ignore pre)92 36 Q(vious" "disre)-.25 E -.05
(ga)-.15 G(rd" "ne).05 E 2.5(wi)-.25 G(nstructions" "system:"\))-2.5 E
(te)92 48 Q(xt)-.15 E("[RED)92 60 Q -.4(AC)-.4 G(TED]"\)\)).4 E
(Model Pro)72 84 Q -.15(ve)-.15 G(nance).15 E(Realms SHOULD v)72 108 Q
(erify model checksums before loading:[8])-.15 E(\(de\214ne \(v)82 132 Q
(erify-model model-path e)-.15 E(xpected-hash\))-.15 E
(\(let \(\(actual-hash \(sha256-\214le model-path\)\)\))87 144 Q
(\(unless \(equal? actual-hash e)92 156 Q(xpected-hash\))-.15 E
(\(error 'model-v)97 168 Q(eri\214cation-f)-.15 E(ailed)-.1 E
("Model checksum mismatch"\)\)\)\))114.5 180 Q(Inference Isolation)72
204 Q(Sensiti)72 228 Q .3 -.15(ve d)-.25 H
(ocuments require isolated inference conte).15 E(xts:)-.15 E 3.069(-S)72
252 S .569(eparate model instances per security domain - Clear KV cache\
 between requests from dif)-3.069 F .57(ferent agents - No per)-.25 F(-)
-.2 E(sistent memory across security boundaries)72 264 Q(--------------\
----------------------------------------------------------------)72 288
Q(Ollama Inte)72 312 Q(gration)-.15 E
(Ollama is the reference implementation for local inference.[9])72 336 Q
(Installation)72 360 Q 2.5(#m)82 384 S(acOS / Linux)-2.5 E
(curl -fsSL https://ollama.com/install.sh | sh)82 396 Q 2.5(#V)82 420 S
(erify)-3.61 E(ollama --v)82 432 Q(ersion)-.15 E(Model Management)72 456
Q 2.5(#P)82 480 S(ull models)-2.5 E(ollama pull llama3)82 492 Q
(ollama pull nomic-embed-te)82 504 Q(xt)-.15 E 2.5(#L)82 528 S(ist a)
-2.5 E -.25(va)-.2 G(ilable).25 E(ollama list)82 540 Q 2.5(#R)82 564 S
(emo)-2.5 E -.15(ve)-.15 G(ollama rm unused-model)82 576 Q
(API Endpoints)72 600 Q -.8(Ta)72 624 S(ble 4: Ollama API Endpoints).8 E
22.5(Endpoint Method)77 648 R(Purpose)7.5 E
(----------------- -------- -------------------)77 660 Q 10
(/api/generate POST T)77 672 R -.15(ex)-.7 G 2.5(tc).15 G(ompletion)-2.5
E 20(/api/chat POST)77 684 R(Multi-turn chat)12.5 E 5
(/api/embeddings POST)77 696 R -1.11(Ve)12.5 G(ctor embeddings)1.11 E 20
(/api/tags GET)77 708 R(List models)15 E(/api/sho)77 720 Q 22.5(wP)-.25
G 10(OST Model)-22.5 F(details)2.5 E(Scheme Bindings)72 744 Q
(\(de\214ne ollama-base "http://localhost:11434"\))82 768 Q
(\(de\214ne \(ollama-generate model prompt #!k)82 792 Q .3 -.15(ey \()
-.1 H(options '\(\)\)\)).15 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF
(\(http-post \(string-append ollama-base "/api/generate"\))87 12 Q
(`\(\(model . ,model\))114.5 24 Q(\(prompt . ,prompt\))119.5 36 Q
(\(stream . #f\))119.5 48 Q(,@options\)\)\))119.5 60 Q
(\(de\214ne \(ollama-chat model messages #!k)82 84 Q .3 -.15(ey \()-.1 H
(options '\(\)\)\)).15 E
(\(http-post \(string-append ollama-base "/api/chat"\))87 96 Q
(`\(\(model . ,model\))114.5 108 Q(\(messages . ,messages\))119.5 120 Q
(\(stream . #f\))119.5 132 Q(,@options\)\)\))119.5 144 Q
(\(de\214ne \(ollama-embed model te)82 168 Q(xt\))-.15 E
(\(http-post \(string-append ollama-base "/api/embeddings"\))87 180 Q
(`\(\(model . ,model\))114.5 192 Q(\(prompt . ,te)119.5 204 Q
(xt\)\)\)\))-.15 E(----------------------------------------------------\
--------------------------)72 228 Q(Compatibility)72 252 Q(Alternati)72
276 Q .3 -.15(ve B)-.25 H(ack).15 E(ends)-.1 E(The protocol supports an)
72 300 Q 2.5(yO)-.15 G(penAI-compatible inference serv)-2.5 E(er:)-.15 E
3.228(-l)72 324 S .728(lama.cpp \342 serv)-3.228 F .728
(er binary with --host \215ag - vLLM \342 production serving with P)-.15
F .727(agedAttention - LocalAI \342 drop-in)-.15 F
(OpenAI replacement - LM Studio \342 GUI with serv)72 336 Q(er mode)-.15
E(Cloud F)72 360 Q(allback)-.15 E -.15(Fo)72 384 S 2.521(rr).15 G .021
(ealms without local GPU resources, cloud inference MA)-2.521 F 2.521
(Yb)-1.05 G 2.521(eu)-2.521 G .021(sed as f)-2.521 F .021
(allback with e)-.1 F .021(xplicit user consent and en-)-.15 F
(cryption:)72 396 Q(\(de\214ne \(cloud-inference-f)82 420 Q
(allback prompt\))-.1 E(\(when \(user)87 432 Q
(-consent? 'cloud-inference\))-.2 E(\(let \(\(encrypted \(encrypt-for)92
444 Q(-cloud prompt\)\)\))-.2 E(;; Use cloud API with encrypted prompt)
97 456 Q(;; Decrypt response locally)97 468 Q(\)\)\))97 480 Q
(This is NO)72 504 Q 2.5(TR)-.4 G(ECOMMENDED for sensiti)-2.5 E .3 -.15
(ve d)-.25 H(ocuments.).15 E(------------------------------------------\
------------------------------------)72 528 Q(References)72 552 Q 2.794
(1. RFC-023:)72 576 R .294(Demonic Agent Sandboxing 2.)2.794 F .294
(RFC-025: Query Language 3.)5.294 F .293
(RFC-035: Mobile Agents and Pub/Sub)5.293 F 2.5(4. Ollama)72 588 R
(Documentation: https://ollama.com/ 5.)2.5 E(Le)5 E
(wis et al., \342Retrie)-.25 E -.25(va)-.25 G
(l-Augmented Generation\342 \(2020\)).25 E(----------------------------\
--------------------------------------------------)72 612 Q(Changelog)72
636 Q 2.5(-2)72 660 S(026-01-07 - Initial speci\214cation)-2.5 E(------\
-----------------------------------------------------------------------\
-)72 684 Q(Implementation Status: Draft)72 708 Q .438([1] Historical: T\
he tension between local and remote computation echoes the mainframe-to\
-PC transition. Local in-)72 732 R(ference returns agenc)72 744 Q 2.5
(yt)-.15 G 2.5(ot)-2.5 G(he edge, re)-2.5 E -.15(ve)-.25 G
(rsing decades of cloud centralization.).15 E .635([2] Design: W)72 768
R 3.134(ed)-.8 G .634(eliberately a)-3.134 F -.2(vo)-.2 G .634
(id specifying model architectures. The interf).2 F .634
(ace is model-agnostic\342agents ne)-.1 F(gotiate)-.15 E
(capabilities at runtime.)72 780 Q 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.607([3] Implementation: Ollama e)72 12 R 2.607
(xposes an OpenAI-compatible API at /v1/chat/completions and a nati)-.15
F 2.907 -.15(ve A)-.25 H 2.607(PI at).15 F(/api/generate. W)72 24 Q 2.5
(es)-.8 G(pecify both for maximum compatibility)-2.5 E(.)-.65 E 1.855
([4] Research: Retrie)72 48 R -.25(va)-.25 G 1.855
(l-augmented generation \(RA).25 F 1.855
(G\) combines local inference with v)-.4 F 1.855(ault content retrie)
-.25 F -.25(va)-.25 G 1.855(l. See).25 F(Le)72 60 Q
(wis et al., \342Retrie)-.25 E -.25(va)-.25 G
(l- Augmented Generation for Kno).25 E(wledge-Intensi)-.25 E .3 -.15
(ve N)-.25 H(LP T).15 E(asks\342 \(2020\).)-.8 E .097
([5] Design: Inference capability is granted lik)72 84 R 2.597(ea)-.1 G
.397 -.15(ny o)-2.597 H .097
(ther\342via SPKI certi\214cate. An agent cannot infer without e).15 F
(xplicit)-.15 E(authorization.)72 96 Q .56([6] Implementation: T)72 120
R(ok)-.8 E .56(en b)-.1 F(uck)-.2 E .56(et algorithm with per)-.1 F .56
(-agent quotas. Pre)-.2 F -.15(ve)-.25 G .56
(nts single agent from monopolizing infer).15 F(-)-.2 E(ence resources.)
72 132 Q .741([7] Research: Prompt injection attacks embed malicious in\
structions in user content. See Perez & Ribeiro, \342Ignore)72 156 R
(This T)72 168 Q(itle and HackAPrompt\342 \(2023\).)-.35 E 1.819
([8] Design: Model weights can contain backdoors. V)72 192 R 1.818
(eri\214cation ag)-1.11 F 1.818(ainst kno)-.05 F 1.818
(wn-good checksums pre)-.25 F -.15(ve)-.25 G 1.818(nts supply).15 F
(chain attacks.)72 204 Q 1.512([9] Historical: Ollama follo)72 228 R
1.512(ws the Unix philosoph)-.25 F 1.512
(y\342do one thing well. It manages models and serv)-.05 F 1.512
(es inference.)-.15 F(Nothing more.)72 240 Q 0 Cg EP
%%Trailer
end
%%EOF
