%!PS-Adobe-3.0
%%Creator: groff version 1.23.0
%%CreationDate: Fri Jan  9 11:29:13 2026
%%DocumentNeededResources: font Times-Roman
%%DocumentSuppliedResources: procset grops 1.23 0
%%Pages: 5
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.23 0
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
% The ASCII code of the space character.
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
% name size font SF -
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
% name a c d font MF -
/MF{
findfont
[5 2 roll
0 3 1 roll % b
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
% Enable manual feed.
% MANUAL -
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
% Guess the page length.
% This assumes that the imageable area is vertically centered on the page.
% PLG - length
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
% BP -
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
% centerx centery radius startangle endangle DA -
/DA{
newpath arcn stroke
}bind def
% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even
/DL{
SN
moveto
SN
lineto stroke
}bind def
% centerx centery radius DC -
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
%  width height centerx centery DE -
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
% these are for splines
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
% fill the last path
% r g b Fr -
/Fr{
setrgbcolor fill
}bind def
% c m y k Fk -
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
% g Fg -
/Fg{
setgray fill
}bind def
% fill with the "current color"
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
% new_font_name encoding_vector old_font_name RE -
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
% hpos vpos EBEGIN -
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
% llx lly newwid wid newht ht newllx newlly PBEGIN -
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
% set the graphics state to default values
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
%
%  Any included setpagedevice should be ignored.
%  See: http://www.w-beer.de/doc/ps/.
%
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(RFC-038: Local Inference Inte)72 12 Q(gration)
-.15 E(**Status:** Draft **Created:** 2026-01-07 **Authors:** Library o\
f Cyberspace Contrib)72 36 Q(utors)-.2 E(---)72 60 Q(Abstract)72 84 Q
.93(This RFC speci\214es ho)72 108 R 3.43(wL)-.25 G .93
(ibrary of Cyberspace agents inte)-3.43 F .93(grate with local lar)-.15
F .93(ge language model \(LLM\) inference)-.18 F(back)72 120 Q .391
(ends. Local inference enables pri)-.1 F -.25(va)-.25 G -.15(cy).25 G
.391(-preserving agent operations without e).15 F .391
(xternal API dependencies, support-)-.15 F(ing the self-so)72 132 Q -.15
(ve)-.15 G(reign architecture of the Library).15 E(.[^h1])-.65 E .664([\
^h1]: Historical: The tension between local and remote computation echo\
es the mainframe-to-PC transition. Local)72 156 R
(inference returns agenc)72 168 Q 2.5(yt)-.15 G 2.5(ot)-2.5 G
(he edge, re)-2.5 E -.15(ve)-.25 G
(rsing decades of cloud centralization.).15 E(---)72 192 Q(Moti)72 216 Q
-.25(va)-.25 G(tion).25 E(Agents in the Library of Cyberspace require l\
anguage understanding and generation capabilities for:)72 240 Q 3.165
(-D)72 264 S .665(ocument summarization and inde)-3.165 F .666(xing - N\
atural language query translation \(RFC-025\) - Content annotation and)
-.15 F(metadata e)72 276 Q(xtraction - Inter)-.15 E
(-agent communication in natural language)-.2 E
(External API dependencies \(OpenAI, Anthropic, etc.\) introduce:)72 300
Q 1.548(1. **Pri)72 324 R -.25(va)-.25 G 1.848 -.15(cy l).25 H 1.548
(eakage** \342 document content lea).15 F -.15(ve)-.2 G 4.048(st).15 G
1.548(he realm 2. **A)-4.048 F -.25(va)-.74 G 1.548
(ilability risk** \342 netw).25 F 1.548(ork partitions break)-.1 F .719
(agent operation 3. **Cost unpredictability** \342 metered APIs scale p\
oorly 4. **V)72 336 R .719(endor lock-in** \342 proprietary for)-1.11 F
(-)-.2 E(mats and rate limits)72 348 Q
(Local inference eliminates these concerns while maintaining capability)
72 372 Q(.[^d1])-.65 E .195([^d1]: Design: W)72 396 R 2.694(ed)-.8 G
.194(eliberately a)-2.694 F -.2(vo)-.2 G .194
(id specifying model architectures.).2 F .194(The interf)5.194 F .194
(ace is model-agnostic\342agents ne)-.1 F(goti-)-.15 E
(ate capabilities at runtime.)72 408 Q(---)72 432 Q(Architecture)72 456
Q(Inference T)72 480 Q(opology)-.8 E(*T)72 504 Q
(able 1: Inference Deplo)-.8 E(yment Models*)-.1 E 2.747(|M)72 528 S
.248(odel | Description | Use Case | |-------|-------------|----------|\
 | Realm-local | Inference serv)-2.747 F .248(er within realm | Def)-.15
F(ault,)-.1 E(pri)72 540 Q -.25(va)-.25 G -.15(cy).25 G 1.371
(-preserving | | Node-local | Per).15 F 1.37(-node inference | Edge age\
nts, mobile | | Federated | Shared across trusted)-.2 F
(realms | Resource pooling |)72 552 Q 11.152 -.74(``` \342)72 576 T
9.672<e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2
e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e220e2>.74 F 72.172(Realm \342)
64.672 F<e2>12.172 E 9.37<e2e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2
e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2>72 588 R -4.37 4.37<e2e220e22041>
6.87 H 4.37<67656e7420e2e2e2e2e2b6e2>-4.37 F 4.37
<496e666572656e636520e2e2e2e2e2b6e2>9.37 F 6.87(Model \342)9.37 F -4.37
4.37<e2e220e2>6.87 H 7.632<e2e2e2e2e2e22053657276>72 600 R 7.632
<657220e2e2e2e2e2e2>-.15 F -.8(We)5.132 G 2.632(ights \342 \342).8 F
5.132<e2e2>2.632 G 7.632<e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2
e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2>-5.132 F 9.867 2.633<e2e220e2>5.133
H(:11434)32.5 E 27.423<e2e2>72 612 S 19.923<e2e2>-22.5 G 87.423<bce2>
-19.923 G 27.422<bce2>-87.423 G 7.422<e2e2>-22.5 G 54.922
<e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2>-7.422 F -4.922 4.922
<e2e220e22056>12.422 H 4.922(ault \342)-6.032 F 37.391<e256>72 624 S
37.391(RAM \342 \342)-37.391 F 34.892<e2e2>32.391 G 82.392
<e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2>-34.892 F<e2>39.892 E<
e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2
e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e22060>72 636 Q -.74(``)-.74 G
(Protocol)72 660 Q(Agents communicate with inference serv)72 684 Q
(ers via HTTP REST API.[^i1])-.15 E 1.411
([^i1]: Implementation: Ollama e)72 708 R 1.411
(xposes an OpenAI-compatible API at `/v1/chat/completions` and a nati)
-.15 F 1.71 -.15(ve A)-.25 H 1.41(PI at).15 F(`/api/generate`. W)72 720
Q 2.5(es)-.8 G(pecify both for maximum compatibility)-2.5 E(.)-.65 E
(**Disco)72 744 Q -.15(ve)-.15 G(ry:**).15 E -.74(```)72 768 S
(scheme \(de\214ne \(disco).74 E -.15(ve)-.15 G -.2(r-).15 G
(inference-serv).2 E(er\))-.15 E(;; Check well-kno)77 780 Q
(wn locations)-.25 E(\(or \(probe "http://localhost:11434"\))77 792 Q
2.5(;O)15 G(llama def)-2.5 E(ault)-.1 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(probe "http://localhost:8080"\))87 12 Q 2.5
(;l)17.5 G(lama.cpp)-2.5 E
(\(probe \(realm-con\214g 'inference-url\)\) ; Con\214gured)87 24 Q 85
(#f\)\) ;)87 36 R(None a)2.5 E -.25(va)-.2 G(ilable `).25 E -.74(``)-.74
G(**Capability Ne)72 60 Q(gotiation:**)-.15 E -.74(```)72 84 S
(scheme \(de\214ne \(ne).74 E(gotiate-capabilities serv)-.15 E(er\))-.15
E(\(let \(\(models \(http-get \(string-append serv)77 96 Q
(er "/api/tags"\)\)\)\))-.15 E(\(map \(lambda \(m\))82 108 Q
(`\(\(name . ,\(alist-ref 'name m\)\))99.5 120 Q
(\(parameters . ,\(alist-ref ')104.5 132 Q(size m\)\))-.55 E(\(conte)
104.5 144 Q(xt-length . ,\(model-conte)-.15 E(xt-length m\)\))-.15 E
(\(capabilities . ,\(model-capabilities m\)\)\)\))104.5 156 Q
(models\)\)\) `)94.5 168 Q -.74(``)-.74 G(*T)72 192 Q
(able 2: Model Capabilities*)-.8 E 3.16(|C)72 216 S .66(apability | Des\
cription | Example Models | |------------|-------------|---------------\
-| | `completion` | T)-3.16 F -.15(ex)-.7 G 3.16(tg).15 G .66
(eneration |)-3.16 F .086(All | | `chat` | Multi-turn con)72 228 R -.15
(ve)-.4 G .086(rsation | Llama 3, Mistral | | `embedding` | V).15 F .086
(ector embeddings | nomic-embed, mxbai |)-1.11 F 2.5(|`)72 240 S(code` \
| Code generation | CodeLlama, DeepSeek | | `vision` | Image understand\
ing | LLaV)-2.5 E(A, Llama 3.2 V)-1.35 E(ision |)-.6 E(---)72 264 Q
(Agent Inte)72 288 Q(gration)-.15 E(Scribe Agent)72 312 Q
(The scribe agent uses local inference for document processing:[^r1])72
336 Q 1.068([^r1]: Research: Retrie)72 360 R -.25(va)-.25 G 1.068
(l-augmented generation \(RA).25 F 1.068
(G\) combines local inference with v)-.4 F 1.069(ault content retrie)
-.25 F -.25(va)-.25 G 1.069(l. See).25 F(Le)72 372 Q
(wis et al., "Retrie)-.25 E -.25(va)-.25 G
(l- Augmented Generation for Kno).25 E(wledge-Intensi)-.25 E .3 -.15
(ve N)-.25 H(LP T).15 E(asks" \(2020\).)-.8 E -.74(```)72 396 S
(scheme \(de\214ne \(scribe-summarize document\)).74 E(\(let* \(\(serv)
77 408 Q(er \(disco)-.15 E -.15(ve)-.15 G -.2(r-).15 G(inference-serv).2
E(er\)\))-.15 E(\(model \(select-model serv)94.5 420 Q
(er 'completion\)\))-.15 E(\(prompt \(format "Summarize the follo)94.5
432 Q(wing document:0a")-.25 E(\(document-content document\)\)\)\))134.5
444 Q(\(inference-complete serv)82 456 Q(er model prompt)-.15 E
('\(\(max-tok)132 468 Q(ens . 500\))-.1 E(\(temperature . 0.3\)\)\)\)\))
137 480 Q(\(de\214ne \(scribe-inde)72 504 Q 2.5(xd)-.15 G(ocument\))-2.5
E(;; Extract k)77 516 Q -.15(ey)-.1 G -.1(wo).15 G
(rds using local inference).1 E(\(let* \(\(serv)77 528 Q(er \(disco)-.15
E -.15(ve)-.15 G -.2(r-).15 G(inference-serv).2 E(er\)\))-.15 E
(\(model \(select-model serv)94.5 540 Q(er 'completion\)\))-.15 E
(\(prompt \(format "Extract 5-10 k)94.5 552 Q -.15(ey)-.1 G -.1(wo).15 G
(rds from:0a").1 E(\(document-content document\)\)\)\))134.5 564 Q
(\(parse-k)82 576 Q -.15(ey)-.1 G -.1(wo).15 G
(rds \(inference-complete serv).1 E(er model prompt\)\)\)\) `)-.15 E
-.74(``)-.74 G(Query T)72 600 Q(ranslation)-.35 E
(Natural language queries translate to RFC-025 query language:)72 624 Q
-.74(```)72 648 S(scheme \(de\214ne \(nl-to-query natural-language\)).74
E(\(let* \(\(serv)77 660 Q(er \(disco)-.15 E -.15(ve)-.15 G -.2(r-).15 G
(inference-serv).2 E(er\)\))-.15 E(\(model \(select-model serv)94.5 672
Q(er 'chat\)\))-.15 E(\(system "Y)94.5 684 Q
(ou translate natural language to Cyberspace query)-1.1 E
(language. Output only the query)117 696 Q 2.5(,n)-.65 G 2.5(oe)-2.5 G
(xplanation."\))-2.65 E(\(e)94.5 708 Q
(xamples '\(\("\214nd all RFCs about security")-.15 E
("\(query \(type rfc\) \(topic security\)\)"\))127 720 Q
(\("documents modi\214ed last week")124.5 732 Q
("\(query \(modi\214ed \(after \(days-ago 7\)\)\)\)"\)\)\)\))127 744 Q
(\(inference-chat serv)82 756 Q(er model system e)-.15 E
(xamples natural-language\)\)\) `)-.15 E -.74(``)-.74 G
(Demonic Agent Inference)72 780 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Sandbox)72 12 Q
(ed agents \(RFC-023\) access inference through capability tok)-.15 E
(ens:[^d2])-.1 E .48([^d2]: Design: Inference capability is granted lik)
72 36 R 2.979(ea)-.1 G .779 -.15(ny o)-2.979 H .479
(ther\342via SPKI certi\214cate. An agent cannot infer without e).15 F
(x-)-.15 E(plicit authorization.)72 48 Q -.74(```)72 72 S
(scheme \(de\214ne \(demonic-inference agent prompt\)).74 E
(\(let \(\(cap \(agent-capability agent 'inference\)\)\))77 84 Q
(\(if \(not cap\))82 96 Q
(\(error 'unauthorized "Agent lacks inference capability"\))92 108 Q
(\(let \(\(limits \(capability-limits cap\)\)\))92 120 Q
(\(enforce-limits limits\))97 132 Q
(\(inference-complete \(capability-serv)97 144 Q(er cap\))-.15 E
(\(capability-model cap\))147 156 Q(prompt)147 168 Q(limits\)\)\)\)\) `)
147 180 Q -.74(``)-.74 G(---)72 204 Q(Resource Management)72 228 Q
(VRAM Allocation)72 252 Q(*T)72 276 Q(able 3: Model Size Guidelines*)-.8
E 2.662(|P)72 300 S .162
(arameters | VRAM \(Q4\) | VRAM \(FP16\) | Conte)-2.812 F .162(xt | |--\
----------|-----------|-------------|---------| | 7B | 4 GB | 14 GB |)
-.15 F(8K | | 13B | 8 GB | 26 GB | 8K | | 34B | 20 GB | 68 GB | 16K | |\
 70B | 40 GB | 140 GB | 32K |)72 312 Q(Rate Limiting)72 336 Q
(Local inference is limited by hardw)72 360 Q
(are, not API quotas. Realms implement f)-.1 E
(air scheduling across agents:[^i2])-.1 E .523([^i2]: Implementation: T)
72 384 R(ok)-.8 E .523(en b)-.1 F(uck)-.2 E .522(et algorithm with per)
-.1 F .522(-agent quotas.)-.2 F(Pre)5.522 E -.15(ve)-.25 G .522
(nts single agent from monopolizing in-).15 F(ference resources.)72 396
Q -.74(```)72 420 S(scheme \(de\214ne \(inference-rate-limit agent tok)
.74 E(ens\))-.1 E(\(let \(\(b)77 432 Q(uck)-.2 E(et \(agent-tok)-.1 E
(en-b)-.1 E(uck)-.2 E(et agent\)\)\))-.1 E(\(if \(b)82 444 Q(uck)-.2 E
(et-consume b)-.1 E(uck)-.2 E(et tok)-.1 E(ens\))-.1 E(#t)92 456 Q(\(be)
92 468 Q(gin)-.15 E(\(agent-w)97 480 Q(ait agent \(b)-.1 E(uck)-.2 E
(et-re\214ll-time b)-.1 E(uck)-.2 E(et\)\))-.1 E
(\(inference-rate-limit agent tok)97 492 Q(ens\)\)\)\)\) `)-.1 E -.74
(``)-.74 G -.15(Fa)72 516 S(llback Beha).15 E(vior)-.2 E
(When local inference is una)72 540 Q -.25(va)-.2 G(ilable:).25 E .28
(1. **Queue** \342 b)72 564 R(uf)-.2 E .28
(fer requests for later processing 2. **De)-.25 F .281
(grade** \342 use simpler heuristics \(k)-.15 F -.15(ey)-.1 G -.1(wo).15
G .281(rd e).1 F .281(xtraction vs.)-.15 F(LLM\) 3. **Federate** \342 r\
equest inference from trusted peer realm 4. **F)72 576 Q
(ail** \342 return error to requesting agent)-.15 E -.74(```)72 600 S
(scheme \(de\214ne \(inference-with-f).74 E(allback serv)-.1 E
(er model prompt\))-.15 E(\(or \(try-inference serv)77 612 Q
(er model prompt\))-.15 E(\(try-queued-inference prompt\))87 624 Q
(\(try-de)87 636 Q(graded-processing prompt\))-.15 E
(\(try-federated-inference prompt\))87 648 Q(\(error 'inference-una)87
660 Q -.25(va)-.2 G(ilable\)\)\) `).25 E -.74(``)-.74 G(---)72 684 Q
(Security Considerations)72 708 Q(Prompt Injection)72 732 Q(Agents MUST\
 sanitize document content before inclusion in prompts:[^r2])72 756 Q
.136([^r2]: Research: Prompt injection attacks embed malicious instruct\
ions in user content. See Perez & Ribeiro, "Ignore)72 780 R(This T)72
792 Q(itle and HackAPrompt" \(2023\).)-.35 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF -.74(```)72 24 S
(scheme \(de\214ne \(safe-prompt template document\)).74 E
(\(let \(\(sanitized \(sanitize-for)77 36 Q
(-prompt \(document-content document\)\)\)\))-.2 E
(\(format template sanitized\)\)\))82 48 Q(\(de\214ne \(sanitize-for)72
72 Q(-prompt te)-.2 E(xt\))-.15 E(;; Remo)77 84 Q .3 -.15(ve i)-.15 H
(nstruction-lik).15 E 2.5(ep)-.1 G(atterns)-2.5 E(\(re)77 96 Q(ge)-.15 E
(xp-replace-all)-.15 E('\("ignore pre)82 108 Q(vious" "disre)-.25 E -.05
(ga)-.15 G(rd" "ne).05 E 2.5(wi)-.25 G(nstructions" "system:"\))-2.5 E
(te)82 120 Q(xt)-.15 E("[RED)82 132 Q -.4(AC)-.4 G(TED]"\)\) `).4 E -.74
(``)-.74 G(Model Pro)72 156 Q -.15(ve)-.15 G(nance).15 E
(Realms SHOULD v)72 180 Q(erify model checksums before loading:[^d3])
-.15 E .892([^d3]: Design: Model weights can contain backdoors. V)72 204
R .893(eri\214cation ag)-1.11 F .893(ainst kno)-.05 F .893
(wn-good checksums pre)-.25 F -.15(ve)-.25 G .893(nts supply).15 F
(chain attacks.)72 216 Q -.74(```)72 240 S(scheme \(de\214ne \(v).74 E
(erify-model model-path e)-.15 E(xpected-hash\))-.15 E
(\(let \(\(actual-hash \(sha256-\214le model-path\)\)\))77 252 Q
(\(unless \(equal? actual-hash e)82 264 Q(xpected-hash\))-.15 E
(\(error 'model-v)87 276 Q(eri\214cation-f)-.15 E(ailed)-.1 E
("Model checksum mismatch"\)\)\)\) `)104.5 288 Q -.74(``)-.74 G
(Inference Isolation)72 312 Q(Sensiti)72 336 Q .3 -.15(ve d)-.25 H
(ocuments require isolated inference conte).15 E(xts:)-.15 E 3.07(-S)72
360 S .57(eparate model instances per security domain - Clear KV cache \
between requests from dif)-3.07 F .569(ferent agents - No per)-.25 F(-)
-.2 E(sistent memory across security boundaries)72 372 Q(---)72 396 Q
(Ollama Inte)72 420 Q(gration)-.15 E
(Ollama is the reference implementation for local inference.[^h2])72 444
Q .604([^h2]: Historical: Ollama follo)72 468 R .604
(ws the Unix philosoph)-.25 F .605(y\342do one thing well.)-.05 F .605
(It manages models and serv)5.605 F .605(es inference.)-.15 F
(Nothing more.)72 480 Q(Installation)72 504 Q -.74(```)72 528 S
(bash macOS / Linux curl -fsSL https://ollama.com/install.sh | sh).74 E
-1.11(Ve)72 552 S(rify ollama --v)1.11 E(ersion `)-.15 E -.74(``)-.74 G
(Model Management)72 576 Q -.74(```)72 600 S
(bash Pull models ollama pull llama3 ollama pull nomic-embed-te).74 E
(xt)-.15 E(List a)72 624 Q -.25(va)-.2 G(ilable ollama list).25 E(Remo)
72 648 Q .3 -.15(ve o)-.15 H(llama rm unused-model `).15 E -.74(``)-.74
G(API Endpoints)72 672 Q(*T)72 696 Q(able 4: Ollama API Endpoints*)-.8 E
3.542(|E)72 720 S 1.042(ndpoint | Method | Purpose | |----------|------\
--|---------| | `/api/generate` | POST | T)-3.542 F -.15(ex)-.7 G 3.541
(tc).15 G 1.041(ompletion | | `/api/chat` |)-3.541 F 1.649
(POST | Multi-turn chat | | `/api/embeddings` | POST | V)72 732 R 1.649
(ector embeddings | | `/api/tags` | GET | List models | |)-1.11 F
(`/api/sho)72 744 Q(w` | POST | Model details |)-.25 E(Scheme Bindings)
72 768 Q -.74(```)72 792 S
(scheme \(de\214ne ollama-base "http://localhost:11434"\)).74 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(de\214ne \(ollama-generate model prompt #!k)72
24 Q .3 -.15(ey \()-.1 H(options '\(\)\)\)).15 E
(\(http-post \(string-append ollama-base "/api/generate"\))77 36 Q
(`\(\(model . ,model\))104.5 48 Q(\(prompt . ,prompt\))109.5 60 Q
(\(stream . #f\))109.5 72 Q(,@options\)\)\))109.5 84 Q
(\(de\214ne \(ollama-chat model messages #!k)72 108 Q .3 -.15(ey \()-.1
H(options '\(\)\)\)).15 E
(\(http-post \(string-append ollama-base "/api/chat"\))77 120 Q
(`\(\(model . ,model\))104.5 132 Q(\(messages . ,messages\))109.5 144 Q
(\(stream . #f\))109.5 156 Q(,@options\)\)\))109.5 168 Q
(\(de\214ne \(ollama-embed model te)72 192 Q(xt\))-.15 E
(\(http-post \(string-append ollama-base "/api/embeddings"\))77 204 Q
(`\(\(model . ,model\))104.5 216 Q(\(prompt . ,te)109.5 228 Q
(xt\)\)\)\) `)-.15 E -.74(``)-.74 G(---)72 252 Q(Compatibility)72 276 Q
(Alternati)72 300 Q .3 -.15(ve B)-.25 H(ack).15 E(ends)-.1 E
(The protocol supports an)72 324 Q 2.5(yO)-.15 G
(penAI-compatible inference serv)-2.5 E(er:)-.15 E 2.972(-*)72 348 S
.472(*llama.cpp** \342 `serv)-2.972 F .471(er` binary with `--host` \
\215ag - **vLLM** \342 production serving with P)-.15 F .471
(agedAttention - **Lo-)-.15 F(calAI** \342 drop-in OpenAI replacement -\
 **LM Studio** \342 GUI with serv)72 360 Q(er mode)-.15 E(Cloud F)72 384
Q(allback)-.15 E -.15(Fo)72 408 S 2.521(rr).15 G .021
(ealms without local GPU resources, cloud inference MA)-2.521 F 2.521
(Yb)-1.05 G 2.521(eu)-2.521 G .021(sed as f)-2.521 F .021
(allback with e)-.1 F .021(xplicit user consent and en-)-.15 F
(cryption:)72 420 Q -.74(```)72 444 S
(scheme \(de\214ne \(cloud-inference-f).74 E(allback prompt\))-.1 E
(\(when \(user)77 456 Q(-consent? 'cloud-inference\))-.2 E
(\(let \(\(encrypted \(encrypt-for)82 468 Q(-cloud prompt\)\)\))-.2 E
(;; Use cloud API with encrypted prompt)87 480 Q
(;; Decrypt response locally)87 492 Q(\)\)\) `)87 504 Q -.74(``)-.74 G
(This is NO)72 528 Q 2.5(TR)-.4 G(ECOMMENDED for sensiti)-2.5 E .3 -.15
(ve d)-.25 H(ocuments.).15 E(---)72 552 Q(References)72 576 Q .107(1. R\
FC-023: Demonic Agent Sandboxing 2. RFC-025: Query Language 3. RFC-035:\
 Mobile Agents and Pub/Sub 4.)72 600 R
(Ollama Documentation: https://ollama.com/ 5. Le)72 612 Q
(wis et al., "Retrie)-.25 E -.25(va)-.25 G
(l-Augmented Generation" \(2020\)).25 E(---)72 636 Q(Changelog)72 660 Q
2.5(-*)72 684 S(*2026-01-07** - Initial speci\214cation)-2.5 E(---)72
708 Q(**Implementation Status:** Draft)72 732 Q 0 Cg EP
%%Trailer
end
%%EOF
