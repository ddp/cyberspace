%!PS-Adobe-3.0
%%Creator: groff version 1.23.0
%%CreationDate: Tue Jan 13 11:52:59 2026
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.23 0
%%Pages: 6
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.23 0
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
% The ASCII code of the space character.
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
% name size font SF -
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
% name a c d font MF -
/MF{
findfont
[5 2 roll
0 3 1 roll % b
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
% Enable manual feed.
% MANUAL -
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
% Guess the page length.
% This assumes that the imageable area is vertically centered on the page.
% PLG - length
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
% BP -
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
% centerx centery radius startangle endangle DA -
/DA{
newpath arcn stroke
}bind def
% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even
/DL{
SN
moveto
SN
lineto stroke
}bind def
% centerx centery radius DC -
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
%  width height centerx centery DE -
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
% these are for splines
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
% fill the last path
% r g b Fr -
/Fr{
setrgbcolor fill
}bind def
% c m y k Fk -
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
% g Fg -
/Fg{
setgray fill
}bind def
% fill with the "current color"
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
% new_font_name encoding_vector old_font_name RE -
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
% hpos vpos EBEGIN -
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
% llx lly newwid wid newht ht newllx newlly PBEGIN -
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
% set the graphics state to default values
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
%
%  Any included setpagedevice should be ignored.
%  See: http://www.w-beer.de/doc/ps/.
%
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Times-Roman
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Roman@0 ENC0/Times-Roman RE
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 12/Times-Bold@0 SF(RFC-038: Local Infer)208.626 123 Q
(ence Integration)-.216 E/F1 10/Times-Italic@0 SF(Libr)260.85 159 Q
(ary of Cyber)-.15 E(space)-.1 E/F2 10/Times-Roman@0 SF(2026)296 177 Q
F1(ABSTRA)282.535 213 Q(CT)-.3 E/F3 10/Times-Bold@0 SF 2.5(1. Abstract)
72 261 R F2 .93(This RFC speci\214es ho)72 276.6 R 3.43(wL)-.25 G .93
(ibrary of Cyberspace agents inte)-3.43 F .93(grate with local lar)-.15
F .93(ge language model \(LLM\) inference)-.18 F(back)72 288.6 Q .391
(ends. Local inference enables pri)-.1 F -.25(va)-.25 G -.15(cy).25 G
.391(-preserving agent operations without e).15 F .391
(xternal API dependencies, support-)-.15 F(ing the self-so)72 300.6 Q
-.15(ve)-.15 G(reign architecture of the Library.[^h1]).15 E .664([^h1]\
: Historical: The tension between local and remote computation echoes t\
he mainframe-to-PC transition. Local)72 316.2 R(inference returns agenc)
72 328.2 Q 2.5(yt)-.15 G 2.5(ot)-2.5 G(he edge, re)-2.5 E -.15(ve)-.25 G
(rsing decades of cloud centralization.).15 E F3 2.5(2. Moti)72 352.2 R
-.1(va)-.1 G(tion).1 E F2(Agents in the Library of Cyberspace require l\
anguage understanding and generation capabilities for:)72 367.8 Q 6.5
<8344>72 383.4 S(ocument summarization and inde)-6.5 E(xing)-.15 E 6.5
<834e>72 399 S(atural language query translation \(RFC-025\))-6.5 E 6.5
<8343>72 414.6 S(ontent annotation and metadata e)-6.5 E(xtraction)-.15
E 6.5<8349>72 430.2 S(nter)-6.5 E
(-agent communication in natural language)-.2 E
(External API dependencies \(OpenAI, Anthropic, etc.\) introduce:)72
449.4 Q .648(1. Pri)72 465 R -.25(va)-.25 G .948 -.15(cy l).25 H .648
(eakage \342 document content lea).15 F -.15(ve)-.2 G 3.148(st).15 G
.648(he realm 2. A)-3.148 F -.25(va)-.74 G .648
(ilability risk \342 netw).25 F .649(ork partitions break agent opera-)
-.1 F(tion 3. Cost unpredictability \342 metered APIs scale poorly 4. V)
72 477 Q(endor lock-in \342 proprietary formats and rate limits)-1.11 E
(Local inference eliminates these concerns while maintaining capability\
.[^d1])72 492.6 Q .403([^d1]: Design: W)72 508.2 R 2.903(ed)-.8 G .403
(eliberately a)-2.903 F -.2(vo)-.2 G .402
(id specifying model architectures. The interf).2 F .402
(ace is model-agnostic\342agents ne)-.1 F(goti-)-.15 E
(ate capabilities at runtime.)72 520.2 Q F3 2.5(3. Ar)72 544.2 R
(chitectur)-.18 E(e)-.18 E 2.5(3.1. Infer)72 568.2 R(ence T)-.18 E
(opology)-.92 E F2 -.8(Ta)72 583.8 S(ble 1: Inference Deplo).8 E
(yment Models)-.1 E .4 LW 468.005 594.3 143.995 594.3 DL F3 60.04
(Model Description)159.825 603.8 R(Use Case)87.295 E F2 15
(Realm-local Inference)148.995 615.8 R(serv)2.5 E(er within realm)-.15 E
(Def)17.5 E(ault, pri)-.1 E -.25(va)-.25 G -.15(cy).25 G(-preserving).15
E 19.45(Node-local Per)148.995 627.8 R(-node inference)-.2 E
(Edge agents, mobile)59.76 E 24.45(Federated Shared)148.995 639.8 R
(across trusted realms)2.5 E(Resource pooling)21.22 E 468.005 644.3
143.995 644.3 DL 468.005 594.3 468.005 644.3 DL 143.995 594.3 143.995
644.3 DL 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-038 0)72 48 R/F1 8/Courier@0 SF
(+-----------------------------------------------------+)108 84 Q 105.6
(|R)108 96 S 120(ealm |)-105.6 F 9.6(|+)108 108 S 14.4
(---------+ +--------------+ +-----------+)-9.6 F(|)9.6 E 9.6(||A)108
120 S 4.8(gent |--->|)-9.6 F 4.8(Inference |--->|)14.4 F 9.6(Model |)
14.4 F(|)9.6 E 19.2 9.6(|| |)108 132 T 14.4(<---| Server |<---|)-9.6 F
4.8(Weights | |)9.6 F 9.6(|+)108 144 S 14.4
(---------+ +--------------+ +-----------+)-9.6 F(|)9.6 E -4.8 33.6
(|| :)108 156 T 62.4(11434 |)-33.6 F(|)48 E 91.2 33.6(|v v)108 168 T(|)
14.4 E 9.6(|+)108 180 S 100.8(---------+ +-----------+)-9.6 F(|)19.2 E
9.6(||V)108 192 S 4.8(ault |)-9.6 F 14.4(|V)105.6 G 14.4(RAM | |)-14.4 F
9.6(|+)108 204 S 100.8(---------+ +-----------+)-9.6 F(|)19.2 E
(+-----------------------------------------------------+)108 216 Q/F2 10
/Times-Bold@0 SF 2.5(3.2. Pr)72 234 R(otocol)-.18 E F0
(Agents communicate with inference serv)72 249.6 Q
(ers via HTTP REST API.[^i1])-.15 E 1.923
([^i1]: Implementation: Ollama e)72 265.2 R 1.923
(xposes an OpenAI-compatible API at /v1/chat/completions and a nati)-.15
F 2.223 -.15(ve A)-.25 H 1.924(PI at).15 F(/api/generate. W)72 277.2 Q
2.5(es)-.8 G(pecify both for maximum compatibility.)-2.5 E(Disco)72
292.8 Q -.15(ve)-.15 G(ry:).15 E F1
(\(define \(discover-inference-server\))108 310.8 Q
(;; Check well-known locations)117.6 322.8 Q
(\(or \(probe "http://localhost:11434"\))117.6 334.8 Q 4.8(;O)28.8 G
(llama default)-4.8 E(\(probe "http://localhost:8080"\))136.8 346.8 Q
4.8(;l)33.6 G(lama.cpp)-4.8 E
(\(probe \(realm-config 'inference-url\)\) ; Configured)136.8 358.8 Q
163.2(#f\)\) ;)136.8 370.8 R(None available)4.8 E F0(Capability Ne)72
388.8 Q(gotiation:)-.15 E F1(\(define \(negotiate-capabilities server\))
108 406.8 Q
(\(let \(\(models \(http-get \(string-append server "/api/tags"\)\)\)\))
117.6 418.8 Q(\(map \(lambda \(m\))127.2 430.8 Q
(`\(\(name . ,\(alist-ref 'name m\)\))160.8 442.8 Q
(\(parameters . ,\(alist-ref 'size m\)\))170.4 454.8 Q
(\(context-length . ,\(model-context-length m\)\))170.4 466.8 Q
(\(capabilities . ,\(model-capabilities m\)\)\)\))170.4 478.8 Q
(models\)\)\))151.2 490.8 Q F0 -.8(Ta)72 508.8 S
(ble 2: Model Capabilities).8 E .4 LW 451.55 519.3 160.45 519.3 DL F2
37.64(Capability Description)165.45 528.8 R(Example Models)56.38 E F0
15.01(completion T)165.45 540.8 R -.15(ex)-.7 G 2.5(tg).15 G 47.53
(eneration All)-2.5 F 43.35(chat Multi-turn)165.45 552.8 R(con)2.5 E
-.15(ve)-.4 G 15(rsation Llama).15 F(3, Mistral)2.5 E 15.57(embedding V)
165.45 564.8 R(ector embeddings)-1.11 E(nomic-embed, mxbai)35.29 E 41.13
(code Code)165.45 576.8 R 43.9(generation CodeLlama,)2.5 F(DeepSeek)2.5
E 35.56(vision Image)165.45 588.8 R 25.57(understanding LLaV)2.5 F
(A, Llama 3.2 V)-1.35 E(ision)-.6 E 451.55 593.3 160.45 593.3 DL 451.55
519.3 451.55 593.3 DL 160.45 519.3 160.45 593.3 DL F2 2.5(4. Agent)72
606.8 R(Integration)2.5 E 2.5(4.1. Scribe)72 630.8 R(Agent)2.5 E F0
(The scribe agent uses local inference for document processing:[^r1])72
646.4 Q 1.069([^r1]: Research: Retrie)72 662 R -.25(va)-.25 G 1.069
(l-augmented generation \(RA).25 F 1.068
(G\) combines local inference with v)-.4 F 1.068(ault content retrie)
-.25 F -.25(va)-.25 G 1.068(l. See).25 F 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-038 0)72 48 R(Le)72 84 Q
(wis et al., "Retrie)-.25 E -.25(va)-.25 G
(l- Augmented Generation for Kno).25 E(wledge-Intensi)-.25 E .3 -.15
(ve N)-.25 H(LP T).15 E(asks" \(2020\).)-.8 E/F1 8/Courier@0 SF
(\(define \(scribe-summarize document\))108 102 Q
(\(let \(\(server \(discover-inference-server\)\))117.6 114 Q
(\(model \(select-model server 'completion\)\))151.2 126 Q
(\(prompt \(format "Summarize the following document:\\n\\n~a")151.2 138
Q(\(document-content document\)\)\)\))228 150 Q
(\(inference-complete server model prompt)127.2 162 Q
('\(\(max-tokens . 500\))223.2 174 Q(\(temperature . 0.3\)\)\)\)\))232.8
186 Q(\(define \(scribe-index document\))108 210 Q
(;; Extract keywords using local inference)117.6 222 Q
(\(let \(\(server \(discover-inference-server\)\))117.6 234 Q
(\(model \(select-model server 'completion\)\))151.2 246 Q
(\(prompt \(format "Extract 5-10 keywords from:\\n\\n~a")151.2 258 Q
(\(document-content document\)\)\)\))228 270 Q
(\(parse-keywords \(inference-complete server model prompt\)\)\)\))127.2
282 Q/F2 10/Times-Bold@0 SF 2.5(4.2. Query)72 300 R -.74(Tr)2.5 G
(anslation).74 E F0
(Natural language queries translate to RFC-025 query language:)72 315.6
Q F1(\(define \(nl-to-query natural-language\))108 333.6 Q
(\(let* \(\(server \(discover-inference-server\)\))117.6 345.6 Q
(\(model \(select-model server 'chat\)\))151.2 357.6 Q
(\(system "You translate natural language to Cyberspace query)151.2
369.6 Q(language. Output only the query, no explanation."\))194.4 381.6
Q(\(examples '\(\("find all RFCs about security")151.2 393.6 Q
("\(query \(type rfc\) \(topic security\)\)"\))213.6 405.6 Q
(\("documents modified last week")208.8 417.6 Q
("\(query \(modified \(after \(days-ago 7\)\)\)\)"\)\)\)\))213.6 429.6 Q
(\(inference-chat server model system examples natural-language\)\)\))
127.2 441.6 Q F2 2.5(4.3. Demonic)72 459.6 R(Agent Infer)2.5 E(ence)-.18
E F0(Sandbox)72 475.2 Q
(ed agents \(RFC-023\) access inference through capability tok)-.15 E
(ens:[^d2])-.1 E .479
([^d2]: Design: Inference capability is granted lik)72 490.8 R 2.979(ea)
-.1 G .779 -.15(ny o)-2.979 H .48
(ther\342via SPKI certi\214cate. An agent cannot infer without e).15 F
(x-)-.15 E(plicit authorization.)72 502.8 Q F1
(\(define \(demonic-inference agent prompt\))108 520.8 Q
(\(let \(\(cap \(agent-capability agent 'inference\)\)\))117.6 532.8 Q
(\(if \(not cap\))127.2 544.8 Q
(\(error 'unauthorized "Agent lacks inference capability"\))146.4 556.8
Q(\(let \(\(limits \(capability-limits cap\)\)\))146.4 568.8 Q
(\(enforce-limits limits\))156 580.8 Q
(\(inference-complete \(capability-server cap\))156 592.8 Q
(\(capability-model cap\))252 604.8 Q(prompt)252 616.8 Q
(limits\)\)\)\)\))252 628.8 Q F2 2.5(5. Resour)72 646.8 R(ce Management)
-.18 E 2.5(5.1. VRAM)72 670.8 R(Allocation)2.5 E F0 -.8(Ta)72 686.4 S
(ble 3: Model Size Guidelines).8 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-038 0)72 48 R .4 LW 437.86 76.5
174.14 76.5 DL/F1 10/Times-Bold@0 SF -.1(Pa)179.14 86 S 15
(rameters VRAM).1 F 15(\(Q4\) VRAM)2.5 F 15(\(FP16\) Context)2.5 F F0
52.65(7B 4)179.14 98 R 46.65(GB 14)2.5 F 51.09(GB 8K)2.5 F 47.65(13B 8)
179.14 110 R 46.65(GB 26)2.5 F 51.09(GB 8K)2.5 F 47.65(34B 20)179.14 122
R 41.65(GB 68)2.5 F 51.09(GB 16K)2.5 F 47.65(70B 40)179.14 134 R 41.65
(GB 140)2.5 F 46.09(GB 32K)2.5 F 437.86 138.5 174.14 138.5 DL 437.86
76.5 437.86 138.5 DL 174.14 76.5 174.14 138.5 DL F1 2.5(5.2. Rate)72 152
R(Limiting)2.5 E F0(Local inference is limited by hardw)72 167.6 Q
(are, not API quotas. Realms implement f)-.1 E
(air scheduling across agents:[^i2])-.1 E .715([^i2]: Implementation: T)
72 183.2 R(ok)-.8 E .715(en b)-.1 F(uck)-.2 E .715
(et algorithm with per)-.1 F .715(-agent quotas. Pre)-.2 F -.15(ve)-.25
G .714(nts single agent from monopolizing in-).15 F(ference resources.)
72 195.2 Q/F2 8/Courier@0 SF
(\(define \(inference-rate-limit agent tokens\))108 213.2 Q
(\(let \(\(bucket \(agent-token-bucket agent\)\)\))117.6 225.2 Q
(\(if \(bucket-consume bucket tokens\))127.2 237.2 Q(#t)146.4 249.2 Q
(\(begin)146.4 261.2 Q
(\(agent-wait agent \(bucket-refill-time bucket\)\))156 273.2 Q
(\(inference-rate-limit agent tokens\)\)\)\)\))156 285.2 Q F1 2.5
(5.3. F)72 303.2 R(allback Beha)-.25 E(vior)-.25 E F0
(When local inference is una)72 318.8 Q -.25(va)-.2 G(ilable:).25 E .419
(1. Queue \342 b)72 334.4 R(uf)-.2 E .419
(fer requests for later processing 2. De)-.25 F .42
(grade \342 use simpler heuristics \(k)-.15 F -.15(ey)-.1 G -.1(wo).15 G
.42(rd e).1 F .42(xtraction vs. LLM\) 3.)-.15 F
(Federate \342 request inference from trusted peer realm 4. F)72 346.4 Q
(ail \342 return error to requesting agent)-.15 E F2
(\(define \(inference-with-fallback server model prompt\))108 364.4 Q
(\(or \(try-inference server model prompt\))117.6 376.4 Q
(\(try-queued-inference prompt\))136.8 388.4 Q
(\(try-degraded-processing prompt\))136.8 400.4 Q
(\(try-federated-inference prompt\))136.8 412.4 Q
(\(error 'inference-unavailable\)\)\))136.8 424.4 Q F1 2.5(6. Security)
72 442.4 R(Considerations)2.5 E 2.5(6.1. Pr)72 466.4 R(ompt Injection)
-.18 E F0(Agents MUST sanitize document content before inclusion in pro\
mpts:[^r2])72 482 Q .136([^r2]: Research: Prompt injection attacks embe\
d malicious instructions in user content. See Perez & Ribeiro, "Ignore)
72 497.6 R(This T)72 509.6 Q(itle and HackAPrompt" \(2023\).)-.35 E F2
(\(define \(safe-prompt template document\))108 527.6 Q(\(let \(\(sanit\
ized \(sanitize-for-prompt \(document-content document\)\)\)\))117.6
539.6 Q(\(format template sanitized\)\)\))127.2 551.6 Q
(\(define \(sanitize-for-prompt text\))108 575.6 Q
(;; Remove instruction-like patterns)117.6 587.6 Q(\(regexp-replace-all)
117.6 599.6 Q
('\("ignore previous" "disregard" "new instructions" "system:"\))127.2
611.6 Q(text)127.2 623.6 Q("[REDACTED]"\)\))127.2 635.6 Q F1 2.5
(6.2. Model)72 653.6 R(Pr)2.5 E -.1(ove)-.18 G(nance).1 E F0
(Realms SHOULD v)72 669.2 Q(erify model checksums before loading:[^d3])
-.15 E .892([^d3]: Design: Model weights can contain backdoors. V)72
684.8 R .893(eri\214cation ag)-1.11 F .893(ainst kno)-.05 F .893
(wn-good checksums pre)-.25 F -.15(ve)-.25 G .893(nts supply).15 F 0 Cg
EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-038 0)72 48 R(chain attacks.)72 84 Q
/F1 8/Courier@0 SF(\(define \(verify-model model-path expected-hash\))
108 102 Q(\(let \(\(actual-hash \(sha256-file model-path\)\)\))117.6 114
Q(\(unless \(equal? actual-hash expected-hash\))127.2 126 Q
(\(error 'model-verification-failed)136.8 138 Q
("Model checksum mismatch"\)\)\)\))170.4 150 Q/F2 10/Times-Bold@0 SF 2.5
(6.3. Infer)72 168 R(ence Isolation)-.18 E F0(Sensiti)72 183.6 Q .3 -.15
(ve d)-.25 H(ocuments require isolated inference conte).15 E(xts:)-.15 E
6.5<8353>72 199.2 S(eparate model instances per security domain)-6.5 E
6.5<8343>72 214.8 S(lear KV cache between requests from dif)-6.5 E
(ferent agents)-.25 E 6.5<834e>72 230.4 S 2.5(op)-6.5 G
(ersistent memory across security boundaries)-2.5 E F2 2.5(7. Ollama)72
258 R(Integration)2.5 E F0
(Ollama is the reference implementation for local inference.[^h2])72
273.6 Q .772([^h2]: Historical: Ollama follo)72 289.2 R .772
(ws the Unix philosoph)-.25 F .771
(y\342do one thing well. It manages models and serv)-.05 F .771
(es inference.)-.15 F(Nothing more.)72 301.2 Q F2 2.5(7.1. Installation)
72 325.2 R F1 4.8(#m)108 343.2 S(acOS / Linux)-4.8 E
(curl -fsSL https://ollama.com/install.sh | sh)108 355.2 Q 4.8(#V)108
379.2 S(erify)-4.8 E(ollama --version)108 391.2 Q F2 2.5(7.2. Model)72
409.2 R(Management)2.5 E F1 4.8(#P)108 427.2 S(ull models)-4.8 E
(ollama pull llama3)108 439.2 Q(ollama pull nomic-embed-text)108 451.2 Q
4.8(#L)108 475.2 S(ist available)-4.8 E(ollama list)108 487.2 Q 4.8(#R)
108 511.2 S(emove)-4.8 E(ollama rm unused-model)108 523.2 Q F2 2.5
(7.3. API)72 541.2 R(Endpoints)2.5 E F0 -.8(Ta)72 556.8 S
(ble 4: Ollama API Endpoints).8 E .4 LW 417.935 567.3 194.065 567.3 DL
F2 28.045(Endpoint Method)212.11 576.8 R(Pur)38.515 E(pose)-.1 E F0
29.46(/api/generate POST)199.065 588.8 R -1.25 -.7(Te x)26.38 H 2.5(tc)
.7 G(ompletion)-2.5 E 46.67(/api/chat POST)199.065 600.8 R
(Multi-turn chat)26.38 E 15(/api/embeddings POST)199.065 612.8 R -1.11
(Ve)26.38 G(ctor embeddings)1.11 E 47.22(/api/tags GET)199.065 624.8 R
(List models)31.39 E(/api/sho)199.065 636.8 Q 44.97(wP)-.25 G 23.88
(OST Model)-44.97 F(details)2.5 E 417.935 641.3 194.065 641.3 DL 417.935
567.3 417.935 641.3 DL 194.065 567.3 194.065 641.3 DL 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-038 0)72 48 R/F1 10/Times-Bold@0 SF
2.5(7.4. Scheme)72 84 R(Bindings)2.5 E/F2 8/Courier@0 SF
(\(define ollama-base "http://localhost:11434"\))108 102 Q
(\(define \(ollama-generate model prompt #!key \(options '\(\)\)\))108
126 Q(\(http-post \(string-append ollama-base "/api/generate"\))117.6
138 Q(\(\(model . ,model\))170.4 150 Q(\(prompt . ,prompt\))180 162 Q
(\(stream . #f\))180 174 Q(,@options\)\)\))180 186 Q
(\(define \(ollama-chat model messages #!key \(options '\(\)\)\))108 210
Q(\(http-post \(string-append ollama-base "/api/chat"\))117.6 222 Q
(\(\(model . ,model\))170.4 234 Q(\(messages . ,messages\))180 246 Q
(\(stream . #f\))180 258 Q(,@options\)\)\))180 270 Q
(\(define \(ollama-embed model text\))108 294 Q
(\(http-post \(string-append ollama-base "/api/embeddings"\))117.6 306 Q
(`\(\(model . ,model\))170.4 318 Q(\(prompt . ,text\)\)\)\))180 330 Q F1
2.5(8. Compatibility)72 348 R 2.5(8.1. Alter)72 372 R(nati)-.15 E .2 -.1
(ve B)-.1 H(ack).1 E(ends)-.1 E F0(The protocol supports an)72 387.6 Q
2.5(yO)-.15 G(penAI-compatible inference serv)-2.5 E(er:)-.15 E 6.5
<836c>72 403.2 S(lama.cpp \342 serv)-6.5 E
(er binary with --host \215ag - vLLM \342 production serving with P)-.15
E(agedAttention)-.15 E 6.5<834c>72 418.8 S
(ocalAI \342 drop-in OpenAI replacement)-6.5 E 6.5<834c>72 434.4 S 2.5
(MS)-6.5 G(tudio \342 GUI with serv)-2.5 E(er mode)-.15 E F1 2.5
(8.2. Cloud)72 462 R -.25(Fa)2.5 G(llback).25 E F0 -.15(Fo)72 477.6 S
2.521(rr).15 G .021
(ealms without local GPU resources, cloud inference MA)-2.521 F 2.521
(Yb)-1.05 G 2.521(eu)-2.521 G .021(sed as f)-2.521 F .021
(allback with e)-.1 F .021(xplicit user consent and en-)-.15 F
(cryption:)72 489.6 Q F2(\(define \(cloud-inference-fallback prompt\))
108 507.6 Q(\(when \(user-consent? 'cloud-inference\))117.6 519.6 Q
(\(let \(\(encrypted \(encrypt-for-cloud prompt\)\)\))127.2 531.6 Q
(;; Use cloud API with encrypted prompt)136.8 543.6 Q
(;; Decrypt response locally)136.8 555.6 Q(\)\)\))136.8 567.6 Q F0
(This is NO)72 585.6 Q 2.5(TR)-.4 G(ECOMMENDED for sensiti)-2.5 E .3
-.15(ve d)-.25 H(ocuments.).15 E F1 2.5(9. Refer)72 609.6 R(ences)-.18 E
F0 .107(1. RFC-023: Demonic Agent Sandboxing 2. RFC-025: Query Language\
 3. RFC-035: Mobile Agents and Pub/Sub 4.)72 625.2 R
(Ollama Documentation: https://ollama.com/ 5. Le)72 637.2 Q
(wis et al., "Retrie)-.25 E -.25(va)-.25 G
(l-Augmented Generation" \(2020\)).25 E F1 2.5(10. Changelog)72 661.2 R
F0 6.5<8332>72 676.8 S(026-01-07)-6.5 E 6.5<8349>72 692.4 S
(nitial speci\214cation)-6.5 E 0 Cg EP
%%Trailer
end
%%EOF
