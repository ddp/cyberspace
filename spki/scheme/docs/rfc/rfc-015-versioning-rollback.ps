%!PS-Adobe-3.0
%%Creator: groff version 1.23.0
%%CreationDate: Fri Jan  9 11:12:23 2026
%%DocumentNeededResources: font Times-Roman
%%DocumentSuppliedResources: procset grops 1.23 0
%%Pages: 6
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.23 0
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
% The ASCII code of the space character.
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
% name size font SF -
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
% name a c d font MF -
/MF{
findfont
[5 2 roll
0 3 1 roll % b
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
% Enable manual feed.
% MANUAL -
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
% Guess the page length.
% This assumes that the imageable area is vertically centered on the page.
% PLG - length
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
% BP -
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
% centerx centery radius startangle endangle DA -
/DA{
newpath arcn stroke
}bind def
% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even
/DL{
SN
moveto
SN
lineto stroke
}bind def
% centerx centery radius DC -
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
%  width height centerx centery DE -
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
% these are for splines
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
% fill the last path
% r g b Fr -
/Fr{
setrgbcolor fill
}bind def
% c m y k Fk -
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
% g Fg -
/Fg{
setgray fill
}bind def
% fill with the "current color"
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
% new_font_name encoding_vector old_font_name RE -
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
% hpos vpos EBEGIN -
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
% llx lly newwid wid newht ht newllx newlly PBEGIN -
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
% set the graphics state to default values
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
%
%  Any included setpagedevice should be ignored.
%  See: http://www.w-beer.de/doc/ps/.
%
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(RFC-015: V)72 12 Q(ersioning and Rollback)-1.11
E(Status: Proposed Date: January 2026 Author: Derrell Piper ddp@eludom.\
net)72 36 Q(-----------------------------------------------------------\
-------------------)72 60 Q(Abstract)72 84 Q 1.49
(This RFC speci\214es user)72 108 R 1.489(-visible v)-.2 F 1.489
(ersioning and rollback semantics for Cyberspace v)-.15 F 1.489
(aults, pro)-.25 F 1.489(viding clear mental)-.15 F(models for v)72 120
Q(ersion management, safe rollback operations, and reco)-.15 E -.15(ve)
-.15 G(ry from mistak).15 E(es.)-.1 E(---------------------------------\
---------------------------------------------)72 144 Q(Moti)72 168 Q
-.25(va)-.25 G(tion).25 E
(Users need simple answers to simple questions:)72 192 Q 2.5(-W)72 216 S
(hat v)-2.5 E(ersion am I on?)-.15 E 2.5(-W)5 G(hat v)-2.5 E(ersions e)
-.15 E 2.5(xist? -)-.15 F(Ho)2.5 E 2.5(wd)-.25 G 2.5(oIg)-2.5 G 2.5(ob)
-2.5 G 2.5(ack? -)-2.5 F(What if I mak)2.5 E 2.5(eam)-.1 G(istak)-2.5 E
(e?)-.1 E(Git pro)72 240 Q(vides mechanisms. Cyberspace pro)-.15 E
(vides semantics:)-.15 E(seal-v)82 264 Q 20(ersion \342)-.15 F("2.1.0")
2.5 E(seal-v)82 276 Q 17.5(ersions \342)-.15 F
([1.0.0, 1.1.0, 2.0.0, 2.1.0])2.5 E(seal-rollback 2.0.0)82 288 Q 2.5
<e244>5 G(one. No)-2.5 E 2.5(wa)-.25 G 2.5(t2)-2.5 G(.0.0.)-2.5 E
(seal-reco)82 300 Q -.15(ve)-.15 G 22.5<72e2>.15 G(Here')-20 E 2.5(sw)
-.55 G(hat you can reco)-2.5 E -.15(ve)-.15 G -.55(r.).15 G(-----------\
-------------------------------------------------------------------)72
324 Q(Speci\214cation)72 348 Q -1.11(Ve)72 372 S(rsion Model)1.11 E
(HEAD)144.5 396 Q<e2>147 408 Q
(1.0.0 \342\342\342 1.1.0 \342\342\342 2.0.0 \342\342\342 2.1.0)92 420 Q
47.5<e2e2>97 432 S 47.5<e2e2>97 444 S(\342\342 seal-rollback tar)-47.5 E
(get)-.18 E<e2>97 456 Q(\342\342\342 seal-archi)97 468 Q .3 -.15(ve s)
-.25 H(napshots).15 E -1.11(Ve)72 492 S(rsions are semantic \(X.Y)1.11 E
(.Z\), immutable, signed.)-1.29 E(HEAD is current w)72 516 Q
(orking state.)-.1 E(Rollback creates forw)72 540 Q
(ard commit that restores past state.)-.1 E(Core Operations)72 564 Q
(seal-v)72 588 Q(ersion)-.15 E(Report current v)72 612 Q(ersion.)-.15 E
(\(seal-v)82 636 Q(ersion\))-.15 E
(;; => "2.1.0" or "2.1.0+3" \(3 commits past release\))82 648 Q .127
(Output format: - X.Y)72 672 R .127(.Z - Exactly at release - X.Y)-1.29
F .128(.Z+N - N commits past release - X.Y)-1.29 F(.Z-de)-1.29 E 2.628
(v-D)-.25 G -2.15 -.25(ev e)-2.628 H .128(lopment branch -).25 F(un)72
684 Q -.15(ve)-.4 G(rsioned - No releases yet).15 E(seal-v)72 708 Q
(ersions)-.15 E(List all v)72 732 Q(ersions.)-.15 E(\(seal-v)82 756 Q
(ersions\))-.15 E(;; => \("1.0.0" "1.1.0" "2.0.0" "2.1.0"\))82 768 Q
(\(seal-v)82 792 Q(ersions v)-.15 E(erbose: #t\))-.15 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(;; =>)82 12 Q(;; 1.0.0)82 24 Q 2.5
(2026-01-01 "Initial)5 F(release")2.5 E(;; 1.1.0)82 36 Q 2.5
(2026-01-05 "Bug)5 F<8c78>2.5 E(es")-.15 E(;; 2.0.0)82 48 Q 2.5
(2026-01-10 "Ne)5 F 2.5(wg)-.25 G -.15(ove)-2.5 G(rnance model").15 E
(;; 2.1.0)82 60 Q 2.5(2026-01-15 "Performance)5 F(impro)2.5 E -.15(ve)
-.15 G(ments").15 E(seal-rollback)72 84 Q(Roll back to speci\214c v)72
108 Q(ersion.)-.15 E(\(seal-rollback "2.0.0"\))82 132 Q .46
(Process: 1. V)72 156 R .46(erify v)-1.11 F .46(ersion e)-.15 F .459(xi\
sts 2. Check for uncommitted changes \(abort or stash\) 3. Create rollb\
ack commit with)-.15 F(contents of tar)72 168 Q(get v)-.18 E
(ersion 4. Record in audit trail 5. Optionally create rollback tag)-.15
E(Rollback commit message:)72 192 Q(Rollback to 2.0.0)82 216 Q
(Restored v)82 240 Q(ault state to v)-.25 E(ersion 2.0.0.)-.15 E(Pre)82
252 Q(vious HEAD w)-.25 E(as 2.1.0+3.)-.1 E(Reason: [user)82 276 Q(-pro)
-.2 E(vided or "Manual rollback"])-.15 E(NO)72 300 Q 2.5(Tag)-.4 G
(it reset. History preserv)-2.5 E(ed. Rollback is a forw)-.15 E
(ard operation.)-.1 E(seal-dif)72 324 Q(f)-.25 E(Compare v)72 348 Q
(ersions.)-.15 E(\(seal-dif)82 372 Q 2.5(f")-.25 G(2.0.0" "2.1.0"\))-2.5
E(;; Sho)82 384 Q(ws what changed between v)-.25 E(ersions)-.15 E
(\(seal-dif)82 408 Q 2.5(f")-.25 G(2.0.0"\))-2.5 E(;; Sho)82 420 Q
(ws what changed since 2.0.0)-.25 E(seal-reco)72 444 Q -.15(ve)-.15 G(r)
.15 E(Reco)72 468 Q -.15(ve)-.15 G(ry options for mistak).15 E(es.)-.1 E
(\(seal-reco)82 492 Q -.15(ve)-.15 G(r\)).15 E(;; =>)82 504 Q(;; Reco)82
516 Q -.15(ve)-.15 G(ry options:).15 E 5(;; 1.)82 528 R
(Uncommitted changes \(stashed 5 minutes ago\))2.5 E 5(;; 2.)82 540 R
(Last commit \(seal-undo\))2.5 E 5(;; 3.)82 552 R -1.11(Ve)2.5 G
(rsion 2.1.0 \(seal-rollback "2.1.0"\))1.11 E 5(;; 4.)82 564 R(Archi)2.5
E .3 -.15(ve v)-.25 H(ault-2.0.0.archi)-.1 E .3 -.15(ve \()-.25 H
(seal-restore\)).15 E(-------------------------------------------------\
-----------------------------)72 588 Q(Rollback Semantics)72 612 Q -.15
(Fo)72 636 S(rw).15 E(ard Rollback \(Def)-.1 E(ault\))-.1 E 2.5
(Before: 1.0.0)82 660 R 2.5<e231>2.5 G
(.1.0 \342 2.0.0 \342 2.1.0 \342 HEAD)-2.5 E<e2>147 672 Q(rollback tar)
134.5 684 Q(get)-.18 E 5(After: 1.0.0)82 708 R 2.5<e231>2.5 G
(.1.0 \342 2.0.0 \342 2.1.0 \342 [rollback commit])-2.5 E 55<e2e2>147
720 S<e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2>147 732 Q
(contents match)157 744 Q(History preserv)72 768 Q(ed. Audit trail sho)
-.15 E(ws rollback.)-.25 E(Hard Rollback \(Dangerous\))72 792 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(seal-rollback "2.0.0" hard: #t\))82 24 Q
(Actually resets to v)72 48 Q(ersion. Destro)-.15 E(ys history)-.1 E(.)
-.65 E(Requires: - Explicit hard: #t \215ag - Con\214rmation prompt - A\
udit entry before destruction)72 72 Q(Rollback with Stash)72 96 Q
(\(seal-rollback "2.0.0" stash: #t\))82 120 Q
(Stashes uncommitted changes before rollback. Can reco)72 144 Q -.15(ve)
-.15 G 2.5(rw).15 G(ith:)-2.5 E(\(seal-stash-pop\))82 168 Q(-----------\
-------------------------------------------------------------------)72
192 Q -1.11(Ve)72 216 S(rsion T)1.11 E(ags)-.8 E(Automatic T)72 240 Q
(agging)-.8 E(\(seal-release "2.1.0"\))82 264 Q(;; Creates:)82 276 Q 5
(;; -)82 288 R(Git tag: 2.1.0)2.5 E 5(;; -)82 300 R(Signature: .v)2.5 E
(ault/releases/2.1.0.sig)-.25 E 5(;; -)82 312 R(Audit entry)2.5 E
(Rollback T)72 336 Q(ags)-.8 E
(\(seal-rollback "2.0.0" tag: "rollback-2026-01-15"\))82 360 Q
(;; Creates additional tag marking rollback point)82 372 Q -.8(Ta)72 396
S 2.5(gL).8 G(isting)-2.5 E(\(seal-tags\))82 420 Q(;; =>)82 432 Q
(;; 1.0.0)82 444 Q 2.5(2026-01-01 release)35 F(;; 1.1.0)82 456 Q 2.5
(2026-01-05 release)35 F(;; 2.0.0)82 468 Q 2.5(2026-01-10 release)35 F
(;; 2.1.0)82 480 Q 2.5(2026-01-15 release)35 F
(;; rollback-2026-01-15 2026-01-15)82 492 Q(rollback)5 E(--------------\
----------------------------------------------------------------)72 516
Q(Reco)72 540 Q -.15(ve)-.15 G(ry Scenarios).15 E
(Scenario 1: Bad Commit)72 564 Q(;; Oops, committed brok)82 588 Q
(en code)-.1 E 47.5(\(seal-undo\) ;)82 600 R(Undo last commit)2.5 E
(;; or)82 612 Q(\(seal-rollback "2.1.0"\))82 624 Q 2.5(;B)20 G
(ack to last release)-2.5 E(Scenario 2: Bad Release)72 648 Q
(;; Released 2.2.0 b)82 672 Q(ut it')-.2 E 2.5(sb)-.55 G(rok)-2.5 E(en)
-.1 E(\(seal-rollback "2.1.0"\))82 684 Q 2.5(;B)20 G(ack to good v)-2.5
E(ersion)-.15 E(\(seal-release "2.2.1"\))82 696 Q 2.5(;P)22.5 G
(atch release)-2.65 E(Scenario 3: Lost Changes)72 720 Q
(;; Accidentally discarded w)82 744 Q(ork)-.1 E(\(seal-reco)82 756 Q
-.15(ve)-.15 G 40(r\) ;).15 F(See options)2.5 E 35(\(seal-stash-pop\) ;)
82 768 R(If stashed)2.5 E(;; or)82 780 Q 42.5(\(seal-re\215og\) ;)82 792
R(Find lost commits)2.5 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Scenario 4: Corrupted V)72 24 Q(ault)-1.11 E
(;; Something went v)82 48 Q(ery wrong)-.15 E(\(seal-restore "v)82 60 Q
(ault-2.0.0.archi)-.25 E -.15(ve)-.25 G 2.5("v).15 G(erify-k)-2.65 E
-.15(ey)-.1 G 2.5(:").15 G(alice.pub"\))-2.5 E(------------------------\
------------------------------------------------------)72 84 Q
(Audit Inte)72 108 Q(gration)-.15 E(Ev)72 132 Q(ery v)-.15 E
(ersion operation recorded:)-.15 E(\(audit-entry)82 156 Q(\(action)87
168 Q(\(v)92 180 Q(erb seal-rollback\))-.15 E(\(object "2.0.0"\))92 192
Q(\(parameters)92 204 Q(\(from "2.1.0+3"\))97 216 Q(\(method forw)97 228
Q(ard\))-.1 E(\(reason "Production incident"\)\)\))97 240 Q
(\(seal ...\)\))87 252 Q
(Audit trail answers: - Who rolled back? - When? - From what v)72 276 Q
(ersion? - Wh)-.15 E 2.5(y? \(if)-.05 F(reason pro)2.5 E(vided\))-.15 E
(----------------------------------------------------------------------\
--------)72 300 Q(CLI Interf)72 324 Q(ace)-.1 E 2.5(#C)82 348 S
(urrent v)-2.5 E(ersion)-.15 E 2.5($s)82 360 S(eal v)-2.5 E(ersion)-.15
E(2.1.0+3)82 372 Q 2.5(#L)82 396 S(ist v)-2.5 E(ersions)-.15 E 2.5($s)82
408 S(eal v)-2.5 E(ersions)-.15 E 5(1.0.0 2026-01-01 Initial)82 420 R
(release)2.5 E 5(1.1.0 2026-01-05 Bug)82 432 R<8c78>2.5 E(es)-.15 E 5
(2.0.0 2026-01-10 Ne)82 444 R 2.5(wg)-.25 G -.15(ove)-2.5 G
(rnance model).15 E 5(2.1.0 2026-01-15 Performance)82 456 R(impro)2.5 E
-.15(ve)-.15 G(ments).15 E 2.5(#R)82 480 S(ollback)-2.5 E 2.5($s)82 492
S(eal rollback 2.0.0)-2.5 E(Rolling back to 2.0.0...)82 504 Q 2.5<e252>
82 516 S(ollback complete. No)-2.5 E 2.5(wa)-.25 G 2.5(t2)-2.5 G(.0.0.)
-2.5 E 2.5(#R)82 540 S(ollback with reason)-2.5 E 2.5($s)82 552 S
(eal rollback 2.0.0 --reason "Production incident #123")-2.5 E 2.5(#C)82
576 S(ompare v)-2.5 E(ersions)-.15 E 2.5($s)82 588 S(eal dif)-2.5 E 2.5
(f2)-.25 G(.0.0 2.1.0)-2.5 E 2.5(Mc)84.5 600 S(on\214g.scm)-2.5 E 2.5
(An)84.5 612 S -.25(ew)-2.5 G(-feature.scm).25 E 2.5(Dd)84.5 624 S
(eprecated.scm)-2.5 E 2.5(#R)82 648 S(eco)-2.5 E -.15(ve)-.15 G
(ry options).15 E 2.5($s)82 660 S(eal reco)-2.5 E -.15(ve)-.15 G(r).15 E
(Reco)82 672 Q -.15(ve)-.15 G(ry options:).15 E(1. seal undo)87 684 Q
2.5(-U)25 G(ndo last commit)-2.5 E
(2. seal rollback 2.1.0 - Return to last release)87 696 Q
(3. seal stash pop)87 708 Q 2.5(-R)12.5 G(eco)-2.5 E -.15(ve)-.15 G 2.5
(rs).15 G(tashed changes)-2.5 E(---------------------------------------\
---------------------------------------)72 732 Q(Safety Mechanisms)72
756 Q(Uncommitted Changes)72 780 Q 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(seal-rollback "2.0.0"\))82 12 Q
(;; Error: Uncommitted changes detected.)82 24 Q(;; Use --stash to sa)82
36 Q .3 -.15(ve c)-.2 H(hanges, or --force to discard.).15 E
(Protected V)72 60 Q(ersions)-1.11 E(\(v)82 84 Q
(ault-con\214g 'protected-v)-.25 E(ersions '\("1.0.0" "2.0.0"\)\))-.15 E
(\(seal-rollback "0.9.0"\))82 108 Q(;; W)82 120 Q
(arning: Rolling back past protected v)-.8 E(ersion 1.0.0)-.15 E
(;; This may break compatibility)82 132 Q 2.5(.C)-.65 G(ontinue? [y/N])
-2.5 E(Rollback Limits)72 156 Q(\(v)82 180 Q
(ault-con\214g 'max-rollback-distance 10\))-.25 E
(\(seal-rollback "0.1.0"\))82 204 Q(;; Error: Rollback distance \(20 v)
82 216 Q(ersions\) e)-.15 E(xceeds limit \(10\).)-.15 E
(;; Use --force to o)82 228 Q -.15(ve)-.15 G(rride.).15 E(-------------\
-----------------------------------------------------------------)72 252
Q(Implementation)72 276 Q(seal-rollback Implementation)72 300 Q
(\(de\214ne \(seal-rollback v)82 324 Q(ersion #!k)-.15 E .3 -.15(ey h)
-.1 H(ard stash force reason tag\)).15 E("Roll back v)87 336 Q
(ault to speci\214ed v)-.25 E(ersion")-.15 E(;; V)87 360 Q(alidate v)
-1.11 E(ersion e)-.15 E(xists)-.15 E(\(unless \(tag-e)87 372 Q(xists? v)
-.15 E(ersion\))-.15 E(\(error "V)92 384 Q(ersion not found" v)-1.11 E
(ersion\)\))-.15 E(;; Check for uncommitted changes)87 408 Q
(\(when \(uncommitted-changes?\))87 420 Q(\(cond)92 432 Q
(\(stash \(seal-stash\)\))97 444 Q(\(force \(v)97 456 Q(oid\)\))-.2 E
(\(else \(error "Uncommitted changes. Use stash: or force:"\)\)\)\))97
468 Q(;; Record current state)87 492 Q(\(let \(\(current \(seal-v)87 504
Q(ersion\)\)\))-.15 E(;; Perform rollback)92 528 Q(\(if hard)92 540 Q
(\(hard-rollback! v)102 552 Q(ersion\))-.15 E(\(forw)102 564 Q
(ard-rollback! v)-.1 E(ersion reason\)\))-.15 E
(;; Create tag if requested)92 588 Q(\(when tag)92 600 Q
(\(run-command "git" "tag" tag\)\))97 612 Q(;; Audit)92 636 Q
(\(audit-append)92 648 Q(actor: \(get-v)97 660 Q(ault-principal \(v)-.25
E(ault-con\214g ')-.25 E(signing-k)-.55 E -.15(ey)-.1 G(\)\)).15 E
(action: \(list ')97 672 Q(seal-rollback v)-.55 E(ersion\))-.15 E(moti)
97 684 Q -.25(va)-.25 G
(tion: \(or reason \(sprintf "Rollback from ~a to ~a" current v).25 E
(ersion\)\)\))-.15 E(\(print "\342 Rolled back to " v)92 708 Q
(ersion\)\)\))-.15 E(\(de\214ne \(forw)82 732 Q(ard-rollback! v)-.1 E
(ersion reason\))-.15 E("Create rollback commit \(preserv)87 744 Q
(es history\)")-.15 E(\(run-command "git" "check)87 756 Q(out" v)-.1 E
(ersion "--" "."\))-.15 E(\(run-command "git" "commit" "-m")87 768 Q
(\(sprintf "Rollback to ~a0a" v)92 780 Q(ersion \(or reason ""\)\)\)\))
-.15 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(de\214ne \(hard-rollback! v)82 12 Q(ersion\))
-.15 E("Reset to v)87 24 Q(ersion \(destro)-.15 E(ys history\)")-.1 E
(\(print "W)87 36 Q(ARNING: Hard rollback destro)-1.2 E(ys history"\))
-.1 E(\(run-command "git" "reset" "--hard" v)87 48 Q(ersion\)\))-.15 E(\
-----------------------------------------------------------------------\
-------)72 72 Q(Security Considerations)72 96 Q(Rollback Attacks)72 120
Q(Attack)72 144 Q(er forces rollback to vulnerable v)-.1 E(ersion.)-.15
E(Mitig)72 168 Q
(ation: - Threshold signatures for rollback \(RFC-007\) - Protected v)
-.05 E(ersion list - Audit trail detection)-.15 E(History Manipulation)
72 192 Q(Hard rollback can hide e)72 216 Q(vidence.)-.25 E(Mitig)72 240
Q(ation: - Prefer forw)-.05 E(ard rollback - Audit before hard rollback\
 - Federation replication preserv)-.1 E(es history)-.15 E(-------------\
-----------------------------------------------------------------)72 264
Q(References)72 288 Q 2.895(1. Semantic)72 312 R -1.11(Ve)2.895 G .395
(rsioning 2.0.0 \(semv)1.11 F(er)-.15 E(.or)-.55 E .395(g\) 2.)-.18 F
.395(Git Reset, Check)5.395 F .395(out, and Re)-.1 F -.15(ve)-.25 G .395
(rt \(git-scm.com\) 3.).15 F .395(RFC-003: Crypto-)5.395 F
(graphic Audit T)72 324 Q(rail 4.)-.35 E(RFC-006: V)5 E
(ault System Architecture)-1.11 E(-------------------------------------\
-----------------------------------------)72 348 Q(Changelog)72 372 Q
2.5(-2)72 396 S(026-01-06 - Initial speci\214cation)-2.5 E(------------\
------------------------------------------------------------------)72
420 Q .777(Implementation Status: Proposed Operations: seal-v)72 444 R
.777(ersion, seal-v)-.15 F .777(ersions, seal-rollback, seal-dif)-.15 F
.776(f, seal-reco)-.25 F -.15(ve)-.15 G 3.276(rR).15 G(oll-)-3.276 E
(back Model: F)72 456 Q(orw)-.15 E(ard commit \(history-preserving\))-.1
E 0 Cg EP
%%Trailer
end
%%EOF
