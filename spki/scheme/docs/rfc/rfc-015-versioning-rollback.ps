%!PS-Adobe-3.0
%%Creator: groff version 1.23.0
%%CreationDate: Fri Jan  9 11:49:18 2026
%%DocumentNeededResources: font Times-Roman
%%DocumentSuppliedResources: procset grops 1.23 0
%%Pages: 5
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.23 0
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
% The ASCII code of the space character.
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
% name size font SF -
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
% name a c d font MF -
/MF{
findfont
[5 2 roll
0 3 1 roll % b
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
% Enable manual feed.
% MANUAL -
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
% Guess the page length.
% This assumes that the imageable area is vertically centered on the page.
% PLG - length
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
% BP -
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
% centerx centery radius startangle endangle DA -
/DA{
newpath arcn stroke
}bind def
% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even
/DL{
SN
moveto
SN
lineto stroke
}bind def
% centerx centery radius DC -
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
%  width height centerx centery DE -
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
% these are for splines
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
% fill the last path
% r g b Fr -
/Fr{
setrgbcolor fill
}bind def
% c m y k Fk -
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
% g Fg -
/Fg{
setgray fill
}bind def
% fill with the "current color"
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
% new_font_name encoding_vector old_font_name RE -
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
% hpos vpos EBEGIN -
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
% llx lly newwid wid newht ht newllx newlly PBEGIN -
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
% set the graphics state to default values
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
%
%  Any included setpagedevice should be ignored.
%  See: http://www.w-beer.de/doc/ps/.
%
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(RFC-015: V)72 12 Q(ersioning and Rollback)-1.11
E(Status: Proposed Date: January 2026 Author: Derrell Piper <ddp@eludom\
.net>)72 36 Q(---------------------------------------------------------\
---------------------)72 60 Q(Abstract)72 84 Q 1.49
(This RFC speci\214es user)72 108 R 1.489(-visible v)-.2 F 1.489
(ersioning and rollback semantics for Cyberspace v)-.15 F 1.489
(aults, pro)-.25 F 1.489(viding clear mental)-.15 F(models for v)72 120
Q(ersion management, safe rollback operations, and reco)-.15 E -.15(ve)
-.15 G(ry from mistak).15 E(es.)-.1 E(---------------------------------\
---------------------------------------------)72 144 Q(Moti)72 168 Q
-.25(va)-.25 G(tion).25 E
(Users need simple answers to simple questions:)72 192 Q 2.5(-W)72 216 S
(hat v)-2.5 E(ersion am I on?)-.15 E 2.5(-W)5 G(hat v)-2.5 E(ersions e)
-.15 E 2.5(xist? -)-.15 F(Ho)2.5 E 2.5(wd)-.25 G 2.5(oIg)-2.5 G 2.5(ob)
-2.5 G 2.5(ack? -)-2.5 F(What if I mak)2.5 E 2.5(eam)-.1 G(istak)-2.5 E
(e?)-.1 E(Git pro)72 240 Q(vides mechanisms. Cyberspace pro)-.15 E
(vides semantics:)-.15 E 2.755(`s)72 264 S(eal-v)-2.755 E 20.255
(ersion \342)-.15 F .255("2.1.0" seal-v)2.755 F 17.755(ersions \342)-.15
F .255([1.0.0, 1.1.0, 2.0.0, 2.1.0] seal-rollback 2.0.0)2.755 F 2.755
<e244>5.255 G .255(one. No)-2.755 F 2.755(wa)-.25 G 2.755(t2)-2.755 G
(.0.0.)-2.755 E(seal-reco)72 276 Q -.15(ve)-.15 G 22.5<72e2>.15 G(Here')
-20 E 2.5(sw)-.55 G(hat you can reco)-2.5 E -.15(ve)-.15 G 3.6 -.55
(r. `).15 H(-----------------------------------------------------------\
-------------------)72 300 Q(Speci\214cation)72 324 Q -1.11(Ve)72 348 S
(rsion Model)1.11 E(`)72 372 Q(HEAD)134.5 384 Q<e2>137 396 Q
(1.0.0 \342\342\342 1.1.0 \342\342\342 2.0.0 \342\342\342 2.1.0)82 408 Q
47.5<e2e2>87 420 S 47.5<e2e2>87 432 S(\342\342 seal-rollback tar)-47.5 E
(get)-.18 E<e2>87 444 Q(\342\342\342 seal-archi)87 456 Q .3 -.15(ve s)
-.25 H(napshots `).15 E -1.11(Ve)72 480 S(rsions are semantic \(X.Y)1.11
E(.Z\), immutable, signed.)-1.29 E(HEAD is current w)72 504 Q
(orking state.)-.1 E(Rollback creates forw)72 528 Q
(ard commit that restores past state.)-.1 E(Core Operations)72 552 Q
(seal-v)72 576 Q(ersion)-.15 E(Report current v)72 600 Q(ersion.)-.15 E
(`scheme \(seal-v)72 624 Q
(ersion\) ;; => "2.1.0" or "2.1.0+3" \(3 commits past release\) `)-.15 E
.128(Output format: - X.Y)72 648 R .128(.Z - Exactly at release - X.Y)
-1.29 F .127(.Z+N - N commits past release - X.Y)-1.29 F(.Z-de)-1.29 E
2.627(v-D)-.25 G -2.15 -.25(ev e)-2.627 H .127(lopment branch -).25 F
(un)72 660 Q -.15(ve)-.4 G(rsioned - No releases yet).15 E(seal-v)72 684
Q(ersions)-.15 E(List all v)72 708 Q(ersions.)-.15 E(`scheme \(seal-v)72
732 Q(ersions\) ;; => \("1.0.0" "1.1.0" "2.0.0" "2.1.0"\))-.15 E
(\(seal-v)72 756 Q 1.721(ersions v)-.15 F 1.722
(erbose: #t\) ;; => ;; 1.0.0)-.15 F 4.222(2026-01-01 "Initial)6.722 F
1.722(release" ;; 1.1.0)4.222 F 4.222(2026-01-05 "Bug)6.722 F<8c78>4.222
E 1.722(es" ;; 2.0.0)-.15 F 2.5(2026-01-10 "Ne)72 768 R 2.5(wg)-.25 G
-.15(ove)-2.5 G(rnance model" ;; 2.1.0).15 E 2.5
(2026-01-15 "Performance)5 F(impro)2.5 E -.15(ve)-.15 G(ments" `).15 E
(seal-rollback)72 792 Q 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Roll back to speci\214c v)72 24 Q(ersion.)-.15 E
(`scheme \(seal-rollback "2.0.0"\) `)72 48 Q .46(Process: 1. V)72 72 R
.46(erify v)-1.11 F .46(ersion e)-.15 F .459(xists 2. Check for uncommi\
tted changes \(abort or stash\) 3. Create rollback commit with)-.15 F
(contents of tar)72 84 Q(get v)-.18 E
(ersion 4. Record in audit trail 5. Optionally create rollback tag)-.15
E(Rollback commit message: ` Rollback to 2.0.0)72 108 Q(Restored v)72
132 Q(ault state to v)-.25 E(ersion 2.0.0.)-.15 E(Pre)5 E(vious HEAD w)
-.25 E(as 2.1.0+3.)-.1 E(Reason: [user)72 156 Q(-pro)-.2 E
(vided or "Manual rollback"] `)-.15 E(NO)72 180 Q 2.5(Tag)-.4 G
(it reset. History preserv)-2.5 E(ed. Rollback is a forw)-.15 E
(ard operation.)-.1 E(seal-dif)72 204 Q(f)-.25 E(Compare v)72 228 Q
(ersions.)-.15 E(`scheme \(seal-dif)72 252 Q 2.5(f")-.25 G
(2.0.0" "2.1.0"\) ;; Sho)-2.5 E(ws what changed between v)-.25 E
(ersions)-.15 E(\(seal-dif)72 276 Q 2.5(f")-.25 G(2.0.0"\) ;; Sho)-2.5 E
(ws what changed since 2.0.0 `)-.25 E(seal-reco)72 300 Q -.15(ve)-.15 G
(r).15 E(Reco)72 324 Q -.15(ve)-.15 G(ry options for mistak).15 E(es.)
-.1 E .973(`scheme \(seal-reco)72 348 R -.15(ve)-.15 G .973
(r\) ;; => ;; Reco).15 F -.15(ve)-.15 G .973(ry options: ;;).15 F .974
(1. Uncommitted changes \(stashed 5 minutes ago\) ;;)8.473 F .974
(2. Last)8.474 F(commit \(seal-undo\) ;;)72 360 Q(3. V)7.5 E
(ersion 2.1.0 \(seal-rollback "2.1.0"\) ;;)-1.11 E(4. Archi)7.5 E .3
-.15(ve v)-.25 H(ault-2.0.0.archi)-.1 E .3 -.15(ve \()-.25 H
(seal-restore\) `).15 E(-----------------------------------------------\
-------------------------------)72 384 Q(Rollback Semantics)72 408 Q
-.15(Fo)72 432 S(rw).15 E(ard Rollback \(Def)-.1 E(ault\))-.1 E 2.5(`B)
72 456 S 2.5(efore: 1.0.0)-2.5 F 2.5<e231>2.5 G
(.1.0 \342 2.0.0 \342 2.1.0 \342 HEAD)-2.5 E<e2>137 468 Q(rollback tar)
124.5 480 Q(get)-.18 E 5(After: 1.0.0)72 504 R 2.5<e231>2.5 G
(.1.0 \342 2.0.0 \342 2.1.0 \342 [rollback commit])-2.5 E 55<e2e2>137
516 S<e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2>137 528 Q
(contents match)147 540 Q(`)72 564 Q(History preserv)72 588 Q
(ed. Audit trail sho)-.15 E(ws rollback.)-.25 E
(Hard Rollback \(Dangerous\))72 612 Q
(`scheme \(seal-rollback "2.0.0" hard: #t\) `)72 636 Q
(Actually resets to v)72 660 Q(ersion. Destro)-.15 E(ys history)-.1 E(.)
-.65 E(Requires: - Explicit hard: #t \215ag - Con\214rmation prompt - A\
udit entry before destruction)72 684 Q(Rollback with Stash)72 708 Q
(`scheme \(seal-rollback "2.0.0" stash: #t\) `)72 732 Q
(Stashes uncommitted changes before rollback. Can reco)72 756 Q -.15(ve)
-.15 G 2.5(rw).15 G(ith:)-2.5 E(`scheme \(seal-stash-pop\) `)72 780 Q 0
Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(-----------------------------------------------\
-------------------------------)72 12 Q -1.11(Ve)72 36 S(rsion T)1.11 E
(ags)-.8 E(Automatic T)72 60 Q(agging)-.8 E .287
(`scheme \(seal-release "2.1.0"\) ;; Creates: ;;)72 84 R 2.787(-G)7.787
G .286(it tag: 2.1.0 ;;)-2.787 F 2.786(-S)7.786 G .286(ignature: .v)
-2.786 F .286(ault/releases/2.1.0.sig ;;)-.25 F 2.786(-A)7.786 G .286
(udit entry)-2.786 F(`)72 96 Q(Rollback T)72 120 Q(ags)-.8 E(`scheme \(\
seal-rollback "2.0.0" tag: "rollback-2026-01-15"\) ;; Creates additiona\
l tag marking rollback point `)72 144 Q -.8(Ta)72 168 S 2.5(gL).8 G
(isting)-2.5 E 3.705(`scheme \(seal-tags\) ;; => ;; 1.0.0)72 192 R 6.205
(2026-01-01 release)38.705 F 3.706(;; 1.1.0)6.205 F 6.206
(2026-01-05 release)38.706 F 3.706(;; 2.0.0)6.206 F 2.5
(2026-01-10 release)72 204 R(;; 2.1.0)2.5 E 2.5(2026-01-15 release)35 F
(;; rollback-2026-01-15 2026-01-15)2.5 E(rollback `)5 E(---------------\
---------------------------------------------------------------)72 228 Q
(Reco)72 252 Q -.15(ve)-.15 G(ry Scenarios).15 E(Scenario 1: Bad Commit)
72 276 Q 1.31(`scheme ;; Oops, committed brok)72 300 R 1.309
(en code \(seal-undo\))-.1 F 3.809(;U)51.309 G 1.309
(ndo last commit ;; or \(seal-rollback "2.1.0"\))-3.809 F 2.5(;B)72 312
S(ack to last release `)-2.5 E(Scenario 2: Bad Release)72 336 Q 1.147
(`scheme ;; Released 2.2.0 b)72 360 R 1.147(ut it')-.2 F 3.647(sb)-.55 G
(rok)-3.647 E 1.147(en \(seal-rollback "2.1.0"\))-.1 F 3.647(;B)21.147 G
1.148(ack to good v)-3.647 F 1.148(ersion \(seal-release "2.2.1"\))-.15
F 2.5(;P)72 372 S(atch release `)-2.65 E(Scenario 3: Lost Changes)72 396
Q .12(`scheme ;; Accidentally discarded w)72 420 R .119(ork \(seal-reco)
-.1 F -.15(ve)-.15 G 40.119(r\) ;).15 F .119
(See options \(seal-stash-pop\))2.619 F 2.619(;I)37.619 G 2.619(fs)
-2.619 G .119(tashed ;;)-2.619 F(or \(seal-re\215og\))72 432 Q 2.5(;F)45
G(ind lost commits `)-2.5 E(Scenario 4: Corrupted V)72 456 Q(ault)-1.11
E(`scheme ;; Something went v)72 480 Q(ery wrong \(seal-restore "v)-.15
E(ault-2.0.0.archi)-.25 E -.15(ve)-.25 G 2.5("v).15 G(erify-k)-2.65 E
-.15(ey)-.1 G 2.5(:").15 G(alice.pub"\) `)-2.5 E(----------------------\
--------------------------------------------------------)72 504 Q
(Audit Inte)72 528 Q(gration)-.15 E(Ev)72 552 Q(ery v)-.15 E
(ersion operation recorded:)-.15 E(`scheme \(audit-entry)72 576 Q
(\(action)77 588 Q(\(v)82 600 Q(erb seal-rollback\))-.15 E
(\(object "2.0.0"\))82 612 Q(\(parameters)82 624 Q(\(from "2.1.0+3"\))87
636 Q(\(method forw)87 648 Q(ard\))-.1 E
(\(reason "Production incident"\)\)\))87 660 Q(\(seal ...\)\))77 672 Q
(`)5 E(Audit trail answers: - Who rolled back?)72 696 Q 2.5(-W)5 G 2.5
(hen? -)-2.5 F(From what v)2.5 E 2.5(ersion? -)-.15 F(Wh)2.5 E
(y? \(if reason pro)-.05 E(vided\))-.15 E(-----------------------------\
-------------------------------------------------)72 720 Q(CLI Interf)72
744 Q(ace)-.1 E(`bash Current v)72 768 Q(ersion $ seal v)-.15 E
(ersion 2.1.0+3)-.15 E 1.32(List v)72 792 R 1.32(ersions $ seal v)-.15 F
1.321(ersions 1.0.0)-.15 F 6.321(2026-01-01 Initial)8.821 F 1.321
(release 1.1.0)3.821 F 6.321(2026-01-05 Bug)8.821 F<8c78>3.821 E 1.321
(es 2.0.0)-.15 F(2026-01-10)8.821 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Ne)72 12 Q 2.5(wg)-.25 G -.15(ove)-2.5 G
(rnance model 2.1.0).15 E 5(2026-01-15 Performance)7.5 F(impro)2.5 E
-.15(ve)-.15 G(ments).15 E
(Rollback $ seal rollback 2.0.0 Rolling back to 2.0.0...)72 36 Q 2.5
<e252>5 G(ollback complete. No)-2.5 E 2.5(wa)-.25 G 2.5(t2)-2.5 G(.0.0.)
-2.5 E(Rollback with reason $ seal rollback 2.0.0 --reason "Production \
incident #123")72 60 Q(Compare v)72 84 Q(ersions $ seal dif)-.15 E 2.5
(f2)-.25 G(.0.0 2.1.0)-2.5 E 2.5(Mc)74.5 96 S(on\214g.scm)-2.5 E 2.5(An)
74.5 108 S -.25(ew)-2.5 G(-feature.scm).25 E 2.5(Dd)74.5 120 S
(eprecated.scm)-2.5 E(Reco)72 144 Q -.15(ve)-.15 G
(ry options $ seal reco).15 E -.15(ve)-.15 G 2.5(rR).15 G(eco)-2.5 E
-.15(ve)-.15 G(ry options:).15 E(1. seal undo)77 156 Q 2.5(-U)25 G
(ndo last commit)-2.5 E(2. seal rollback 2.1.0 - Return to last release)
77 168 Q(3. seal stash pop)77 180 Q 2.5(-R)12.5 G(eco)-2.5 E -.15(ve)
-.15 G 2.5(rs).15 G(tashed changes `)-2.5 E(---------------------------\
---------------------------------------------------)72 204 Q
(Safety Mechanisms)72 228 Q(Uncommitted Changes)72 252 Q .141(`scheme \
\(seal-rollback "2.0.0"\) ;; Error: Uncommitted changes detected.)72 276
R .141(;; Use --stash to sa)5.141 F .44 -.15(ve c)-.2 H .14
(hanges, or --force to).15 F 2.5(discard. `)72 288 R(Protected V)72 312
Q(ersions)-1.11 E(`scheme \(v)72 336 Q(ault-con\214g 'protected-v)-.25 E
(ersions '\("1.0.0" "2.0.0"\)\))-.15 E .802
(\(seal-rollback "0.9.0"\) ;; W)72 360 R .803
(arning: Rolling back past protected v)-.8 F .803
(ersion 1.0.0 ;; This may break compatibility)-.15 F 3.303(.C)-.65 G
(on-)-3.303 E(tinue? [y/N] `)72 372 Q(Rollback Limits)72 396 Q
(`scheme \(v)72 420 Q(ault-con\214g 'max-rollback-distance 10\))-.25 E
(\(seal-rollback "0.1.0"\) ;; Error: Rollback distance \(20 v)72 444 Q
(ersions\) e)-.15 E(xceeds limit \(10\).)-.15 E(;; Use --force to o)5 E
-.15(ve)-.15 G 2.5(rride. `).15 F(-------------------------------------\
-----------------------------------------)72 468 Q(Implementation)72 492
Q(seal-rollback Implementation)72 516 Q
(`scheme \(de\214ne \(seal-rollback v)72 540 Q(ersion #!k)-.15 E .3 -.15
(ey h)-.1 H(ard stash force reason tag\)).15 E("Roll back v)77 552 Q
(ault to speci\214ed v)-.25 E(ersion")-.15 E(;; V)77 576 Q(alidate v)
-1.11 E(ersion e)-.15 E(xists)-.15 E(\(unless \(tag-e)77 588 Q(xists? v)
-.15 E(ersion\))-.15 E(\(error "V)82 600 Q(ersion not found" v)-1.11 E
(ersion\)\))-.15 E(;; Check for uncommitted changes)77 624 Q
(\(when \(uncommitted-changes?\))77 636 Q(\(cond)82 648 Q
(\(stash \(seal-stash\)\))87 660 Q(\(force \(v)87 672 Q(oid\)\))-.2 E
(\(else \(error "Uncommitted changes. Use stash: or force:"\)\)\)\))87
684 Q(;; Record current state)77 708 Q(\(let \(\(current \(seal-v)77 720
Q(ersion\)\)\))-.15 E(;; Perform rollback)82 744 Q(\(if hard)82 756 Q
(\(hard-rollback! v)92 768 Q(ersion\))-.15 E(\(forw)92 780 Q
(ard-rollback! v)-.1 E(ersion reason\)\))-.15 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(;; Create tag if requested)82 12 Q(\(when tag)82
24 Q(\(run-command "git" "tag" tag\)\))87 36 Q(;; Audit)82 60 Q
(\(audit-append)82 72 Q(actor: \(get-v)87 84 Q(ault-principal \(v)-.25 E
(ault-con\214g ')-.25 E(signing-k)-.55 E -.15(ey)-.1 G(\)\)).15 E
(action: \(list ')87 96 Q(seal-rollback v)-.55 E(ersion\))-.15 E(moti)87
108 Q -.25(va)-.25 G
(tion: \(or reason \(sprintf "Rollback from ~a to ~a" current v).25 E
(ersion\)\)\))-.15 E(\(print "\342 Rolled back to " v)82 132 Q
(ersion\)\)\))-.15 E(\(de\214ne \(forw)72 156 Q(ard-rollback! v)-.1 E
(ersion reason\))-.15 E("Create rollback commit \(preserv)77 168 Q
(es history\)")-.15 E(\(run-command "git" "check)77 180 Q(out" v)-.1 E
(ersion "--" "."\))-.15 E(\(run-command "git" "commit" "-m")77 192 Q
(\(sprintf "Rollback to ~a0a" v)82 204 Q(ersion \(or reason ""\)\)\)\))
-.15 E(\(de\214ne \(hard-rollback! v)72 228 Q(ersion\))-.15 E
("Reset to v)77 240 Q(ersion \(destro)-.15 E(ys history\)")-.1 E
(\(print "W)77 252 Q(ARNING: Hard rollback destro)-1.2 E(ys history"\))
-.1 E(\(run-command "git" "reset" "--hard" v)77 264 Q(ersion\)\) `)-.15
E(---------------------------------------------------------------------\
---------)72 288 Q(Security Considerations)72 312 Q(Rollback Attacks)72
336 Q(Attack)72 360 Q(er forces rollback to vulnerable v)-.1 E(ersion.)
-.15 E(Mitig)72 384 Q
(ation: - Threshold signatures for rollback \(RFC-007\) - Protected v)
-.05 E(ersion list - Audit trail detection)-.15 E(History Manipulation)
72 408 Q(Hard rollback can hide e)72 432 Q(vidence.)-.25 E(Mitig)72 456
Q(ation: - Prefer forw)-.05 E(ard rollback - Audit before hard rollback\
 - Federation replication preserv)-.1 E(es history)-.15 E(-------------\
-----------------------------------------------------------------)72 480
Q(References)72 504 Q .931(1. Semantic V)72 528 R .931
(ersioning 2.0.0 \(semv)-1.11 F(er)-.15 E(.or)-.55 E .931
(g\) 2. Git Reset, Check)-.18 F .931(out, and Re)-.1 F -.15(ve)-.25 G
.93(rt \(git-scm.com\) 3. RFC-003: Crypto-).15 F(graphic Audit T)72 540
Q(rail 4. RFC-006: V)-.35 E(ault System Architecture)-1.11 E(----------\
--------------------------------------------------------------------)72
564 Q(Changelog)72 588 Q 2.5(-2)72 612 S
(026-01-06 - Initial speci\214cation)-2.5 E(---------------------------\
---------------------------------------------------)72 636 Q .776
(Implementation Status: Proposed Operations: seal-v)72 660 R .777
(ersion, seal-v)-.15 F .777(ersions, seal-rollback, seal-dif)-.15 F .777
(f, seal-reco)-.25 F -.15(ve)-.15 G 3.277(rR).15 G(oll-)-3.277 E
(back Model: F)72 672 Q(orw)-.15 E(ard commit \(history-preserving\))-.1
E 0 Cg EP
%%Trailer
end
%%EOF
