RFC-058: Designer Notes
Loch Lambda

Status: Living Document
Date: January 2026

------------------------------------------------------------------------

------------------------------------------------------------------------
ABSTRACT
------------------------------------------------------------------------

Personal history, design decisions, and accumulated wisdom from building
Cyberspace. This RFC grows as the weave deepens.


------------------------------------------------------------------------
1. LINEAGE
------------------------------------------------------------------------


1.1 VMS Security (1984-1994)
----------------------------

The designer was engineering lead for TCSEC C2/B1 certification on
VAX/VMS and Alpha VMS, and owned the VMS 6.0 release.

The Security Project Team: Derrell Piper, Mark Pilant, Andy Goldstein.

What we built:

  * $CHKPRO - the privilege checking gate
  * The entire auditing subsystem (final form)
  * C2/B1 certified security model

When Cutler left for Microsoft, his modules were inherited. The
privilege auditing rototill required fluency in MACRO-32.


1.2 TGV and IPsec (1994-2001)
-----------------------------

After DEC, the designer joined TGV Inc. (MultiNet TCP/IP for VMS).
Designed all of Secure/IP and the Kerberized VAX/VMS SSO using Kerberos.

Cisco acquired TGV in 1996, thinking they were buying a Windows TCP/IP
stack. They weren't. MultiNet was VMS networking; the Windows products
were incidental.

The IPsec/IKE work continued through Network Alchemy (acquired by
Nokia). The designer authored , 'A GSS-API Authentication Method for
IKE', which documented how to authenticate IKE using Kerberos over
GSS-API.

Brian Swander was added as co-author to hand the specification to
Microsoft for Windows 2000 implementation. The Vendor Payload extension
mechanism in IKE was added to encapsulate Microsoft's GSS-API extension
cleanly.

That same Vendor Payload mechanism was later used extensively in
AlchemyOS for proprietary extensions without breaking interoperability.
Good protocol design: create a generic extension point for one use case,
it becomes useful for everyone.

The path: DEC > TGV > Cisco > Network Alchemy > Nokia, carrying
IPsec/IKE expertise through each transition. The work survives in
Windows cross-realm domain authentication to this day.

Acknowledgments for the NT IPsec/IKE work: George Lake, Rob Adams, Max
Pritikin, John [TODO], Anne Church, Peter Ford, and William Dixon who
spearheaded IPv6 integration into NT5 (Windows 2000).


1.3 Languages
-------------

BLISS - Bill Wulf at CMU (1969) created BLISS as an expression language,
not 'DEC's C'. Everything returns a value. Lisp in systems clothing.

MACRO-32 - VAX assembly with rich macros. The kernel was MACRO-32.

The VMS Runtime - Had a rich macro wrapper for BLISS. That macro system
was a Lisp. We knew.

The designer came to VMS as a Lisper, fell in love with BLISS (an
expression language, like home).


1.4 Syntax Heritage
-------------------

Dylan-style keyword arguments are a tribute to Apple Cambridge and MIT:


    (translate text from: 'en to: 'fr)
    (enroll-request name timeout: 30)

Self syntax was weird. Smalltalk doesn't work for math people. Scheme is
honest - prefix, unambiguous, mathematical.


1.5 System Service Vocabulary
-----------------------------

The VMS system service vocabulary provides the conceptual heritage for
Cyberspace's security primitives.

The security subsystem was written exclusively in BLISS (with MACRO-32
fluency for reading the layers beneath). Now it's Scheme.

Access check pattern:


    $CREATE_USER_PROFILE  >  builds encoded user security profile
            v
    $CHKPRO / $CHECK_ACCESS  >  evaluates access using profile + object protection
            v
    SS$_NORMAL / SS$_NOPRIV  >  grant or deny

Key item codes (CHP$_*):

  * CHP$_ACCESS > access-mask (requested access type bitmask)
  * CHP$_PROT > protection (SOGW protection mask)
  * CHP$_OWNER > owner (object owner identifier)
  * CHP$_UIC > principal (accessor's identity)
  * CHP$_PRIV > privileges (privilege mask)
  * CHP$_ACL > acl (access control list)
  * CHP$_FLAGS > flags (check options: observe/alter)

Flags: CHP$V_AUDIT > audit?, CHP$V_OBSERVE > read?, CHP$V_ALTER > write?

Return status: SS$_NORMAL > #t, SS$_NOPRIV > #f, SS$_ACCVIO > 'accvio,
SS$_IVACL > 'invalid-acl

Impersonation ($PERSONA_*): Used by DECdfs and distributed file services
to act on behalf of remote clients without re-implementing access
checks.

$PERSONA was designed by the DEC Distributed File System group, not VMS
Engineering.

The original $IMPERSONATION framework was authored by Rich Bouchard. It
was lost during the Mitnick incidents when Andy Goldstein and I decided
we needed to rebuild our compiler chain from known good offsite backups
- with Ken Thompson's 'Reflections on Trusting Trust' fresh in our
minds. In doing so, we lost a year of development during Alpha,
including the original kernel threads implementation and the
$IMPERSONATION framework.


------------------------------------------------------------------------
2. DESIGN PRINCIPLES
------------------------------------------------------------------------


2.1 TCB Minimization
--------------------

From TCSEC: 'Small, proven, frozen' - only put in the TCB what you can
verify.


    TCB (OCaml):     ~1000 lines, proven in Coq
    Everything else: Chicken Scheme, can evolve freely


2.2 The Vault is the Disk
-------------------------

VAXcluster had multiple subsystems (MSCP, DLM, SCS, quorum disk, LAVC).
Cyberspace has one abstraction: the vault. It subsumes all of them.


2.3 Audit Everything
--------------------

$CHKPRO checked privileges. The auditing subsystem logged decisions.
Both were ours. Cyberspace continues this.


------------------------------------------------------------------------
3. THE SOUP
------------------------------------------------------------------------

The vault browser is called 'soup' after Newton's persistent object
store (1993).


    Newton soup:      Persistent frames, automatic storage
    Cyberspace soup:  Vault objects, content-addressed

Apple Newton -> Dylan -> Scheme. The soup survives.


------------------------------------------------------------------------
4. THE RAGA FAVICON
------------------------------------------------------------------------

The Library's favicon is a lambda whose color morphs through the day.


4.1 The Prahar (Watches)
------------------------


    04-06  violet    brahma muhurta (pre-dawn meditation)
    06-08  gold      dawn
    08-11  teal      morning
    11-14  phosphor  midday
    14-17  neon      afternoon
    17-19  orange    sunset
    19-22  coral     evening
    22-04  cyan      night


4.2 Why Ragas?
--------------

Indian classical music assigns ragas to specific times of day. A morning
raga played at midnight is wrong - not because of rules, but because it
doesn't fit. The music knows when it should be heard.


4.3 Why a Breathing Lambda?
---------------------------

The lambda isn't just a logo - it's the fundamental unit. What Scheme
computes, what the weave is made of. Every function, every object, every
sealed thing in the vault is lambdas all the way down.

The color morphing isn't decoration - it's the weave breathing. Lambdas
are being gathered, tested, frozen into vaults across time zones. The
color you see is the pulse of that activity.


4.4 The Easter Egg
------------------

Someone notices their lambda is orange, asks why, and learns: 'You're
seeing sunset. Somewhere, lambdas are being gathered into the weave of
Cyberspace.'

Those who need to ask are in need of enlightenment. The Library is here
to provide it. They came for the RFCs, they left understanding the
lambda.

The brahma muhurta violet isn't just pretty - it's the hour of
enlightenment. If they're seeing violet, they're already up at the right
time.


------------------------------------------------------------------------
5. WEAVING BY LAMBDA
------------------------------------------------------------------------

Weaving by lambda - the craft. The act of building, creating, adding to
Cyberspace.

Loch lambda - the measure of depth achieved. How far have you gone? How
much have you woven?

The deeper you weave, the more loch lambda you've earned. A merit badge
for the depths explored.

The weave thickens as lambdas accrete. Each function, each object, each
sealed thing adds to the fabric. The loch deepens.

The pun layers: LOC (lines of code) -> loc/lambda (lambdas as unit) ->
loch lambda (the depths).

Zen is below 10. Enlightened code is under 10 loc/lambda. Small,
focused, one thing done well.


------------------------------------------------------------------------
6. FORMAT PHILOSOPHY
------------------------------------------------------------------------

The web forgot that good enough is good enough.

JPEG worked. PNG worked. FLAC worked. But someone always needs 3% better
compression at the cost of yet another decoder in every browser, another
format to support forever, another thing that might not render in ten
years.

Plan 9 had one image format. Unix had pipes and text. Lisp has
s-expressions. The power comes from composing a few things well, not
accumulating special cases.

SVG is in the right spirit - just XML describing geometry. The browser
already has the renderer. No new codec, no binary blob, no patent
minefield.

The dumb web optimizes for benchmarks. The good web optimizes for
durability.


------------------------------------------------------------------------
7. HUMAN INTERFACE PRINCIPLES
------------------------------------------------------------------------


7.1 Output Philosophy
---------------------

  * Silence is default - Success prints nothing. Failure is an error.
  * No developer notes - If it's not for the user, it doesn't print.
  * Verbose is opt-in - --verbose for play-by-play, otherwise quiet.
  * Consequential operations may announce - Enrollment, federation changes, realm joins.


7.2 Async Model
---------------

  * Prompts return frequently, don't block on long operations.
  * Background work runs async, notify on completion.
  * Notifications are optional - check when you want, never modal, never blocking.
  * Your response is never required.


7.3 Introspection by Semantic Type
----------------------------------

Not a generic notification queue. Organized by type of operation:
enrollments, syncs, votes, federation requests. Each reflected where it
makes sense. Introspect by what it *is*, not dig through a queue.


7.4 Governance
--------------

Passive consent: silence is assent to federation consensus. If you don't
vote, you live with the federation's decision. Fork your own security
policy in your realm if you disagree.


7.5 VMS Lessons
---------------

  * $FAO-style formatted output for the TCB - clean ASCII.
  * No calling the runtime from the TCB.
  * The audit and protected subsystems live in their own UI layer.


7.6 Help Command Behavior
-------------------------

/?/ (and help variants) should always be useful across the REPL. When
there's nothing contextual to offer, still try to be helpful - offer
general guidance, suggest related commands, or at minimum apologize for
not being able to offer specific help.


------------------------------------------------------------------------
CHANGELOG
------------------------------------------------------------------------

- 2026-01-13 - Section 1.2 TGV and IPsec: Secure/IP, GSS-API/IKE draft,
Vendor Payload, AlchemyOS

- 2026-01-13 - Rich Bouchard, $IMPERSONATION, Mitnick, Trusting Trust

- 2026-01-13 - Section 1.5 System Service Vocabulary (CHP$_*,
$PERSONA_*)

- 2026-01-13 - Section 7 Human Interface Principles

- 2026-01-13 - Weaving by lambda, loch lambda as merit

- 2026-01-13 - Initial specification, migrated from DESIGNER-NOTES.md

------------------------------------------------------------------------
