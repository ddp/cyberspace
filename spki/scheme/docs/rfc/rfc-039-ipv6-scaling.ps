%!PS-Adobe-3.0
%%Creator: groff version 1.23.0
%%CreationDate: Thu Jan  8 15:17:54 2026
%%DocumentNeededResources: font Times-Roman
%%DocumentSuppliedResources: procset grops 1.23 0
%%Pages: 9
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.23 0
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
% The ASCII code of the space character.
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
% name size font SF -
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
% name a c d font MF -
/MF{
findfont
[5 2 roll
0 3 1 roll % b
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
% Enable manual feed.
% MANUAL -
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
% Guess the page length.
% This assumes that the imageable area is vertically centered on the page.
% PLG - length
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
% BP -
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
% centerx centery radius startangle endangle DA -
/DA{
newpath arcn stroke
}bind def
% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even
/DL{
SN
moveto
SN
lineto stroke
}bind def
% centerx centery radius DC -
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
%  width height centerx centery DE -
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
% these are for splines
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
% fill the last path
% r g b Fr -
/Fr{
setrgbcolor fill
}bind def
% c m y k Fk -
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
% g Fg -
/Fg{
setgray fill
}bind def
% fill with the "current color"
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
% new_font_name encoding_vector old_font_name RE -
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
% hpos vpos EBEGIN -
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
% llx lly newwid wid newht ht newllx newlly PBEGIN -
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
% set the graphics state to default values
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
%
%  Any included setpagedevice should be ignored.
%  See: http://www.w-beer.de/doc/ps/.
%
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Roman
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Roman@0 ENC0/Times-Roman RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(RFC-039: Scaling Architecture for IPv6)72 12 Q
.227(Status: Draft Date: January 2026 Author: Derrell Piper ddp@eludom.\
net Requires: RFC-010 \(Federation\), RFC-016)72 36 R
(\(Lazy Clustering\), RFC-037 \(Node Roles\))72 48 Q(------------------\
------------------------------------------------------------)72 72 Q
(Abstract)72 96 Q .162(This RFC de\214nes the architectural changes req\
uired to scale Cyberspace from a git-back)72 120 R .163
(ed prototype to a nati)-.1 F .463 -.15(ve d)-.25 H(is-).15 E(trib)72
132 Q .717
(uted system capable of operating at IPv6 scale \(billions of realms, e)
-.2 F .717(xabytes of content\). Git becomes an e)-.15 F(xport)-.15 E
(format; the v)72 144 Q(ault becomes the source of truth.)-.25 E(------\
-----------------------------------------------------------------------\
-)72 168 Q -.7(Te)72 192 S(rminology).7 E .5
(Realm: A node\342s place in c)72 216 R .5(yberspace - its v)-.15 F .501
(ault, principal, capabilities, and objects. Each realm is so)-.25 F
-.15(ve)-.15 G .501(reign: local-).15 F
(\214rst, controlled by its operator)72 228 Q 5(.R)-.55 G(ealms federat\
e by choice, sharing objects according to trust relationships.)-5 E
-1.11(Va)72 252 S .032
(ult: The local content-addressed object store \(.v)1.11 F .031
(ault/\). The v)-.25 F .031
(ault IS the realm\342s storage - all objects, catalogs, audit)-.25 F
(trails, and con\214guration li)72 264 Q .3 -.15(ve h)-.25 H(ere.).15 E
1.332(Principal: A node\342s cryptographic identity \(Ed25519 public k)
72 288 R -.15(ey)-.1 G 1.332
(\). The principal identi\214es the realm to peers and).15 F
(signs its objects.)72 300 Q .214(At IPv6 scale, c)72 324 R .214
(yberspace consists of billions of realms, each occup)-.15 F .213
(ying its o)-.1 F .213(wn address space, each so)-.25 F -.15(ve)-.15 G
.213(reign, each).15 F(choosing what to share and with whom.)72 336 Q(-\
-----------------------------------------------------------------------\
------)72 360 Q(Moti)72 384 Q -.25(va)-.25 G(tion).25 E .256(Git serv)72
408 R .257(ed as an e)-.15 F .257(xcellent prototype substrate: - Conte\
nt-addressed objects \(proof of concept\) - Merkle tree inte)-.15 F
(grity)-.15 E(\(v)72 420 Q
(alidates the model\) - Ubiquitous tooling \(bootstrap adoption\))-.25 E
.285(Git cannot scale to IPv6: - Full history on e)72 444 R -.15(ve)-.25
G .284(ry clone - Repository as replication unit \(too coarse\) - SHA-1\
 \(crypto-).15 F(graphically brok)72 456 Q(en\) - No nati)-.1 E .3 -.15
(ve f)-.25 H(ederation or disco).15 E -.15(ve)-.15 G(ry - Mer).15 E
(ge semantics are wrong model)-.18 E
(The internet has 2^128 addresses. Cyberspace should use them.)72 480 Q
(----------------------------------------------------------------------\
--------)72 504 Q(Design Principles)72 528 Q
(1. Objects, not repositories)82 552 Q(2. Pull, not push)82 564 Q
(3. Lazy)82 576 Q 2.5(,n)-.65 G(ot eager)-2.5 E
(4. Local-\214rst, federate-second)82 588 Q(5. T)82 600 Q
(rust math, not infrastructure)-.35 E(---------------------------------\
---------------------------------------------)72 624 Q
(Content-Addressed Object Store)72 648 Q(Storage Model)72 672 Q(.v)82
696 Q(ault/)-.25 E(objects/)87 708 Q 7.5(sha512-a1b2c3.../ #)92 720 R
(First 8 chars as directory)2.5 E 7.5(a1b2c3d4e5f6... #)97 732 R
(Full hash as \214lename \(S-e)2.5 E(xpression\))-.15 E(catalog/)87 744
Q(manifest.se)92 756 Q 17.5(xp #)-.15 F -1.11(Va)2.5 G
(ult catalog object)1.11 E(bloom.se)92 768 Q 25(xp #)-.15 F
(Bloom \214lter object)2.5 E 30(indices/ #)92 780 R(Secondary inde)2.5 E
2.5(xo)-.15 G(bjects)-2.5 E(by-signer)97 792 Q(.se)-.55 E(xp)-.15 E 0 Cg
EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(by-type.se)97 12 Q(xp)-.15 E(chunks/)87 24 Q 20
(sha512-xxxx/ #)92 36 R(Chunk)2.5 E(ed lar)-.1 E(ge objects)-.18 E
(audit/)87 48 Q(head.se)92 60 Q 27.5(xp #)-.15 F
(Current audit chain head)2.5 E 35(chain/ #)92 72 R
(Audit entries \(hash-addressed\))2.5 E(Object F)72 96 Q(ormat)-.15 E
(\(c)82 120 Q(yberspace-object)-.15 E(\(v)87 132 Q(ersion 1\))-.15 E
(\(type blob|tree|manifest|cert|audit\))87 144 Q(\(size 1048576\))87 156
Q(\(compression zstd|none\))87 168 Q(\(hash "sha512:a1b2c3..."\))87 180
Q(\(chunks \("sha512:..." "sha512:..." ...\)\))87 192 Q 2.5(;I)5 G 2.5
(fc)-2.5 G(hunk)-2.5 E(ed)-.1 E(\(signature "ed25519:..."\))87 204 Q
(\(timestamp 1736300000\)\))87 216 Q(Chunking Strate)72 240 Q(gy)-.15 E
(Lar)72 264 Q(ge objects split at content-de\214ned boundaries \(Rabin \
\214ngerprinting\):)-.18 E -.8(Ta)82 288 S -.18(rg).8 G
(et chunk: 64 KB \(Starlink-optimized\)).18 E(Min chunk:)82 300 Q(16 KB)
10 E(Max chunk:)82 312 Q(256 KB)7.5 E(Bene\214ts:)82 336 Q 2.5(-D)87 348
S(eduplication across objects)-2.5 E 2.5(-P)87 360 S
(artial sync \(fetch only missing chunks\))-2.65 E 2.5(-R)87 372 S
(esumable transfers)-2.5 E 2.5(-E)87 384 S -.25<668c>-2.5 G(cient dif)
.25 E(f)-.25 E(Hash Function)72 408 Q(SHA-512 e)82 432 Q -.15(ve)-.25 G
(rywhere.).15 E(Not SHA-256: W)82 456 Q 2.5(eh)-.8 G -2.25 -.2(av e)-2.5
H(the bits, use them.)2.7 E(Not SHA-1: Brok)82 468 Q(en.)-.1 E
(Not BLAKE3: Less analyzed, mar)82 480 Q(ginal speed g)-.18 E
(ain irrele)-.05 E -.25(va)-.25 G(nt at netw).25 E(ork latenc)-.1 E -.65
(y.)-.15 G(SHA-512 is:)82 504 Q 2.5(-F)87 516 S(IPS certi\214ed \(Go)
-2.5 E(vCloud path\))-.15 E 2.5(-5)87 528 S 2.5(0y)-2.5 G
(ears of cryptanalysis)-2.5 E 2.5(-H)87 540 S(ardw)-2.5 E
(are accelerated)-.1 E 2.5(-A)87 552 S
(lready in use \(audit trail, signatures\))-2.5 E(---------------------\
---------------------------------------------------------)72 576 Q
(Catalog and Query)72 600 Q
(The soup IS the catalog. No SQL. Objects are S-e)72 624 Q
(xpressions, queries are pattern matching.)-.15 E(The Soup Query Model)
72 648 Q(;; Find objects by pattern)82 672 Q(\(soup-query)82 684 Q('\(c)
87 696 Q(yberspace-object)-.15 E(\(type blob\))92 708 Q
(\(signer "ed25519:alice..."\))92 720 Q 57.5(?rest\)\) ;)92 732 R
(Match an)2.5 E 2.5(yo)-.15 G(bject signed by Alice)-2.5 E
(;; Find by hash \(direct lookup\))82 756 Q
(\(soup-fetch "sha512:a1b2c3..."\))82 768 Q 2.5(;O)10 G
(\(1\) content-addressed)-2.5 E(;; Find by type)82 792 Q 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(soup-query '\(c)82 12 Q
(yberspace-object \(type cert\) ?rest\)\))-.15 E(;; Find by time range)
82 36 Q(\(soup-query-range)82 48 Q(type: 'audit)87 60 Q
(from: 1736000000)87 72 Q 5(to: 1736100000\))87 84 R(;; Cursor)82 108 Q
(-based iteration for lar)-.2 E(ge result sets)-.18 E(\(soup-cursor)82
120 Q('\(c)87 132 Q(yberspace-object \(type ?\) ?rest\))-.15 E
(batch: 100\))87 144 Q(Object Catalog)72 168 Q
(The catalog is itself an object in the soup - a manifest of what the v)
72 192 Q(ault contains:)-.25 E(\(v)82 216 Q(ault-catalog)-.25 E(\(v)87
228 Q(ersion 1\))-.15 E(\(realm "ed25519:principal..."\))87 240 Q
(\(object-count 150000\))87 252 Q(\(types)87 264 Q(\(blob 100000\))92
276 Q(\(tree 30000\))92 288 Q(\(cert 15000\))92 300 Q(\(audit 5000\)\))
92 312 Q(\(bloom-\214lter #${...}\))87 324 Q 2.5(;F)27.5 G(ast e)-2.65 E
(xistence check)-.15 E(\(updated 1736400000\)\))87 336 Q(Bloom Filter)72
360 Q -.15(Fa)72 384 S(st e).15 E(xistence check before netw)-.15 E
(ork round-trip:)-.1 E(\(de\214ne \(soup-maybe-contains? hash\))82 408 Q
("Check bloom \214lter - f)87 420 Q
(alse means de\214nitely not, true means maybe")-.1 E
(\(let \(\(catalog \(soup-fetch-catalog\)\)\))87 432 Q
(\(bloom-test \(catalog-bloom catalog\) hash\)\)\))92 444 Q
(;; Bloom parameters)82 468 Q(\(bloom-\214lter)82 480 Q
(\(capacity 10000000\))87 492 Q 2.5(;1)35 G(0M objects)-2.5 E(\(f)87 504
Q(alse-positi)-.1 E .3 -.15(ve 0)-.25 H 25(.001\) ;).15 F(0.1% FP rate)
2.5 E(\(bits #${...}\)\))87 516 Q(Audit T)72 540 Q(rail)-.35 E
(The audit trail is a hash-chain of objects in the soup:)72 564 Q
(\(audit-entry)82 588 Q(\(sequence 12345\))87 600 Q
(\(timestamp 1736300000\))87 612 Q(\(lamport 67890\))87 624 Q
(\(actor "ed25519:subject..."\))87 636 Q
(\(action \(read "sha512:object..."\)\))87 648 Q(\(pre)87 660 Q
(vious "sha512:pre)-.25 E(v-entry)-.25 E 2.5(..."\) ;)-.65 F(Chain link)
2.5 E(\(signature "ed25519:auditor)87 672 Q(..."\)\))-.55 E
(;; Query audit by w)82 696 Q(alking the chain)-.1 E
(\(de\214ne \(audit-query actor from-seq\))82 708 Q("W)87 720 Q
(alk audit chain, \214lter by actor")-.8 E(\(soup-chain-w)87 732 Q(alk)
-.1 E(start: \(audit-head\))92 744 Q(\214lter: \(lambda \(entry\))92 756
Q(\(equal? \(entry-actor entry\) actor\)\))117 768 Q(from: from-seq\)\))
92 780 Q 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Secondary Indices)72 12 Q -.15(Fo)72 36 S 2.5
(rq).15 G(ueries that can\342t use content-addressing, the soup maintai\
ns lightweight indices as objects:)-2.5 E(\(soup-inde)82 60 Q(x)-.15 E
(\(name "by-signer"\))87 72 Q(\(k)87 84 Q -.15(ey)-.1 G
(-type principal\)).15 E(\(entries)87 96 Q
(\(\("ed25519:alice..." \("sha512:obj1" "sha512:obj2" ...\)\))92 108 Q
(\("ed25519:bob)94.5 120 Q
(..." \("sha512:obj3" "sha512:obj4" ...\)\)\)\)\))-.4 E(\(soup-inde)82
144 Q(x)-.15 E(\(name "by-type"\))87 156 Q(\(k)87 168 Q -.15(ey)-.1 G
(-type symbol\)).15 E(\(entries)87 180 Q
(\(\(blob \("sha512:..." "sha512:..." ...\)\))92 192 Q
(\(cert \("sha512:..." "sha512:..." ...\)\))94.5 204 Q
(\(audit \("sha512:..." "sha512:..." ...\)\)\)\)\))94.5 216 Q
(Indices are reb)72 240 Q(uilt on demand, not authoritati)-.2 E .3 -.15
(ve - t)-.25 H(he soup is truth.).15 E(--------------------------------\
----------------------------------------------)72 264 Q(Disco)72 288 Q
-.15(ve)-.15 G(ry and Routing).15 E(Realm Identity)72 312 Q
(Each realm has a principal \(Ed25519 public k)72 336 Q -.15(ey)-.1 G
(\). This IS its identity:).15 E(\(realm-identity)82 360 Q
(\(principal "ed25519:a1b2c3..."\))87 372 Q 62.5(\(addresses ;)87 384 R
(Where to reach this realm)2.5 E(\(ipv6 "2001:db8::1" port: 7777\))92
396 Q(\(ipv4 "192.0.2.1" port: 7777\))92 408 Q 2.5(;L)12.5 G -2.25 -.15
(eg a)-2.5 H -.15(cy).15 G(\(onion "xxxx.onion" port: 7777\)\))92 420 Q
2.5(;T)5 G(or)-3.3 E(\(role witness\))87 432 Q
(\(capabilities \(storage-gb 1000\) \(bandwidth-mbps 100\)\))87 444 Q
(\(signature "ed25519:..."\)\))87 456 Q(Peer Disco)72 480 Q -.15(ve)-.15
G(ry).15 E(Bootstrap:)72 504 Q(\(bootstrap-peers)82 528 Q(\("ed25519:of)
87 540 Q(\214cial1..." "bootstrap.c)-.25 E(yberspace.or)-.15 E(g"\))-.18
E(\("ed25519:of)87 552 Q(\214cial2..." "bootstrap2.c)-.25 E
(yberspace.or)-.15 E(g"\)\))-.18 E(Gossip Protocol:)72 576 Q
(1. Realm joins, contacts bootstrap peer)82 600 Q(2. Recei)82 612 Q -.15
(ve)-.25 G 2.5(sp).15 G(artial peer list \(random subset\))-2.5 E
(3. Contacts those peers, e)82 624 Q(xchanges lists)-.15 E
(4. Epidemic spread: O\(log n\) rounds to reach all realms)82 636 Q
(5. Periodic refresh \(e)82 648 Q -.15(ve)-.25 G
(ry 5 min on Starlink-friendly schedule\)).15 E(Distrib)72 672 Q
(uted Hash T)-.2 E(able \(Future\):)-.8 E(Kademlia-style routing:)82 696
Q 2.5(-X)87 708 S(OR distance metric on principal hashes)-2.5 E 2.5(-O)
87 720 S(\(log n\) lookups)-2.5 E 2.5(-R)87 732 S
(ealms responsible for nearby hash ranges)-2.5 E 2.5(-N)87 744 S
(atural load balancing)-2.5 E(Content Disco)72 768 Q -.15(ve)-.15 G(ry)
.15 E(;; "Who has this hash?")82 792 Q 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(content-locate "sha512:a1b2c3..."\))82 12 Q
(;; Returns list of peers claiming to ha)82 36 Q .3 -.15(ve i)-.2 H(t:)
.15 E(\(\("ed25519:peer1..." \(latenc)82 48 Q(y-ms 50\) \(role full\)\))
-.15 E(\("ed25519:peer2..." \(latenc)84.5 60 Q
(y-ms 200\) \(role witness\)\))-.15 E(\("ed25519:peer3..." \(latenc)84.5
72 Q(y-ms 600\) \(role archi)-.15 E -.15(ve)-.25 G(r\)\)\)).15 E
(;; Fetch from best candidate)82 96 Q
(\(content-fetch "sha512:a1b2c3..." from: "ed25519:peer1..."\))82 108 Q
(----------------------------------------------------------------------\
--------)72 132 Q -.35(Tr)72 156 S(ansport Protocol).35 E
(End-to-End Encryption)72 180 Q(All netw)72 204 Q(ork traf)-.1 E
(\214c is encrypted. The OS and netw)-.25 E(ork are not trusted.)-.1 E
(\(c)82 228 Q(yberspace-message)-.15 E(\(v)87 240 Q(ersion 1\))-.15 E
(\(from "ed25519:sender)87 252 Q(..."\))-.55 E
(\(to "ed25519:recipient..."\))87 264 Q 2.5(;O)20 G 2.5(rb)-2.5 G
(roadcast k)-2.5 E -.15(ey)-.1 G(\(ephemeral "x25519:..."\))87 276 Q 2.5
(;O)27.5 G(ne-time k)-2.5 E .3 -.15(ey \()-.1 H(PFS\)).15 E
(\(nonce #${24-bytes}\))87 288 Q 2.5(;R)37.5 G(andom nonce)-2.5 E
(\(cipherte)87 300 Q(xt #${...}\))-.15 E 2.5(;N)37.5 G
(aCl box: X25519 + XSalsa20-Poly1305)-2.5 E
(\(signature "ed25519:..."\)\))87 312 Q 2.5(;S)22.5 G(ign the cipherte)
-2.5 E(xt)-.15 E 2.893
(Encryption scheme: NaCl crypto_box \(libsodium\) - K)72 336 R 3.193
-.15(ey a)-.25 H 2.893(greement: X25519 \(Curv).15 F 2.894
(e25519 ECDH\) - Cipher:)-.15 F(XSalsa20-Poly1305 - Perfect forw)72 348
Q(ard secrec)-.1 E(y: ephemeral k)-.15 E -.15(ey)-.1 G 2.5(sp).15 G
(er message)-2.5 E(Decrypted payload:)72 372 Q(\(plainte)82 396 Q
(xt-payload)-.15 E(\(type request|response|announce|gossip\))87 408 Q
(\(nonce 12345678\))87 420 Q 2.5(;R)47.5 G(eplay protection)-2.5 E
(\(timestamp 1736300000\))87 432 Q(\(body ...\)\))87 444 Q
(Broadcast messages use a shared group k)72 468 Q .3 -.15(ey o)-.1 H 2.5
(ra).15 G(re signed-only \(announcements of public objects\).)-2.5 E -.4
(Wi)72 492 S(re F).4 E(ormat \(Encrypted\))-.15 E(;; Sender encrypts)82
516 Q(\(de\214ne \(seal-message payload recipient-pubk)82 528 Q .3 -.15
(ey s)-.1 H(ender).15 E(-k)-.2 E -.15(ey)-.1 G(pair\)).15 E
(\(let* \(\(ephemeral \(x25519-k)87 540 Q -.15(ey)-.1 G(pair\)\)).15 E
(\(shared \(x25519-shared \(ephemeral-secret ephemeral\) recipient-pubk)
104.5 552 Q -.15(ey)-.1 G(\)\)).15 E(\(nonce \(random-bytes 24\)\))104.5
564 Q(\(cipherte)104.5 576 Q(xt \(crypto-box payload nonce shared\)\)\))
-.15 E(`\(c)92 588 Q(yberspace-message)-.15 E(\(v)97 600 Q(ersion 1\))
-.15 E(\(from ,\(k)97 612 Q -.15(ey)-.1 G(pair).15 E(-public sender)-.2
E(-k)-.2 E -.15(ey)-.1 G(pair\)\)).15 E(\(to ,recipient-pubk)97 624 Q
-.15(ey)-.1 G(\)).15 E(\(ephemeral ,\(ephemeral-public ephemeral\)\))97
636 Q(\(nonce ,nonce\))97 648 Q(\(cipherte)97 660 Q(xt ,cipherte)-.15 E
(xt\))-.15 E(\(signature ,\(sign-message cipherte)97 672 Q(xt sender)
-.15 E(-k)-.2 E -.15(ey)-.1 G(pair\)\)\)\)\)).15 E
(;; Recipient decrypts)82 696 Q
(\(de\214ne \(open-message msg recipient-k)82 708 Q -.15(ey)-.1 G
(pair\)).15 E(\(let* \(\(shared \(x25519-shared \(k)87 720 Q -.15(ey)-.1
G(pair).15 E(-secret recipient-k)-.2 E -.15(ey)-.1 G(pair\)).15 E
(\(message-ephemeral msg\)\)\))162 732 Q(\(plainte)104.5 744 Q
(xt \(crypto-box-open \(message-cipherte)-.15 E(xt msg\))-.15 E
(\(message-nonce msg\))174.5 756 Q(shared\)\)\))174.5 768 Q(\(and \(v)92
780 Q(erify-signature msg \(message-from msg\)\))-.15 E(plainte)104.5
792 Q(xt\)\)\))-.15 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Request T)72 24 Q(ypes)-.8 E(;; Existence check)
82 48 Q(\(ha)82 60 Q -.15(ve)-.2 G 2.5(?\().15 G
("sha512:..." "sha512:..." ...\)\))-2.5 E(;; Response: \(ha)82 72 Q .3
-.15(ve \()-.2 H("sha512:..." "sha512:..."\) missing \("sha512:..."\)\))
.15 E(;; Fetch object)82 96 Q(\(fetch "sha512:..."\))82 108 Q
(;; Response: \(object ...\))82 120 Q(;; Fetch chunk range)82 144 Q
(\(fetch-chunks "sha512:..." start: 5 count: 10\))82 156 Q
(;; Response: \(chunks ...\))82 168 Q(;; Peer list e)82 192 Q(xchange)
-.15 E(\(peers? limit: 50\))82 204 Q(;; Response: \(peers ...\))82 216 Q
(;; Announce ne)82 240 Q 2.5(wc)-.25 G(ontent)-2.5 E
(\(announce \("sha512:..." "sha512:..."\)\))82 252 Q
(;; Response: \(ack\))82 264 Q -.35(Tr)72 288 S(ansport Bindings).35 E
(Nati)82 312 Q -.15(ve)-.25 G 12.5(:U).15 G
(DP/IPv6, port 7777 \(primary\))-12.5 E -.15(Fa)82 324 S 5
(llback: TCP/IPv6,).15 F(port 7777 \(\214re)2.5 E -.1(wa)-.25 G(lls\)).1
E(Le)82 336 Q -.05(ga)-.15 G -.15(cy).05 G 12.5(:T).15 G
(CP/IPv4, port 7777 \(transition\))-12.5 E 7.5(Stealth: T)82 348 R
(or onion service \(censorship resistance\))-.8 E(Of)82 360 Q 7.5
(\215ine: USB)-.25 F(dri)2.5 E -.15(ve)-.25 G 2.5<2c8c>.15 G(le cop)-2.5
E 2.5(y\()-.1 G(sneak)-2.5 E(ernet\))-.1 E 10(Export: Git)82 372 R -.2
(bu)2.5 G(ndle \(GitHub compatibility\)).2 E(Starlink Optimization)72
396 Q(\(transport-con\214g)82 420 Q(\(mode satellite\))87 432 Q
(\(batch-windo)87 444 Q(w-ms 500\))-.25 E 2.5(;A)20 G(ggre)-2.5 E -.05
(ga)-.15 G(te small messages).05 E(\(chunk-size-kb 64\))87 456 Q 2.5(;M)
27.5 G(atch MTU)-2.5 E(\(retry-strate)87 468 Q(gy e)-.15 E(xponential\))
-.15 E(\(max-in-\215ight 10\))87 480 Q 2.5(;P)27.5 G(arallelism)-2.65 E
(\(k)87 492 Q(eepali)-.1 E -.15(ve)-.25 G(-sec 300\)\)).15 E 2.5(;5m)
22.5 G(in, not 30 sec)-2.5 E(------------------------------------------\
------------------------------------)72 516 Q(Synchronization Protocol)
72 540 Q(Lazy Sync \(Def)72 564 Q(ault\))-.1 E(Node A)82 588 Q(Node B)75
E 87.5(||)89.5 600 S(|----\(ha)89.5 612 Q -.15(ve)-.2 G 2.5(?[).15 G
(h1, h2, h3]\)---------->|)-2.5 E(|<---\(ha)89.5 624 Q .3 -.15(ve [)-.2
H(h1, h3] missing [h2]\)---|).15 E
(|----\(fetch h2\)-------------------->|)89.5 636 Q
(|<---\(object h2 ...\)----------------|)89.5 648 Q 87.5(||)89.5 660 S
(No coordination. No locks. No leader)82 684 Q(.)-.55 E(Crdt-Style Con)
72 708 Q -.15(ve)-.4 G -.18(rg).15 G(ence).18 E(Objects are immutable a\
nd content-addressed. No con\215icts possible at object le)72 732 Q -.15
(ve)-.25 G(l.).15 E 3.179(Manifests \(collections of objects\) use: - L\
amport timestamps for ordering - Last-writer)72 756 R 3.178
(-wins with principal)-.2 F(tiebreak)72 768 Q
(er - Or: union \(add-only sets\))-.1 E(\(manifest)82 792 Q 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(\(name "library"\))87 12 Q(\(v)87 24 Q
(ersion \(lamport 42\) \(principal "ed25519:..."\)\))-.15 E(\(entries)87
36 Q(\("rfc-001" "sha512:..."\))92 48 Q(\("rfc-002" "sha512:..."\))92 60
Q(...\)\))92 72 Q(Merkle Sync)72 96 Q(Ef)72 120 Q(\214cient dif)-.25 E
2.5(ff)-.25 G(or lar)-2.5 E(ge manifests:)-.18 E(root)104.5 144 Q 35(/h)
102 156 S 15(1h)-35 G(2)-15 E -7.5 15(// a)94.5 168 T -2.5 5(bc d)-5 H
(Exchange root hash.)82 192 Q(If dif)82 204 Q
(ferent, recurse on children.)-.25 E
(O\(log n\) round trips to \214nd dif)82 216 Q(f.)-.25 E(--------------\
----------------------------------------------------------------)72 240
Q(Federation at Scale)72 264 Q(Cluster T)72 288 Q(opology)-.8 E<e2e2e2e2
e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2>
132 312 Q 22.5<e243>132 324 S(OORDIN)-22.5 E -.46 -1.11(AT O)-.35 H 2.5
(RC)1.11 G 20(LUSTER \342)-2.5 F 5<e228>132 336 S
(3-7 nodes, Byzantine consensus\))-5 E<e2>7.5 E<e2e2e2e2e2e2e2e2e2e2e2e2
e2e2e2e2e2e2ace2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2>132 348 Q<e2>
174.5 360 Q<e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2bce2
e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2>107 372 Q 65
<e2e2e2>107 384 S 30<e2e2e2e2e2e2e2bce2e2e2e2e2e220e2e2e2e2e2e2e2e2bce2
e2e2e2e2e220e2e2e2e2e2e2e2e2bce2e2e2e2e2e2>92 396 R 7.5<e246>92 408 S
7.5(ULL \342)-7.5 F 7.5<e246>32.5 G 10(ULL \342)-7.5 F 10<e246>32.5 G
7.5(ULL \342)-10 F 5<e24e>92 420 S 7.5(ODES \342)-5 F 7.5<e24e>32.5 G
7.5(ODES \342)-7.5 F 7.5<e24e>32.5 G 7.5(ODES \342)-7.5 F 30<e2e2e2e2e2
e2e2ace2e2e2e2e2e220e2e2e2e2e2e2e2ace2e2e2e2e2e2e220e2e2e2e2e2e2e2ace2e2
e2e2e2e2e2>92 432 R -62.5 62.5<e2e220e2>107 444 T 30<e2e2e2e2e2e2e2bce2
e2e2e2e2e220e2e2e2e2e2e2e2bce2e2e2e2e2e2e220e2e2e2e2e2e2e2bce2e2e2e2e2e2
e2>92 456 R 2.5<e257>92 468 S(ITNESSES \342)-2.5 E 2.5<e257>32.5 G 2.5
(ITNESSES \342)-2.5 F 2.5<e257>32.5 G 2.5(ITNESSES \342)-2.5 F 2.5<e241>
92 480 S(RCHIVERS \342)-2.5 E 2.5<e241>32.5 G 2.5(RCHIVERS \342)-2.5 F
2.5<e241>32.5 G 2.5(RCHIVERS \342)-2.5 F 7.5<e245>92 492 S 5(DGES \342)
-7.5 F 7.5<e245>32.5 G 7.5(DGES \342)-7.5 F 7.5<e245>32.5 G 7.5
(DGES \342)-7.5 F 30<e2e2e2e2e2e2e2e2e2e2e2e2e220e2e2e2e2e2e2e2e2e2e2e2
e2e2e220e2e2e2e2e2e2e2e2e2e2e2e2e2e2>92 504 R
(Coordinators: Rare, high-capability realms, run consensus)82 528 Q
(Full: Common realms, replicate e)82 540 Q -.15(ve)-.25 G(rything, serv)
.15 E 2.5(ec)-.15 G(ontent)-2.5 E -.4(Wi)82 552 S(tnesses: Ab).4 E
(undant realms, v)-.2 E(erify and store, passi)-.15 E .3 -.15(ve s)-.25
H(ync).15 E(Archi)82 564 Q -.15(ve)-.25 G
(rs: Cold storage realms, batch sync).15 E
(Edges: Read-only realms, intermittent, mobile)82 576 Q -.15(Pa)72 600 S
(rtition T).15 E(olerance)-.8 E(Netw)82 624 Q
(ork splits \342 clusters di)-.1 E -.15(ve)-.25 G -.18(rg).15 G 2.5
(e\342c).18 G(lusters con)-2.5 E -.15(ve)-.4 G -.18(rg).15 G 2.5(eo).18
G 2.5(nr)-2.5 G(econnect)-2.5 E(No data loss \(content-addressed\))82
648 Q(No con\215icts \(immutable objects\))82 660 Q(Audit trails mer)82
672 Q(ge \(union of entries, Lamport ordering\))-.18 E(Manifests resolv)
82 684 Q 2.5(e\()-.15 G -.74(LW)-2.5 G 2.5(Wo).74 G 2.5(ru)-2.5 G
(nion based on type\))-2.5 E(------------------------------------------\
------------------------------------)72 708 Q(Git as Export F)72 732 Q
(ormat)-.15 E(The T)72 756 Q(ransition)-.35 E(Phase 1 \(No)82 780 Q 12.5
(w\): Git)-.25 F(is source of truth, v)2.5 E(ault is cache)-.25 E
(Phase 2 \(Ne)82 792 Q 10(xt\): V)-.15 F
(ault is source of truth, git is e)-1.11 E(xport)-.15 E 0 Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Phase 3 \(Future\):)82 12 Q
(Git optional, purely for GitHub presence)7.5 E(Export Process)72 36 Q
(\(git-e)82 60 Q(xport)-.15 E(from: ".v)87 72 Q(ault")-.25 E
(to: "/tmp/c)87 84 Q(yberspace-e)-.15 E(xport")-.15 E
(format: 'git-repo\))87 96 Q(;; Creates standard git repo from v)82 120
Q(ault contents)-.25 E(;; F)82 132 Q
(or publishing to GitHub, GitLab, etc.)-.15 E(Import Process)72 156 Q
(\(git-import)82 180 Q(from: "https://github)87 192 Q(.com/ddp/c)-.4 E
(yberspace.git")-.15 E(to: ".v)87 204 Q(ault"\))-.25 E
(;; Extracts objects from git, stores in v)82 228 Q(ault)-.25 E
(;; Discards git history)82 240 Q 2.5(,k)-.65 G(eeps content)-2.6 E(---\
-----------------------------------------------------------------------\
----)72 264 Q(Security at Scale)72 288 Q(Sybil Resistance)72 312 Q
(Problem: Attack)72 336 Q(er creates man)-.1 E 2.5(yf)-.15 G(ak)-2.6 E
2.5(en)-.1 G(odes to dominate netw)-2.5 E(ork.)-.1 E(Mitig)72 360 Q .006
(ations: 1. Stak)-.05 F .007(e-weighted v)-.1 F .007
(oting \(not proof-of-w)-.2 F .007(ork, just reputation\) 2.)-.1 F -.8
(We)5.007 G 2.507(bo).8 G 2.507(ft)-2.507 G .007(rust - ne)-2.507 F
2.507(wn)-.25 G .007(odes introduced by)-2.507 F -.15(ex)72 372 S .751(\
isting trusted nodes 3. Rate limiting - bound resources per principal 4\
. Coordinator consensus - Byzantine-resis-).15 F(tant core)72 384 Q
(Eclipse Attack Resistance)72 408 Q(Problem: Attack)72 432 Q
(er isolates a node by controlling all its peers.)-.1 E(Mitig)72 456 Q
.444(ations: 1. Di)-.05 F -.15(ve)-.25 G .444
(rse bootstrap - multiple independent entry points 2.).15 F .445
(Random peer selection - can\342t predict who)5.444 F 1.039
(you\342ll connect to 3. Peer rotation - periodically reconnect to ne)72
468 R 3.539(wp)-.25 G 1.039(eers 4. Out-of-band v)-3.539 F 1.038
(eri\214cation - publish peer)-.15 F(lists via DNS, blockchain, etc.)72
480 Q(Denial of Service)72 504 Q(Problem: Attack)72 528 Q
(er \215oods netw)-.1 E(ork with junk.)-.1 E(Mitig)72 552 Q .149
(ations: 1. Proof of w)-.05 F .15(ork on announcements \(small, CPU cos\
t\) 2. Rate limiting per principal 3. Reputation scor)-.1 F(-)-.2 E
(ing - misbeha)72 564 Q(ving peers deprioritized 4. Content v)-.2 E
(alidation - reject malformed objects immediately)-.25 E(--------------\
----------------------------------------------------------------)72 588
Q(Implementation Phases)72 612 Q(Phase 1: Nati)72 636 Q .3 -.15(ve O)
-.25 H(bject Store).15 E 2.5(-I)72 660 S(mplement .v)-2.5 E
(ault/objects/ storage - Soup catalog and query - K)-.25 E
(eep git for de)-.25 E -.15(ve)-.25 G(lopment w).15 E(ork\215o)-.1 E(w)
-.25 E(Phase 2: Local-First Sync)72 684 Q 2.5(-D)72 708 S
(irect node-to-node protocol - ha)-2.5 E -.15(ve)-.2 G
(?/fetch message types - UDP transport with TCP f).15 E(allback)-.1 E
(Phase 3: Disco)72 732 Q -.15(ve)-.15 G(ry).15 E 2.5(-G)72 756 S
(ossip peer e)-2.5 E
(xchange - Bootstrap nodes - Bloom \214lters for content location)-.15 E
(Phase 4: Scale T)72 780 Q(esting)-.7 E 0 Cg EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 2.5(-1)72 12 S
(00 nodes - 1000 nodes - 10000 nodes - Measure: latenc)-2.5 E 1.3 -.65
(y, c)-.15 H(on).65 E -.15(ve)-.4 G -.18(rg).15 G(ence time, bandwidth)
.18 E(Phase 5: Git Deprecation)72 36 Q 2.5(-V)72 60 S
(ault as source of truth - Git e)-3.61 E(xport for compatibility - Remo)
-.15 E .3 -.15(ve g)-.15 H(it dependenc).15 E 2.5(yf)-.15 G
(rom core operations)-2.5 E(-------------------------------------------\
-----------------------------------)72 84 Q(Metrics and Monitoring)72
108 Q(\(node-metrics\))82 132 Q(;; Returns:)82 144 Q
(\(\(objects-stored 150000\))82 156 Q(\(objects-size-gb 50\))84.5 168 Q
(\(peers-kno)84.5 180 Q(wn 500\))-.25 E(\(peers-connected 20\))84.5 192
Q(\(sync-lag-seconds 30\))84.5 204 Q(\(bandwidth-in-mbps 10\))84.5 216 Q
(\(bandwidth-out-mbps 5\))84.5 228 Q(\(requests-per)84.5 240 Q
(-second 100\))-.2 E(\(errors-per)84.5 252 Q(-second 0.1\)\))-.2 E(----\
-----------------------------------------------------------------------\
---)72 276 Q(References)72 300 Q 2.756(1. RFC-010:)72 324 R .256
(Federation Protocol 2.)2.756 F .255(RFC-016: Lazy Clustering 3.)5.256 F
.255(RFC-037: Node Roles and Capabilities 4.)5.255 F(May-)5.255 E(mounk)
72 336 Q -.15(ov)-.1 G 2.755(,P)-.5 G 2.755(.\()-3.865 G .255
(2002\). Kademlia: A Peer)-2.755 F .256(-to-peer Information System 5.)
-.2 F .256(Rabin, M. \(1981\). Fingerprinting by Random)5.256 F
(Polynomials 6.)72 348 Q(IPFS Whitepaper \(2014\) 7.)5 E
(Shapiro, M. \(2011\). Con\215ict-Free Replicated Data T)5 E(ypes)-.8 E
(----------------------------------------------------------------------\
--------)72 372 Q(Changelog)72 396 Q 2.5(-2)72 420 S
(026-01-07 - Initial draft)-2.5 E 0 Cg EP
%%Trailer
end
%%EOF
