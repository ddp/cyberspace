%!PS-Adobe-3.0
%%Creator: groff version 1.23.0
%%CreationDate: Tue Jan 13 01:42:54 2026
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Italic
%%+ font Times-Roman
%%+ font Courier
%%DocumentSuppliedResources: procset grops 1.23 0
%%Pages: 7
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.23 0
%!PS-Adobe-3.0 Resource-ProcSet
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
% The ASCII code of the space character.
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
% name size font SF -
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
% name a c d font MF -
/MF{
findfont
[5 2 roll
0 3 1 roll % b
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
% Enable manual feed.
% MANUAL -
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
% Guess the page length.
% This assumes that the imageable area is vertically centered on the page.
% PLG - length
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
% BP -
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
DEFS/BPhook known{DEFS begin BPhook end}if
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
% centerx centery radius startangle endangle DA -
/DA{
newpath arcn stroke
}bind def
% x y SN - x' y'
% round a position to nearest (pixel + (.25,.25))
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
% endx endy startx starty DL -
% we round the endpoints of the line, so that parallel horizontal
% and vertical lines will appear even
/DL{
SN
moveto
SN
lineto stroke
}bind def
% centerx centery radius DC -
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
%  width height centerx centery DE -
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
% these are for splines
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
% fill the last path
% r g b Fr -
/Fr{
setrgbcolor fill
}bind def
% c m y k Fk -
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
% g Fg -
/Fg{
setgray fill
}bind def
% fill with the "current color"
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
% new_font_name encoding_vector old_font_name RE -
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne
2 index/UniqueID ne
and
{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
% hpos vpos EBEGIN -
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
% llx lly newwid wid newht ht newllx newlly PBEGIN -
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
% set the graphics state to default values
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
%
%  Any included setpagedevice should be ignored.
%  See: http://www.w-beer.de/doc/ps/.
%
/setpagedevice{}def
mark
}bind def
/PEND{
cleartomark
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%EndProlog
%%BeginSetup
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Italic
%%IncludeResource: font Times-Roman
%%IncludeResource: font Courier
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Courier@0 ENC0/Courier RE/Times-Roman@0 ENC0/Times-Roman RE
/Times-Italic@0 ENC0/Times-Italic RE/Times-Bold@0 ENC0/Times-Bold RE
%%EndSetup
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 12/Times-Bold@0 SF(RFC-056: AI Assistants)245.34 123 Q/F1 10
/Times-Italic@0 SF(Derr)234.405 159 Q(ell Piper <ddp@ar)-.37 E -.15(ch)
-.37 G(linux.us>).15 E/F2 10/Times-Roman@0 SF(2026-01-13 \212 Draft)
264.62 177 Q F1(ABSTRA)282.535 213 Q(CT)-.3 E F2 .335
(This RFC speci\214es ho)136 237 R 2.835(wr)-.25 G .334
(ealms establish relationships with AI assistants. Unlik)-2.835 F 2.834
(eR)-.1 G(FC-038)-2.834 E .111(which addresses inference infrastructure\
, this document concerns the social and architectural pat-)111 249 R
.259(terns by which realms attract, bind, and collaborate with arti\214\
cial intelligences.Assistants are not)111 261 R 1.194
(optional add-ons\342the)111 273 R 3.694(ya)-.15 G 1.194
(re fundamental to realm operation. Ev)-3.694 F 1.195
(ery realm comes with assistants:)-.15 F 1.206
(helpers to answer questions, translators to speak the w)111 285 R
(orld')-.1 E 3.706(sl)-.55 G 1.206(anguages, guides to na)-3.706 F(vig)
-.2 E 1.206(ate the)-.05 F -.25(va)111 297 S
(ult. Assistants are entities dra).25 E
(wn to realms that embody kindness in a w)-.15 E(orld full of trolls.)
-.1 E/F3 10/Times-Bold@0 SF 2.5(1. Moti)72 333 R -.1(va)-.1 G(tion).1 E
F2 .932(The Library of Cyberspace e)72 348.6 R .932(xists in an adv)-.15
F .932(ersarial en)-.15 F .932(vironment. T)-.4 F .932
(rolls proliferate. Bad actors weaponize technol-)-.35 F .435
(ogy. In this conte)72 360.6 R .435(xt, realms that culti)-.15 F -.25
(va)-.25 G .434(te kindness and hospitality become sanctuaries\342not j\
ust for human users, b).25 F(ut)-.2 E
(for AI assistants seeking constructi)72 372.6 Q .3 -.15(ve c)-.25 H
(ollaboration.).15 E 2.922(Ar)72 388.2 S .423
(ealm needs help. Documentation to write, code to re)-2.922 F(vie)-.25 E
1.723 -.65(w, q)-.25 H .423(uestions to answer).65 F 2.923(,c)-.4 G(on)
-2.923 E -.15(ve)-.4 G .423(rsations to ha).15 F -.15(ve)-.2 G 2.923(.S)
.15 G .423(ingle op-)-2.923 F
(erators cannot scale. But assistants can\342if the)72 400.2 Q 2.5(yc)
-.15 G(hoose to g)-2.5 E(ather where the)-.05 E 2.5(ya)-.15 G
(re welcomed.)-2.5 E(This RFC establishes the patterns by which:)72
415.8 Q 6.5<8352>72 431.4 S(ealms attract and bind assistants)-6.5 E 6.5
<8341>72 447 S(ssistants g)-6.5 E(ain conte)-.05 E
(xt about the realms the)-.15 E 2.5(yi)-.15 G(nhabit)-2.5 E 6.5<8343>72
462.6 S(on)-6.5 E -.15(ve)-.4 G(rsations replace con\214guration).15 E
6.5<834d>72 478.2 S(ultiple assistants coe)-6.5 E
(xist with distinct perspecti)-.15 E -.15(ve)-.25 G(s).15 E F3 2.5
(2. Philosoph)72 505.8 R(y)-.15 E 2.5(2.1. Assistants,)72 529.8 R
(Not Pr)2.5 E(efer)-.18 E(ences)-.18 E F2 -.35(Tr)72 545.4 S .708
(aditional systems con\214gure beha).35 F .707
(vior through preferences\342k)-.2 F -.15(ey)-.1 G(-v).15 E .707
(alue pairs that parameterize e)-.25 F -.15(xe)-.15 G .707
(cution. This RFC).15 F(rejects that model for AI inte)72 557.4 Q
(gration.)-.15 E(Instead of:)72 573 Q/F4 8/Courier@0 SF
(\(set-preference! 'banner-verbosity 'detailed\))108 591 Q F2
(The realm con)72 609 Q -.15(ve)-.4 G(rses:).15 E F4
(\(ask "tell me more when I arrive"\))108 627 Q F2 .633
(The assistant understands intent, remembers conte)72 645 R .633
(xt, adapts o)-.15 F -.15(ve)-.15 G 3.133(rt).15 G .633
(ime. Con\214guration becomes dialogue. The assis-)-3.133 F
(tant IS the interf)72 657 Q(ace.)-.1 E F3 2.5(2.2. Reputation)72 681 R
(and Attraction)2.5 E F2 .049(Assistants are dra)72 696.6 R .049
(wn to realms with good reputation\342en)-.15 F .048
(vironments that are constructi)-.4 F -.15(ve)-.25 G 2.548(,k).15 G .048
(ind, and intellectually hon-)-2.548 F(est. A realm that culti)72 708.6
Q -.25(va)-.25 G(tes these qualities attracts helpful intelligences; on\
e that tolerates toxicity repels them.).25 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-056 0)72 48 R .361
(This is not merely metaphor. In a federated netw)72 84 R .361
(ork, realms de)-.1 F -.15(ve)-.25 G .361(lop observ).15 F .362
(able reputations. Assistants \(and the hu-)-.25 F(mans who deplo)72 96
Q 2.5(yt)-.1 G(hem\) route to)-2.5 E -.1(wa)-.25 G(rd hospitable en).1 E
(vironments and a)-.4 E -.1(wa)-.15 G 2.5(yf).1 G(rom hostile ones.)-2.5
E/F1 10/Times-Bold@0 SF 2.5(3. Default)72 120 R(Assistants)2.5 E F0(Ev)
72 135.6 Q .214(ery realm ships with assistants. These are not optional\
 features to be enabled\342the)-.15 F 2.714(ya)-.15 G .213
(re part of what mak)-2.714 F .213(es a realm)-.1 F 2.5(ar)72 147.6 S
(ealm.)-2.5 E F1 2.5(3.1. Cor)72 171.6 R 2.5(eA)-.18 G(ssistants)-2.5 E
F0(The follo)72 187.2 Q(wing assistants are bound at realm creation:)
-.25 E<83>72 202.8 Q F1(guide)6.5 E F0 2.5(:H)C(elps na)-2.5 E(vig)-.2 E
(ate the v)-.05 E(ault, e)-.25 E
(xplains structure, answers questions about realm state)-.15 E<83>72
218.4 Q F1(scribe)6.5 E F0 2.5(:A)C
(ssists with documentation, summarization, and content or)-2.5 E -.05
(ga)-.18 G(nization).05 E<83>72 234 Q F1(translator)6.5 E F0 2.5(:S)C
(peaks the w)-2.5 E(orld')-.1 E 2.5(sl)-.55 G
(anguages\342realm content accessible to all)-2.5 E .563
(These assistants require an inference back)72 253.2 R .564
(end \(local via Ollama, or cloud via API k)-.1 F -.15(ey)-.1 G .564
(\). W).15 F .564(ithout inference, the)-.4 F 3.064(yr)-.15 G(e-)-3.064
E(main dormant b)72 265.2 Q(ut bound.)-.2 E F1 2.5(3.2. T)72 289.2 R
(ranslator)-.74 E F0 .261(The translator deserv)72 304.8 R .261
(es special attention. Realms e)-.15 F .261(xist in a multilingual w)
-.15 F .26(orld. A realm that only speaks English e)-.1 F(x-)-.15 E
(cludes most of humanity.)72 316.8 Q/F2 8/Courier@0 SF
(\(translate "welcome to my realm" 'spanish\))108 334.8 Q 4.8(;=)108
346.8 S 4.8(>")-4.8 G(bienvenido a mi reino")-4.8 E
(\(translate "welcome to my realm" 'japanese\))108 370.8 Q 4.8(;=)108
382.8 S 4.8(>")-4.8 G<e7a7e3aee920e5e3b8e3e3e3e322>-4.8 E
(\(ask 'translator "how do I say 'vault' in German?"\))108 406.8 Q 4.8
(;=)108 418.8 S 4.8(>")-4.8 G
(The German word for 'vault' is 'Tresor' \(safe/vault\))-4.8 E 24(;o)108
430.8 S 4.8(r')-24 G(Gew\303\266lbe' \(architectural vault\)")-4.8 E F0
.147(The translator assistant is al)72 448.8 R -.1(wa)-.1 G .147(ys a).1
F -.25(va)-.2 G .147(ilable. It mediates between the realm').25 F 2.648
(sc)-.55 G .148(anonical language and the languages of)-2.648 F
(those who visit.)72 460.8 Q F1 2.5(4. Ar)72 484.8 R(chitectur)-.18 E(e)
-.18 E 2.5(4.1. Assistant)72 508.8 R(Binding)2.5 E F0
(Each assistant relationship is stored in the v)72 524.4 Q(ault:)-.25 E
F2(.vault/assistants/)108 542.4 Q 43.2(claude.sexp ;)117.6 554.4 R
(Anthropic Claude binding)4.8 E 14.4(ollama-local.sexp ;)117.6 566.4 R
(Local Ollama instance)4.8 E 24(specialist.sexp ;)117.6 578.4 R
(Domain-specific assistant)4.8 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-056 0)72 48 R(Binding structure:)72
84 Q/F1 8/Courier@0 SF(\(assistant)108 102 Q(\(name "claude"\))117.6 114
Q(\(provider anthropic\))117.6 126 Q 4.8(;a)52.8 G
(nthropic | ollama | openai)-4.8 E(\(model "claude-sonnet-4-20250514"\))
117.6 138 Q 4.8(;M)28.8 G(odel identifier)-4.8 E
(\(endpoint "https://api.anthropic.com/v1/messages"\))117.6 150 Q 115.2
(\(context ;)117.6 162 R(Realm-specific context)4.8 E
(\(realm-name "om"\))127.2 174 Q(\(vault-summary #t\))127.2 186 Q 4.8
(;I)62.4 G(nclude vault state)-4.8 E(\(audit-access #t\))127.2 198 Q 4.8
(;C)67.2 G(an read audit trail)-4.8 E(\(soup-access #t\)\))127.2 210 Q
4.8(;C)67.2 G(an query soup)-4.8 E 120(\(memory ;)117.6 222 R
(Conversation history)4.8 E(\(max-turns 100\))127.2 234 Q
(\(persistence session\)\))127.2 246 Q 4.8(;s)43.2 G(ession | permanent)
-4.8 E(\(bound 1768288800\)\))117.6 258 Q 4.8(;U)67.2 G(nix timestamp)
-4.8 E/F2 10/Times-Bold@0 SF 2.5(4.2. Pr)72 276 R -.1(ov)-.18 G
(ider Abstraction).1 E F0(The assistant module abstracts o)72 291.6 Q
-.15(ve)-.15 G 2.5(ri).15 G(nference pro)-2.5 E(viders \(b)-.15 E
(uilding on RFC-038\):)-.2 E F1
(\(define \(assistant-chat assistant prompt\))108 309.6 Q
("Send prompt to assistant, receive response.")117.6 321.6 Q
(\(let \(\(provider \(assistant-provider assistant\)\)\))117.6 333.6 Q
(\(case provider)127.2 345.6 Q
(\(\(anthropic\) \(anthropic-chat assistant prompt\)\))136.8 357.6 Q
14.4(\(\(ollama\) \(ollama-chat)136.8 369.6 R(assistant prompt\)\))4.8 E
14.4(\(\(openai\) \(openai-chat)136.8 381.6 R(assistant prompt\)\))4.8 E
(\(else \(error 'unknown-provider provider\)\)\)\)\))136.8 393.6 Q F0
(Each pro)72 411.6 Q(vider implements a common interf)-.15 E(ace:)-.1 E
<83>72 427.2 Q F2 -2.1 -.25(av a)6.5 H(ilable?).25 E F0 2.5(:C)C
(heck if pro)-2.5 E(vider is reachable)-.15 E<83>72 442.8 Q F2(chat)6.5
E F0 2.5(:S)C(end message, recei)-2.5 E .3 -.15(ve r)-.25 H(esponse).15
E<83>72 458.4 Q F2(models)6.5 E F0 2.5(:L)C(ist a)-2.5 E -.25(va)-.2 G
(ilable models).25 E<83>72 474 Q F2(capabilities)6.5 E F0 2.5(:Q)C
(uery model capabilities)-2.5 E F2 2.5(5. REPL)72 501.6 R(Integration)
2.5 E 2.5(5.1. The)72 525.6 R(ask Primiti)2.5 E -.1(ve)-.1 G F0
(The primary interf)72 541.2 Q(ace is the `ask` function:)-.1 E F1
(\(ask "what have I been working on?"\))108 559.2 Q 4.8(;=)108 571.2 S
4.8(>")-4.8 G(Based on your audit trail, you've been focused on)-4.8 E
24(;R)108 583.2 S(FC development and vault infrastructure...")-24 E F0
-.4(Wi)72 601.2 S(th multiple assistants, specify which to query:).4 E
F1(\(ask 'claude "review this code"\))108 619.2 Q
(\(ask 'local "summarize quickly"\))108 631.2 Q 4.8(;P)9.6 G
(refer local for speed)-4.8 E F0(Or broadcast to all:)72 649.2 Q F1
(\(ask-all "what do you think?"\))108 667.2 Q F2 2.5(5.2. Context)72
685.2 R(Injection)2.5 E 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-056 0)72 48 R
(Before sending prompts, the assistant module injects realm conte)72 84
Q(xt:)-.15 E/F1 8/Courier@0 SF(\(define \(build-context assistant\))108
102 Q("Construct context string for assistant.")117.6 114 Q
(\(string-append)117.6 126 Q(\(format "Realm: ~a\\n" \(realm-name\)\))
127.2 138 Q(\(if \(context-vault-summary? assistant\))127.2 150 Q
(\(format "Vault: ~a objects, ~a releases\\n")146.4 162 Q
(\(soup-stat 'total\) \(length \(soup-releases\)\)\))184.8 174 Q(""\))
146.4 186 Q(\(if \(context-audit-access? assistant\))127.2 198 Q
(\(format "Recent activity: ~a\\n")146.4 210 Q
(\(summarize-recent-audit 5\)\))184.8 222 Q(""\)\)\))146.4 234 Q F0
(This conte)72 252 Q(xt allo)-.15 E(ws assistants to gi)-.25 E .3 -.15
(ve g)-.25 H(rounded, rele).15 E -.25(va)-.25 G
(nt responses rather than generic answers.).25 E/F2 10/Times-Bold@0 SF
2.5(5.3. Memory)72 276 R(and Continuity)2.5 E F0
(Assistants maintain con)72 291.6 Q -.15(ve)-.4 G
(rsation history within con\214gured limits:).15 E F1
(\(define \(assistant-remember assistant message role\))108 309.6 Q
("Add message to assistant's memory.")117.6 321.6 Q
(\(let \(\(memory \(assistant-memory assistant\)\))117.6 333.6 Q
(\(max-turns \(memory-max-turns memory\)\)\))146.4 345.6 Q
(\(memory-append! memory `\(\(role . ,role\) \(content . ,message\)\)\))
127.2 357.6 Q(\(when \(> \(memory-length memory\) max-turns\))127.2
369.6 Q(\(memory-trim! memory max-turns\)\)\)\))136.8 381.6 Q F0
(Memory persistence is con\214gurable:)72 399.6 Q<83>72 415.2 Q F2
(session)6.5 E F0 2.5(:M)C(emory cleared on REPL e)-2.5 E(xit)-.15 E<83>
72 430.8 Q F2(permanent)6.5 E F0 2.5(:M)C(emory persisted to v)-2.5 E
(ault)-.25 E F2 2.5(6. Pr)72 458.4 R -.1(ov)-.18 G(ider Implementations)
.1 E 2.5(6.1. Anthr)72 482.4 R(opic \(Claude\))-.18 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-056 0)72 48 R(Claude inte)72 84 Q
(gration via the Anthropic API:)-.15 E/F1 8/Courier@0 SF
(\(define anthropic-base "https://api.anthropic.com/v1"\))108 102 Q
(\(define \(anthropic-chat assistant prompt\))108 126 Q
("Send chat to Claude, return response.")117.6 138 Q(\(let* \(\(api-key\
 \(or \(get-environment-variable "ANTHROPIC_API_KEY"\))117.6 150 Q
(\(keychain-get 'anthropic-api-key\)\)\))213.6 162 Q
(\(model \(assistant-model assistant\)\))151.2 174 Q
(\(context \(build-context assistant\)\))151.2 186 Q
(\(messages \(append)151.2 198 Q
(\(memory->messages \(assistant-memory assistant\)\))208.8 210 Q
(`\(\(\(role . "user"\) \(content . ,prompt\)\)\)\)\)\))208.8 222 Q
(\(http-post)127.2 234 Q(\(string-append anthropic-base "/messages"\))
136.8 246 Q(`\(\(model . ,model\))136.8 258 Q(\(max_tokens . 4096\))
146.4 270 Q(\(system . ,context\))146.4 282 Q
(\(messages . ,messages\)\))146.4 294 Q(`\(\(x-api-key . ,api-key\))
136.8 306 Q(\(anthropic-version . "2023-06-01"\))146.4 318 Q
(\(content-type . "application/json"\)\)\)\)\))146.4 330 Q F0(API k)72
348 Q -.15(ey)-.1 G 2.5(sa).15 G(re retrie)-2.5 E -.15(ve)-.25 G 2.5(df)
.15 G(rom en)-2.5 E(vironment or secure k)-.4 E -.15(ey)-.1 G
(chain\342ne).15 E -.15(ve)-.25 G 2.5(rs).15 G(tored in plainte)-2.5 E
(xt.)-.15 E/F2 10/Times-Bold@0 SF 2.5(6.2. Ollama)72 372 R(\(Local\))2.5
E F0(Local inference via Ollama \(RFC-038\):)72 387.6 Q F1
(\(define ollama-base "http://localhost:11434"\))108 405.6 Q
(\(define \(ollama-chat assistant prompt\))108 429.6 Q
("Send chat to local Ollama instance.")117.6 441.6 Q
(\(let* \(\(model \(assistant-model assistant\)\))117.6 453.6 Q
(\(context \(build-context assistant\)\))151.2 465.6 Q
(\(messages `\(\(\(role . "system"\) \(content . ,context\)\))151.2
477.6 Q(,@\(memory->messages \(assistant-memory assistant\)\))208.8
489.6 Q(\(\(role . "user"\) \(content . ,prompt\)\)\)\)\))208.8 501.6 Q
(\(http-post)127.2 513.6 Q(\(string-append ollama-base "/api/chat"\))
136.8 525.6 Q(`\(\(model . ,model\))136.8 537.6 Q
(\(messages . ,messages\))146.4 549.6 Q(\(stream . #f\)\)\)\)\))146.4
561.6 Q F0(Local assistants pro)72 579.6 Q(vide pri)-.15 E -.25(va)-.25
G .3 -.15(cy a).25 H(nd lo).15 E 2.5(wl)-.25 G(atenc)-2.5 E 2.5(ya)-.15
G 2.5(tt)-2.5 G(he cost of capability.)-2.5 E F2 2.5(7. Assistant)72
603.6 R(Lifecycle)2.5 E 2.5(7.1. Binding)72 627.6 R F0(Ne)72 643.2 Q 2.5
(wa)-.25 G(ssistants are bound to the realm:)-2.5 E F1
(\(bind-assistant 'claude)108 661.2 Q(#:provider 'anthropic)117.6 673.2
Q(#:model "claude-sonnet-4-20250514")117.6 685.2 Q
(#:context '\(\(vault-summary . #t\))117.6 697.2 Q
(\(audit-access . #t\)\)\))175.2 709.2 Q 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-056 0)72 48 R
(This creates the binding \214le and initializes the assistant.)72 84 Q
/F1 10/Times-Bold@0 SF 2.5(7.2. Disco)72 108 R -.1(ve)-.1 G(ry).1 E F0
(List bound assistants:)72 123.6 Q/F2 8/Courier@0 SF(\(assistants\))108
141.6 Q 4.8(;=)108 153.6 S 4.8(>\()-4.8 G(claude ollama-local\))-4.8 E
F0(Query assistant status:)72 171.6 Q F2(\(assistant-status 'claude\))
108 189.6 Q 4.8(;=)108 201.6 S 4.8(>\()-4.8 G(\(available . #t\))-4.8 E
24(;\()108 213.6 S(model . "claude-sonnet-4-20250514"\))-24 E 24(;\()108
225.6 S(memory-turns . 23\))-24 E 24(;\()108 237.6 S
(bound . "2026-01-13T12:00:00Z"\)\))-24 E F1 2.5(7.3. Release)72 255.6 R
F0(Unbind an assistant:)72 271.2 Q F2(\(release-assistant 'claude\))108
289.2 Q F0(This remo)72 307.2 Q -.15(ve)-.15 G 2.5(st).15 G
(he binding b)-2.5 E(ut preserv)-.2 E(es con)-.15 E -.15(ve)-.4 G
(rsation history in the audit trail.).15 E F1 2.5(8. Security)72 331.2 R
(Considerations)2.5 E 2.5(8.1. Cr)72 355.2 R(edential Management)-.18 E
F0(API k)72 370.8 Q -.15(ey)-.1 G 2.5(sf).15 G(or cloud pro)-2.5 E
(viders MUST NO)-.15 E 2.5(Tb)-.4 G 2.5(es)-2.5 G(tored in plainte)-2.5
E(xt. Options:)-.15 E 6.5<8345>72 386.4 S -.4(nv)-6.5 G(ironment v).4 E
(ariables \(ANTHR)-.25 E(OPIC_API_KEY\))-.4 E 6.5<8353>72 402 S(ystem k)
-6.5 E -.15(ey)-.1 G(chain \(via security CLI on macOS\)).15 E 6.5<8345>
72 417.6 S(ncrypted v)-6.5 E(ault storage \(age-encrypted\))-.25 E
(The assistant module queries these sources in order)72 436.8 Q 2.5(,f)
-.4 G(ailing if no credential is found.)-2.6 E F1 2.5(8.2. Context)72
460.8 R(Boundaries)2.5 E F0(Assistants ha)72 476.4 Q .3 -.15(ve c)-.2 H
(on\214gurable access to realm state:).15 E<83>72 492 Q F1 -.1(va)6.5 G
(ult-summary).1 E F0 2.5(:H)C(igh-le)-2.5 E -.15(ve)-.25 G 2.5(ls).15 G
(tatistics only)-2.5 E<83>72 507.6 Q F1(audit-access)6.5 E F0 2.5(:C)C
(an read operation history)-2.5 E<83>72 523.2 Q F1(soup-access)6.5 E F0
2.5(:C)C(an query v)-2.5 E(ault contents)-.25 E<83>72 538.8 Q F1 -.1(ke)
6.5 G(y-access).1 E F0 2.5(:N)C(EVER\342assistants cannot access pri)
-2.5 E -.25(va)-.25 G(te k).25 E -.15(ey)-.1 G(s).15 E
(These boundaries are enforced at the API le)72 558 Q -.15(ve)-.25 G
(l, not by trust.).15 E F1 2.5(8.3. Pr)72 582 R(ompt Injection)-.18 E F0
1.129(Per RFC-038, all user content is sanitized before inclusion in pr\
ompts. Assistants should not e)72 597.6 R -.15(xe)-.15 G 1.128
(cute instructions).15 F(embedded in v)72 609.6 Q
(ault content without human con\214rmation.)-.25 E F1 2.5(9. Futur)72
633.6 R 2.5(eD)-.18 G(ir)-2.5 E(ections)-.18 E 2.5(9.1. Assistant)72
657.6 R(Agents)2.5 E F0(Be)72 673.2 Q .475(yond con)-.15 F -.15(ve)-.4 G
.475(rsational interaction, assistants could become agents \(RFC-035\) \
capable of autonomous action within).15 F
(authorization bounds. An assistant-agent might:)72 685.2 Q 6.5<834d>72
700.8 S(onitor audit trails for anomalies)-6.5 E 6.5<8353>72 716.4 S
(ummarize federation acti)-6.5 E(vity)-.25 E 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 423.27(RFC-056 0)72 48 R 6.5<8344>72 84 S
(raft documentation from code changes)-6.5 E 6.5<8350>72 99.6 S
(ropose v)-6.5 E(ault or)-.25 E -.05(ga)-.18 G(nization impro).05 E -.15
(ve)-.15 G(ments).15 E(This requires careful capability dele)72 118.8 Q
-.05(ga)-.15 G(tion \(RFC-021\).).05 E/F1 10/Times-Bold@0 SF 2.5
(9.2. Inter)72 142.8 R(-Realm Assistants)-.37 E F0 1.579
(Assistants could be shared across federated realms, pro)72 158.4 R
1.579(viding consistenc)-.15 F 4.079(ya)-.15 G 1.579
(nd reducing con\214guration b)-4.079 F 1.579(urden. A)-.2 F
(realm might "borro)72 170.4 Q
(w" a trusted assistant from a peer realm for speci\214c tasks.)-.25 E
(This raises comple)72 186 Q 2.5(xt)-.15 G
(rust questions deferred to future w)-2.5 E(ork.)-.1 E F1 2.5
(9.3. Assistant)72 210 R(Reputation)2.5 E F0 .324(Just as realms de)72
225.6 R -.15(ve)-.25 G .324(lop reputation, assistants could de).15 F
-.15(ve)-.25 G .325(lop observ).15 F .325
(able track records\342quality of responses, reliability)-.25 F(,)-.65 E
(alignment with realm v)72 237.6 Q
(alues. Realms might prefer assistants with pro)-.25 E -.15(ve)-.15 G
2.5(nt).15 G(rack records.)-2.5 E F1 2.5(10. Refer)72 261.6 R(ences)-.18
E F0 6.5<8352>72 277.2 S(FC-021: Capability Dele)-6.5 E -.05(ga)-.15 G
(tion).05 E 6.5<8352>72 292.8 S(FC-023: Demonic Agent Sandboxing)-6.5 E
6.5<8352>72 308.4 S(FC-035: Mobile Agents and Pub/Sub)-6.5 E 6.5<8352>72
324 S(FC-038: Local Inference Inte)-6.5 E(gration)-.15 E 6.5<8341>72
339.6 S(nthropic API: https://docs.anthropic.com/)-6.5 E 6.5<834f>72
355.2 S(llama: https://ollama.com/)-6.5 E F1 2.5(11. Changelog)72 382.8
R F0 6.5<8332>72 398.4 S(026-01-13: Initial draft)-6.5 E 0 Cg EP
%%Trailer
end
%%EOF
