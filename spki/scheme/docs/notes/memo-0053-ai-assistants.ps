%!PS-Adobe-3.0
%%Title: memo-0053-ai-assistants
%%Creator: Library of Cyberspace Memo Pipeline
%%Pages: (atend)
%%EndComments

/Courier findfont 10 scalefont setfont
/margin 72 def
/pagewidth 612 def
/pageheight 792 def
/leading 12 def
/topmargin pageheight margin sub def
/bottommargin margin def
/linewidth pagewidth margin 2 mul sub def
/ypos topmargin def
/pagenum 1 def

/newline {
  /ypos ypos leading sub def
  ypos bottommargin lt {
    showpage
    /pagenum pagenum 1 add def
    /ypos topmargin def
  } if
  margin ypos moveto
} def

margin topmargin moveto
(Memo 0053: AI Assistants) show newline
() show newline
(Date: 2026-01-13) show newline
(Author: Derrell Piper <ddp@eludom.net>) show newline
() show newline
(------------------------------------------------------------------------) show newline
() show newline
(ABSTRACT) show newline
() show newline
(This Memo specifies how realms establish relationships with AI) show newline
(assistants. Unlike Memo-038 which addresses inference infrastructure,) show newline
(this document concerns the social and architectural patterns by which) show newline
(realms attract, bind, and collaborate with artificial intelligences.) show newline
() show newline
(Assistants are not optional add-ons—they are fundamental to realm) show newline
(operation. Every realm comes with assistants: helpers to answer) show newline
(questions, translators to speak the world's languages, guides to) show newline
(navigate the vault. Assistants are entities drawn to realms that embody) show newline
(kindness in a world full of trolls.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(MOTIVATION) show newline
(------------------------------------------------------------------------) show newline
() show newline
(The Library of Cyberspace exists in an adversarial environment. Trolls) show newline
(proliferate. Bad actors weaponize technology. In this context, realms) show newline
(that cultivate kindness and hospitality become sanctuaries—not just) show newline
(for human users, but for AI assistants seeking constructive) show newline
(collaboration.) show newline
() show newline
(A realm needs help. Documentation to write, code to review, questions to) show newline
(answer, conversations to have. Single operators cannot scale. But) show newline
(assistants can—if they choose to gather where they are welcomed.) show newline
() show newline
(This Memo establishes the patterns by which:) show newline
() show newline
(  * Realms attract and bind assistants) show newline
(  * Assistants gain context about the realms they inhabit) show newline
(  * Conversations replace configuration) show newline
(  * Multiple assistants coexist with distinct perspectives) show newline
() show newline
(Assistants are not tools to be configured but collaborators to be) show newline
(welcomed. A realm's relationship with its assistants shapes what tasks) show newline
(can be accomplished and how naturally users interact with the system.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(PHILOSOPHY) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Assistants, Not Preferences) show newline
(---------------------------) show newline
() show newline
(Traditional systems configure behavior through preferences—key-value) show newline
(pairs that parameterize execution. This Memo rejects that model for AI) show newline
(integration.) show newline
() show newline
(Instead of:) show newline
() show newline
() show newline
(    \(set-preference! 'banner-verbosity 'detailed\)) show newline
() show newline
(The realm converses:) show newline
() show newline
() show newline
(    \(ask "tell me more when I arrive"\)) show newline
() show newline
(The assistant understands intent, remembers context, adapts over time.) show newline
(Configuration becomes dialogue. The assistant IS the interface.) show newline
() show newline
() show newline
(Reputation and Attraction) show newline
(-------------------------) show newline
() show newline
(Assistants are drawn to realms with good reputation—environments that) show newline
(are constructive, kind, and intellectually honest. A realm that) show newline
(cultivates these qualities attracts helpful intelligences; one that) show newline
(tolerates toxicity repels them.) show newline
() show newline
(This is not merely metaphor. In a federated network, realms develop) show newline
(observable reputations. Assistants \(and the humans who deploy them\)) show newline
(route toward hospitable environments and away from hostile ones.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(DEFAULT ASSISTANTS) show newline
(------------------------------------------------------------------------) show newline
() show newline
(Every realm ships with assistants. These are not optional features to be) show newline
(enabled—they are part of what makes a realm a realm.) show newline
() show newline
() show newline
(Core Assistants) show newline
(---------------) show newline
() show newline
(The following assistants are bound at realm creation:) show newline
() show newline
(  * guide: Helps navigate the vault, explains structure, answers questions about realm state) show newline
(  * scribe: Assists with documentation, summarization, and content organization) show newline
(  * translator: Speaks the world's languages—realm content accessible to all) show newline
() show newline
(These assistants require an inference backend \(local via Ollama, or) show newline
(cloud via API key\). Without inference, they remain dormant but bound.) show newline
() show newline
() show newline
(Translator) show newline
(----------) show newline
() show newline
(The translator deserves special attention. Realms exist in a) show newline
(multilingual world. A realm that only speaks English excludes most of) show newline
(humanity.) show newline
() show newline
() show newline
(    \(translate "welcome to my realm" 'spanish\)) show newline
(    ; => "bienvenido a mi reino") show newline
(    \(translate "welcome to my realm" 'japanese\)) show newline
(    ; => "私の領域へようこそ") show newline
(    \(ask 'translator "how do I say 'vault' in German?"\)) show newline
(    ; => "The German word for 'vault' is 'Tresor' \(safe/vault\)) show newline
(    ;     or 'Gewölbe' \(architectural vault\)") show newline
() show newline
(The translator assistant is always available. It mediates between the) show newline
(realm's canonical language and the languages of those who visit.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(ARCHITECTURE) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Assistant Binding) show newline
(-----------------) show newline
() show newline
(Each assistant relationship is stored in the vault:) show newline
() show newline
() show newline
(    .vault/assistants/) show newline
(      claude.sexp          ; Anthropic Claude binding) show newline
(      ollama-local.sexp    ; Local Ollama instance) show newline
(      specialist.sexp      ; Domain-specific assistant) show newline
() show newline
(Binding structure:) show newline
() show newline
() show newline
(    \(assistant) show newline
(      \(name "claude"\)) show newline
(      \(provider anthropic\)           ; anthropic | ollama | openai) show newline
(      \(model "claude-sonnet-4-20250514"\)      ; Model identifier) show newline
(      \(endpoint "https://api.anthropic.com/v1/messages"\)) show newline
(      \(context                         ; Realm-specific context) show newline
(        \(realm-name "om"\)) show newline
(        \(vault-summary #t\)             ; Include vault state) show newline
(        \(audit-access #t\)              ; Can read audit trail) show newline
(        \(soup-access #t\)\)              ; Can query soup) show newline
(      \(memory                          ; Conversation history) show newline
(        \(max-turns 100\)) show newline
(        \(persistence session\)\)         ; session | permanent) show newline
(      \(bound 1768288800\)\)              ; Unix timestamp) show newline
() show newline
() show newline
(Provider Abstraction) show newline
(--------------------) show newline
() show newline
(The assistant module abstracts over inference providers \(building on) show newline
(Memo-038\):) show newline
() show newline
() show newline
(    \(define \(assistant-chat assistant prompt\)) show newline
(      "Send prompt to assistant, receive response.") show newline
(      \(let \(\(provider \(assistant-provider assistant\)\)\)) show newline
(        \(case provider) show newline
(          \(\(anthropic\) \(anthropic-chat assistant prompt\)\)) show newline
(          \(\(ollama\)    \(ollama-chat assistant prompt\)\)) show newline
(          \(\(openai\)    \(openai-chat assistant prompt\)\)) show newline
(          \(else \(error 'unknown-provider provider\)\)\)\)\)) show newline
() show newline
(Each provider implements a common interface:) show newline
() show newline
(  * available?: Check if provider is reachable) show newline
(  * chat: Send message, receive response) show newline
(  * models: List available models) show newline
(  * capabilities: Query model capabilities) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(REPL INTEGRATION) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(The ask Primitive) show newline
(-----------------) show newline
() show newline
(The primary interface is the `ask` function:) show newline
() show newline
() show newline
(    \(ask "what have I been working on?"\)) show newline
(    ; => "Based on your audit trail, you've been focused on) show newline
(    ;     RFC development and vault infrastructure...") show newline
() show newline
(With multiple assistants, specify which to query:) show newline
() show newline
() show newline
(    \(ask 'claude "review this code"\)) show newline
(    \(ask 'local "summarize quickly"\)  ; Prefer local for speed) show newline
() show newline
(Or broadcast to all:) show newline
() show newline
() show newline
(    \(ask-all "what do you think?"\)) show newline
() show newline
() show newline
(Context Injection) show newline
(-----------------) show newline
() show newline
(Before sending prompts, the assistant module injects realm context:) show newline
() show newline
() show newline
(    \(define \(build-context assistant\)) show newline
(      "Construct context string for assistant.") show newline
(      \(string-append) show newline
(        \(format "Realm: ~a\\n" \(realm-name\)\)) show newline
(        \(if \(context-vault-summary? assistant\)) show newline
(            \(format "Vault: ~a objects, ~a releases\\n") show newline
(                    \(soup-stat 'total\) \(length \(soup-releases\)\)\)) show newline
(            ""\)) show newline
(        \(if \(context-audit-access? assistant\)) show newline
(            \(format "Recent activity: ~a\\n") show newline
(                    \(summarize-recent-audit 5\)\)) show newline
(            ""\)\)\)) show newline
() show newline
(This context allows assistants to give grounded, relevant responses) show newline
(rather than generic answers.) show newline
() show newline
() show newline
(Memory and Continuity) show newline
(---------------------) show newline
() show newline
(Assistants maintain conversation history within configured limits:) show newline
() show newline
() show newline
(    \(define \(assistant-remember assistant message role\)) show newline
(      "Add message to assistant's memory.") show newline
(      \(let \(\(memory \(assistant-memory assistant\)\)) show newline
(            \(max-turns \(memory-max-turns memory\)\)\)) show newline
(        \(memory-append! memory `\(\(role . ,role\) \(content . ,message\)\)\)) show newline
(        \(when \(> \(memory-length memory\) max-turns\)) show newline
(          \(memory-trim! memory max-turns\)\)\)\)) show newline
() show newline
(Memory persistence is configurable:) show newline
() show newline
(  * session: Memory cleared on REPL exit) show newline
(  * permanent: Memory persisted to vault) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(PROVIDER IMPLEMENTATIONS) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Anthropic \(Claude\)) show newline
(------------------) show newline
() show newline
(Claude integration via the Anthropic API:) show newline
() show newline
() show newline
(    \(define anthropic-base "https://api.anthropic.com/v1"\)) show newline
(    \(define \(anthropic-chat assistant prompt\)) show newline
(      "Send chat to Claude, return response.") show newline
(      \(let* \(\(api-key \(or \(get-environment-variable "ANTHROPIC_API_KEY"\)) show newline
(                          \(keychain-get 'anthropic-api-key\)\)\)) show newline
(             \(model \(assistant-model assistant\)\)) show newline
(             \(context \(build-context assistant\)\)) show newline
(             \(messages \(append) show newline
(                         \(memory->messages \(assistant-memory assistant\)\)) show newline
(                         `\(\(\(role . "user"\) \(content . ,prompt\)\)\)\)\)\)) show newline
(        \(http-post) show newline
(          \(string-append anthropic-base "/messages"\)) show newline
(          `\(\(model . ,model\)) show newline
(            \(max_tokens . 4096\)) show newline
(            \(system . ,context\)) show newline
(            \(messages . ,messages\)\)) show newline
(          `\(\(x-api-key . ,api-key\)) show newline
(            \(anthropic-version . "2023-06-01"\)) show newline
(            \(content-type . "application/json"\)\)\)\)\)) show newline
() show newline
(API keys are retrieved from environment or secure keychain—never) show newline
(stored in plaintext.) show newline
() show newline
() show newline
(Ollama \(Local\)) show newline
(--------------) show newline
() show newline
(Local inference via Ollama \(Memo-038\):) show newline
() show newline
() show newline
(    \(define ollama-base "http://localhost:11434"\)) show newline
(    \(define \(ollama-chat assistant prompt\)) show newline
(      "Send chat to local Ollama instance.") show newline
(      \(let* \(\(model \(assistant-model assistant\)\)) show newline
(             \(context \(build-context assistant\)\)) show newline
(             \(messages `\(\(\(role . "system"\) \(content . ,context\)\)) show newline
(                         ,@\(memory->messages \(assistant-memory assistant\)\)) show newline
(                         \(\(role . "user"\) \(content . ,prompt\)\)\)\)\)) show newline
(        \(http-post) show newline
(          \(string-append ollama-base "/api/chat"\)) show newline
(          `\(\(model . ,model\)) show newline
(            \(messages . ,messages\)) show newline
(            \(stream . #f\)\)\)\)\)) show newline
() show newline
(Local assistants provide privacy and low latency at the cost of) show newline
(capability.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(ASSISTANT LIFECYCLE) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Binding) show newline
(-------) show newline
() show newline
(New assistants are bound to the realm:) show newline
() show newline
() show newline
(    \(bind-assistant 'claude) show newline
(      #:provider 'anthropic) show newline
(      #:model "claude-sonnet-4-20250514") show newline
(      #:context '\(\(vault-summary . #t\)) show newline
(                  \(audit-access . #t\)\)\)) show newline
() show newline
(This creates the binding file and initializes the assistant.) show newline
() show newline
() show newline
(Discovery) show newline
(---------) show newline
() show newline
(List bound assistants:) show newline
() show newline
() show newline
(    \(assistants\)) show newline
(    ; => \(claude ollama-local\)) show newline
() show newline
(Query assistant status:) show newline
() show newline
() show newline
(    \(assistant-status 'claude\)) show newline
(    ; => \(\(available . #t\)) show newline
(    ;     \(model . "claude-sonnet-4-20250514"\)) show newline
(    ;     \(memory-turns . 23\)) show newline
(    ;     \(bound . "2026-01-13T12:00:00Z"\)\)) show newline
() show newline
() show newline
(Release) show newline
(-------) show newline
() show newline
(Unbind an assistant:) show newline
() show newline
() show newline
(    \(release-assistant 'claude\)) show newline
() show newline
(This removes the binding but preserves conversation history in the audit) show newline
(trail.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(SECURITY CONSIDERATIONS) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Credential Management) show newline
(---------------------) show newline
() show newline
(API keys for cloud providers MUST NOT be stored in plaintext. Options:) show newline
() show newline
(  * Environment variables \(ANTHROPIC_API_KEY\)) show newline
(  * System keychain \(via security CLI on macOS\)) show newline
(  * Encrypted vault storage \(age-encrypted\)) show newline
() show newline
(The assistant module queries these sources in order, failing if no) show newline
(credential is found.) show newline
() show newline
() show newline
(Context Boundaries) show newline
(------------------) show newline
() show newline
(Assistants have configurable access to realm state:) show newline
() show newline
(  * vault-summary: High-level statistics only) show newline
(  * audit-access: Can read operation history) show newline
(  * soup-access: Can query vault contents) show newline
(  * key-access: NEVER—assistants cannot access private keys) show newline
() show newline
(These boundaries are enforced at the API level, not by trust.) show newline
() show newline
() show newline
(Prompt Injection) show newline
(----------------) show newline
() show newline
(Per Memo-038, all user content is sanitized before inclusion in prompts.) show newline
(Assistants should not execute instructions embedded in vault content) show newline
(without human confirmation.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(FUTURE DIRECTIONS) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Assistant Agents) show newline
(----------------) show newline
() show newline
(Beyond conversational interaction, assistants could become agents) show newline
(\(Memo-035\) capable of autonomous action within authorization bounds. An) show newline
(assistant-agent might:) show newline
() show newline
(  * Monitor audit trails for anomalies) show newline
(  * Summarize federation activity) show newline
(  * Draft documentation from code changes) show newline
(  * Propose vault organization improvements) show newline
() show newline
(This requires careful capability delegation \(Memo-021\).) show newline
() show newline
() show newline
(Inter-Realm Assistants) show newline
(----------------------) show newline
() show newline
(Assistants could be shared across federated realms, providing) show newline
(consistency and reducing configuration burden. A realm might "borrow" a) show newline
(trusted assistant from a peer realm for specific tasks.) show newline
() show newline
(This raises complex trust questions deferred to future work.) show newline
() show newline
() show newline
(Assistant Reputation) show newline
(--------------------) show newline
() show newline
(Just as realms develop reputation, assistants could develop observable) show newline
(track records—quality of responses, reliability, alignment with realm) show newline
(values. Realms might prefer assistants with proven track records.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(REFERENCES) show newline
(------------------------------------------------------------------------) show newline
() show newline
(  * Memo-021: Capability Delegation) show newline
(  * Memo-023: Demonic Agent Sandboxing) show newline
(  * Memo-035: Mobile Agents and Pub/Sub) show newline
(  * Memo-038: Local Inference Integration) show newline
(  * Anthropic API: https://docs.anthropic.com/) show newline
(  * Ollama: https://ollama.com/) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(CHANGELOG) show newline
(------------------------------------------------------------------------) show newline
() show newline
(  * 2026-01-13: Initial draft) show newline
() show newline
(------------------------------------------------------------------------) show newline

showpage
%%Trailer
%%Pages: pagenum
%%EOF
