<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <title>Memo 0013: Byzantine Consensus</title>
  <link rel="icon" id="favicon" href="data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27%230f0%27 text-anchor=%27middle%27 font-weight=%27bold%27>λ</text></svg>">
  <script>
(function(){
  var h=new Date().getHours(),c;
  if(h>=4&&h<6)c='%23845EC2';       // brahma muhurta - violet
  else if(h>=6&&h<8)c='%23ffd700';  // dawn - gold
  else if(h>=8&&h<11)c='%2300d4aa'; // morning - teal
  else if(h>=11&&h<14)c='%230f0';   // midday - phosphor
  else if(h>=14&&h<17)c='%2339ff14';// afternoon - neon
  else if(h>=17&&h<19)c='%23ff6600';// sunset - orange
  else if(h>=19&&h<22)c='%23ff3366';// evening - coral
  else c='%2300ffff';               // night - cyan
  document.getElementById('favicon').href='data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27'+c+'%27 text-anchor=%27middle%27 font-weight=%27bold%27>λ</text></svg>';
})();
</script>
  <link rel="stylesheet" href="memo.css">
</head>
<body>
<span class="theme-toggle" onclick="toggleTheme()" title="Toggle light/dark">[theme]</span>
<h1>Memo 0013: Byzantine Consensus</h1>
<dl class="metadata">
</dl>
<hr>
<section>
<h2>Abstract</h2>
<p>This Memo specifies Byzantine fault-tolerant consensus for Cyberspace federation, enabling agreement among distributed vaults even when some participants are faulty or malicious. N nodes tolerate up to f failures where N ≥ 3f + 1.</p>
</section>
<section>
<h2>Motivation</h2>
<p>Federation (Memo-010) assumes honest peers. Reality differs:</p>
<ul>
<li>Crash failures: Nodes go offline</li>
<li>Byzantine failures: Nodes lie, equivocate, or attack</li>
<li>Network partitions: Messages delayed or lost</li>
<li>Sybil attacks: Fake identities flood the network</li>
</ul>
<p>Byzantine consensus provides:</p>
<p>1. Safety: Honest nodes agree on same value 2. Liveness: System makes progress despite failures 3. Fault tolerance: Survives f failures with 3f+1 nodes</p>
<p>From Lamport, Shostak, and Pease (1982):</p>
<blockquote>
<p>The Byzantine Generals Problem: reaching agreement in the presence of traitors.</p>
</blockquote>
</section>
<section>
<h2>Specification</h2>
<h3>System Model</h3>
<pre>
Nodes:        N = 3f + 1 (tolerates f Byzantine faults)
Network:      Asynchronous with eventual delivery
Cryptography: Ed25519 signatures (authenticated channels)
</pre>
<h3>Consensus Properties</h3>
<p>Agreement: If honest node i decides v, honest node j decides v.</p>
<p>Validity: If all honest nodes propose v, decision is v.</p>
<p>Termination: All honest nodes eventually decide.</p>
<h3>Protocol: Practical Byzantine Fault Tolerance (PBFT)</h3>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 540 200" width="540" height="200" xmlns="http://www.w3.org/2000/svg">
<style>
  .diagram line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: square; }
  .diagram rect { fill: currentColor; }
  .diagram text { font-family: monospace; font-size: 14px; fill: currentColor; text-anchor: middle; dominant-baseline: central; }
</style>
<text x="5" y="10">P</text>
<text x="15" y="10">h</text>
<text x="25" y="10">a</text>
<text x="35" y="10">s</text>
<text x="45" y="10">e</text>
<text x="65" y="10">1</text>
<text x="75" y="10">:</text>
<text x="95" y="10">P</text>
<text x="105" y="10">R</text>
<text x="115" y="10">E</text>
<text x="125" y="10">-</text>
<text x="135" y="10">P</text>
<text x="145" y="10">R</text>
<text x="155" y="10">E</text>
<text x="165" y="10">P</text>
<text x="175" y="10">A</text>
<text x="185" y="10">R</text>
<text x="195" y="10">E</text>
<text x="25" y="30">P</text>
<text x="35" y="30">r</text>
<text x="45" y="30">i</text>
<text x="55" y="30">m</text>
<text x="65" y="30">a</text>
<text x="75" y="30">r</text>
<text x="85" y="30">y</text>
<text x="105" y="30">b</text>
<text x="115" y="30">r</text>
<text x="125" y="30">o</text>
<text x="135" y="30">a</text>
<text x="145" y="30">d</text>
<text x="155" y="30">c</text>
<text x="165" y="30">a</text>
<text x="175" y="30">s</text>
<text x="185" y="30">t</text>
<text x="195" y="30">s</text>
<text x="215" y="30">⟨</text>
<text x="225" y="30">P</text>
<text x="235" y="30">R</text>
<text x="245" y="30">E</text>
<text x="255" y="30">-</text>
<text x="265" y="30">P</text>
<text x="275" y="30">R</text>
<text x="285" y="30">E</text>
<text x="295" y="30">P</text>
<text x="305" y="30">A</text>
<text x="315" y="30">R</text>
<text x="325" y="30">E</text>
<text x="335" y="30">,</text>
<text x="355" y="30">v</text>
<text x="365" y="30">,</text>
<text x="385" y="30">n</text>
<text x="395" y="30">,</text>
<text x="415" y="30">s</text>
<text x="425" y="30">i</text>
<text x="435" y="30">g</text>
<text x="445" y="30">⟩</text>
<text x="5" y="50">P</text>
<text x="15" y="50">h</text>
<text x="25" y="50">a</text>
<text x="35" y="50">s</text>
<text x="45" y="50">e</text>
<text x="65" y="50">2</text>
<text x="75" y="50">:</text>
<text x="95" y="50">P</text>
<text x="105" y="50">R</text>
<text x="115" y="50">E</text>
<text x="125" y="50">P</text>
<text x="135" y="50">A</text>
<text x="145" y="50">R</text>
<text x="155" y="50">E</text>
<text x="25" y="70">O</text>
<text x="35" y="70">n</text>
<text x="55" y="70">v</text>
<text x="65" y="70">a</text>
<text x="75" y="70">l</text>
<text x="85" y="70">i</text>
<text x="95" y="70">d</text>
<text x="115" y="70">P</text>
<text x="125" y="70">R</text>
<text x="135" y="70">E</text>
<text x="145" y="70">-</text>
<text x="155" y="70">P</text>
<text x="165" y="70">R</text>
<text x="175" y="70">E</text>
<text x="185" y="70">P</text>
<text x="195" y="70">A</text>
<text x="205" y="70">R</text>
<text x="215" y="70">E</text>
<text x="225" y="70">,</text>
<text x="245" y="70">b</text>
<text x="255" y="70">r</text>
<text x="265" y="70">o</text>
<text x="275" y="70">a</text>
<text x="285" y="70">d</text>
<text x="295" y="70">c</text>
<text x="305" y="70">a</text>
<text x="315" y="70">s</text>
<text x="325" y="70">t</text>
<text x="345" y="70">⟨</text>
<text x="355" y="70">P</text>
<text x="365" y="70">R</text>
<text x="375" y="70">E</text>
<text x="385" y="70">P</text>
<text x="395" y="70">A</text>
<text x="405" y="70">R</text>
<text x="415" y="70">E</text>
<text x="425" y="70">,</text>
<text x="445" y="70">v</text>
<text x="455" y="70">,</text>
<text x="475" y="70">n</text>
<text x="485" y="70">,</text>
<text x="505" y="70">s</text>
<text x="515" y="70">i</text>
<text x="525" y="70">g</text>
<text x="535" y="70">⟩</text>
<text x="25" y="90">C</text>
<text x="35" y="90">o</text>
<text x="45" y="90">l</text>
<text x="55" y="90">l</text>
<text x="65" y="90">e</text>
<text x="75" y="90">c</text>
<text x="85" y="90">t</text>
<text x="105" y="90">2</text>
<text x="115" y="90">f</text>
<text x="135" y="90">P</text>
<text x="145" y="90">R</text>
<text x="155" y="90">E</text>
<text x="165" y="90">P</text>
<text x="175" y="90">A</text>
<text x="185" y="90">R</text>
<text x="195" y="90">E</text>
<text x="215" y="90">m</text>
<text x="225" y="90">e</text>
<text x="235" y="90">s</text>
<text x="245" y="90">s</text>
<text x="255" y="90">a</text>
<text x="265" y="90">g</text>
<text x="275" y="90">e</text>
<text x="285" y="90">s</text>
<text x="5" y="110">P</text>
<text x="15" y="110">h</text>
<text x="25" y="110">a</text>
<text x="35" y="110">s</text>
<text x="45" y="110">e</text>
<text x="65" y="110">3</text>
<text x="75" y="110">:</text>
<text x="95" y="110">C</text>
<text x="105" y="110">O</text>
<text x="115" y="110">M</text>
<text x="125" y="110">M</text>
<text x="135" y="110">I</text>
<text x="145" y="110">T</text>
<text x="25" y="130">O</text>
<text x="35" y="130">n</text>
<text x="55" y="130">2</text>
<text x="65" y="130">f</text>
<text x="75" y="130">+</text>
<text x="85" y="130">1</text>
<text x="105" y="130">P</text>
<text x="115" y="130">R</text>
<text x="125" y="130">E</text>
<text x="135" y="130">P</text>
<text x="145" y="130">A</text>
<text x="155" y="130">R</text>
<text x="165" y="130">E</text>
<text x="175" y="130">,</text>
<text x="195" y="130">b</text>
<text x="205" y="130">r</text>
<text x="215" y="130">o</text>
<text x="225" y="130">a</text>
<text x="235" y="130">d</text>
<text x="245" y="130">c</text>
<text x="255" y="130">a</text>
<text x="265" y="130">s</text>
<text x="275" y="130">t</text>
<text x="295" y="130">⟨</text>
<text x="305" y="130">C</text>
<text x="315" y="130">O</text>
<text x="325" y="130">M</text>
<text x="335" y="130">M</text>
<text x="345" y="130">I</text>
<text x="355" y="130">T</text>
<text x="365" y="130">,</text>
<text x="385" y="130">v</text>
<text x="395" y="130">,</text>
<text x="415" y="130">n</text>
<text x="425" y="130">,</text>
<text x="445" y="130">s</text>
<text x="455" y="130">i</text>
<text x="465" y="130">g</text>
<text x="475" y="130">⟩</text>
<text x="25" y="150">C</text>
<text x="35" y="150">o</text>
<text x="45" y="150">l</text>
<text x="55" y="150">l</text>
<text x="65" y="150">e</text>
<text x="75" y="150">c</text>
<text x="85" y="150">t</text>
<text x="105" y="150">2</text>
<text x="115" y="150">f</text>
<text x="125" y="150">+</text>
<text x="135" y="150">1</text>
<text x="155" y="150">C</text>
<text x="165" y="150">O</text>
<text x="175" y="150">M</text>
<text x="185" y="150">M</text>
<text x="195" y="150">I</text>
<text x="205" y="150">T</text>
<text x="225" y="150">m</text>
<text x="235" y="150">e</text>
<text x="245" y="150">s</text>
<text x="255" y="150">s</text>
<text x="265" y="150">a</text>
<text x="275" y="150">g</text>
<text x="285" y="150">e</text>
<text x="295" y="150">s</text>
<text x="5" y="170">D</text>
<text x="15" y="170">e</text>
<text x="25" y="170">c</text>
<text x="35" y="170">i</text>
<text x="45" y="170">s</text>
<text x="55" y="170">i</text>
<text x="65" y="170">o</text>
<text x="75" y="170">n</text>
<text x="85" y="170">:</text>
<text x="25" y="190">O</text>
<text x="35" y="190">n</text>
<text x="55" y="190">2</text>
<text x="65" y="190">f</text>
<text x="75" y="190">+</text>
<text x="85" y="190">1</text>
<text x="105" y="190">C</text>
<text x="115" y="190">O</text>
<text x="125" y="190">M</text>
<text x="135" y="190">M</text>
<text x="145" y="190">I</text>
<text x="155" y="190">T</text>
<text x="165" y="190">,</text>
<text x="185" y="190">d</text>
<text x="195" y="190">e</text>
<text x="205" y="190">c</text>
<text x="215" y="190">i</text>
<text x="225" y="190">d</text>
<text x="235" y="190">e</text>
<text x="255" y="190">v</text>
</svg>
</div>
<h3>Message Formats</h3>
<pre class="language-scheme">
(consensus-message
  (type pre-prepare)
  (view 0)
  (sequence 42)
  (value-hash "sha512:...")
  (from #${primary-pubkey})
  (signature #${ed25519-sig}))

(consensus-message
  (type prepare)
  (view 0)
  (sequence 42)
  (value-hash "sha512:...")
  (from #${replica-pubkey})
  (signature #${ed25519-sig}))

(consensus-message
  (type commit)
  (view 0)
  (sequence 42)
  (from #${replica-pubkey})
  (signature #${ed25519-sig}))
</pre>
</section>
<section>
<h2>View Change</h2>
<p>When primary fails or is Byzantine:</p>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 490 100" width="490" height="100" xmlns="http://www.w3.org/2000/svg">
<style>
  .diagram line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: square; }
  .diagram rect { fill: currentColor; }
  .diagram text { font-family: monospace; font-size: 14px; fill: currentColor; text-anchor: middle; dominant-baseline: central; }
</style>
<text x="5" y="10">1</text>
<text x="15" y="10">.</text>
<text x="35" y="10">R</text>
<text x="45" y="10">e</text>
<text x="55" y="10">p</text>
<text x="65" y="10">l</text>
<text x="75" y="10">i</text>
<text x="85" y="10">c</text>
<text x="95" y="10">a</text>
<text x="115" y="10">t</text>
<text x="125" y="10">i</text>
<text x="135" y="10">m</text>
<text x="145" y="10">e</text>
<text x="155" y="10">o</text>
<text x="165" y="10">u</text>
<text x="175" y="10">t</text>
<text x="195" y="10">o</text>
<text x="205" y="10">n</text>
<text x="225" y="10">P</text>
<text x="235" y="10">R</text>
<text x="245" y="10">E</text>
<text x="255" y="10">-</text>
<text x="265" y="10">P</text>
<text x="275" y="10">R</text>
<text x="285" y="10">E</text>
<text x="295" y="10">P</text>
<text x="305" y="10">A</text>
<text x="315" y="10">R</text>
<text x="325" y="10">E</text>
<text x="5" y="30">2</text>
<text x="15" y="30">.</text>
<text x="35" y="30">B</text>
<text x="45" y="30">r</text>
<text x="55" y="30">o</text>
<text x="65" y="30">a</text>
<text x="75" y="30">d</text>
<text x="85" y="30">c</text>
<text x="95" y="30">a</text>
<text x="105" y="30">s</text>
<text x="115" y="30">t</text>
<text x="135" y="30">⟨</text>
<text x="145" y="30">V</text>
<text x="155" y="30">I</text>
<text x="165" y="30">E</text>
<text x="175" y="30">W</text>
<text x="185" y="30">-</text>
<text x="195" y="30">C</text>
<text x="205" y="30">H</text>
<text x="215" y="30">A</text>
<text x="225" y="30">N</text>
<text x="235" y="30">G</text>
<text x="245" y="30">E</text>
<text x="255" y="30">,</text>
<text x="275" y="30">v</text>
<text x="285" y="30">+</text>
<text x="295" y="30">1</text>
<text x="305" y="30">,</text>
<text x="325" y="30">p</text>
<text x="335" y="30">r</text>
<text x="345" y="30">e</text>
<text x="355" y="30">p</text>
<text x="365" y="30">a</text>
<text x="375" y="30">r</text>
<text x="385" y="30">e</text>
<text x="395" y="30">d</text>
<text x="405" y="30">-</text>
<text x="415" y="30">p</text>
<text x="425" y="30">r</text>
<text x="435" y="30">o</text>
<text x="445" y="30">o</text>
<text x="455" y="30">f</text>
<text x="465" y="30">s</text>
<text x="475" y="30">⟩</text>
<text x="5" y="50">3</text>
<text x="15" y="50">.</text>
<text x="35" y="50">N</text>
<text x="45" y="50">e</text>
<text x="55" y="50">w</text>
<text x="75" y="50">p</text>
<text x="85" y="50">r</text>
<text x="95" y="50">i</text>
<text x="105" y="50">m</text>
<text x="115" y="50">a</text>
<text x="125" y="50">r</text>
<text x="135" y="50">y</text>
<text x="155" y="50">c</text>
<text x="165" y="50">o</text>
<text x="175" y="50">l</text>
<text x="185" y="50">l</text>
<text x="195" y="50">e</text>
<text x="205" y="50">c</text>
<text x="215" y="50">t</text>
<text x="225" y="50">s</text>
<text x="245" y="50">2</text>
<text x="255" y="50">f</text>
<text x="265" y="50">+</text>
<text x="275" y="50">1</text>
<text x="295" y="50">V</text>
<text x="305" y="50">I</text>
<text x="315" y="50">E</text>
<text x="325" y="50">W</text>
<text x="335" y="50">-</text>
<text x="345" y="50">C</text>
<text x="355" y="50">H</text>
<text x="365" y="50">A</text>
<text x="375" y="50">N</text>
<text x="385" y="50">G</text>
<text x="395" y="50">E</text>
<text x="5" y="70">4</text>
<text x="15" y="70">.</text>
<text x="35" y="70">N</text>
<text x="45" y="70">e</text>
<text x="55" y="70">w</text>
<text x="75" y="70">p</text>
<text x="85" y="70">r</text>
<text x="95" y="70">i</text>
<text x="105" y="70">m</text>
<text x="115" y="70">a</text>
<text x="125" y="70">r</text>
<text x="135" y="70">y</text>
<text x="155" y="70">b</text>
<text x="165" y="70">r</text>
<text x="175" y="70">o</text>
<text x="185" y="70">a</text>
<text x="195" y="70">d</text>
<text x="205" y="70">c</text>
<text x="215" y="70">a</text>
<text x="225" y="70">s</text>
<text x="235" y="70">t</text>
<text x="245" y="70">s</text>
<text x="265" y="70">⟨</text>
<text x="275" y="70">N</text>
<text x="285" y="70">E</text>
<text x="295" y="70">W</text>
<text x="305" y="70">-</text>
<text x="315" y="70">V</text>
<text x="325" y="70">I</text>
<text x="335" y="70">E</text>
<text x="345" y="70">W</text>
<text x="355" y="70">,</text>
<text x="375" y="70">v</text>
<text x="385" y="70">+</text>
<text x="395" y="70">1</text>
<text x="405" y="70">,</text>
<text x="425" y="70">p</text>
<text x="435" y="70">r</text>
<text x="445" y="70">o</text>
<text x="455" y="70">o</text>
<text x="465" y="70">f</text>
<text x="475" y="70">s</text>
<text x="485" y="70">⟩</text>
<text x="5" y="90">5</text>
<text x="15" y="90">.</text>
<text x="35" y="90">R</text>
<text x="45" y="90">e</text>
<text x="55" y="90">s</text>
<text x="65" y="90">u</text>
<text x="75" y="90">m</text>
<text x="85" y="90">e</text>
<text x="105" y="90">p</text>
<text x="115" y="90">r</text>
<text x="125" y="90">o</text>
<text x="135" y="90">t</text>
<text x="145" y="90">o</text>
<text x="155" y="90">c</text>
<text x="165" y="90">o</text>
<text x="175" y="90">l</text>
<text x="195" y="90">i</text>
<text x="205" y="90">n</text>
<text x="225" y="90">n</text>
<text x="235" y="90">e</text>
<text x="245" y="90">w</text>
<text x="265" y="90">v</text>
<text x="275" y="90">i</text>
<text x="285" y="90">e</text>
<text x="295" y="90">w</text>
</svg>
</div>
</section>
<section>
<h2>Application to Cyberspace</h2>
<h3>Federation Ordering</h3>
<pre class="language-scheme">
(consensus-propose
  (action release-publish)
  (version "2.0.0")
  (proposer #${alice-key}))

;; After consensus:
(consensus-decided
  (sequence 42)
  (action release-publish)
  (version "2.0.0")
  (decided-by (quorum ...)))
</pre>
<h3>Threshold Governance Integration</h3>
<p>Combine with Memo-008: - Consensus on what to do - Threshold signatures on authorization</p>
<pre class="language-scheme">
(governance-decision
  (consensus-sequence 42)
  (action deploy-production)
  (threshold-met 3-of-5)
  (signers (alice carol dave)))
</pre>
</section>
<section>
<h2>Optimizations</h2>
<h3>Speculation</h3>
<p>Execute optimistically before commit:</p>
<pre>
Tentative execution after 2f+1 PREPARE
Rollback if COMMIT fails
</pre>
<h3>Batching</h3>
<p>Amortize consensus over multiple operations:</p>
<pre>
(consensus-batch
  (sequence 42)
  (operations
    (release-publish "2.0.0")
    (release-publish "2.0.1")
    (config-update ...)))
</pre>
<h3>Fast Path</h3>
<p>When all replicas agree initially:</p>
<pre>
Skip PREPARE phase
Direct to COMMIT with 3f+1 matching responses
</pre>
</section>
<section>
<h2>Security Considerations</h2>
<h3>Threat Model</h3>
<p>Tolerates: - f Byzantine nodes (arbitrary behavior) - Network delays and reordering - Message loss (with retransmission)</p>
<p>Requires: - N ≥ 3f + 1 total nodes - Authenticated channels (signatures) - Eventual message delivery</p>
<h3>Attack Resistance</h3>
<table>
<tr><th>Attack </th><th>Mitigation </th></tr>
<tr><td>Equivocation </td><td>Signatures prove inconsistency </td></tr>
<tr><td>Replay </td><td>Sequence numbers, view numbers </td></tr>
<tr><td>Denial of service </td><td>View change, rate limiting </td></tr>
<tr><td>Sybil </td><td>SPKI admission control </td></tr>
</table>
</section>
<section>
<h2>Complexity</h2>
<table>
<tr><th>Metric </th><th>Value </th></tr>
<tr><td>Message complexity </td><td>O(N²) per decision </td></tr>
<tr><td>Communication rounds </td><td>3 (normal case) </td></tr>
<tr><td>Cryptographic operations </td><td>O(N) signatures/verifies </td></tr>
</table>
</section>
<section>
<h2>Implementation Notes</h2>
<h3>State Machine</h3>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 560 160" width="560" height="160" xmlns="http://www.w3.org/2000/svg">
<style>
  .diagram line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: square; }
  .diagram rect { fill: currentColor; }
  .diagram text { font-family: monospace; font-size: 14px; fill: currentColor; text-anchor: middle; dominant-baseline: central; }
</style>
<text x="5" y="10">(</text>
<text x="15" y="10">d</text>
<text x="25" y="10">e</text>
<text x="35" y="10">f</text>
<text x="45" y="10">i</text>
<text x="55" y="10">n</text>
<text x="65" y="10">e</text>
<text x="75" y="10">-</text>
<text x="85" y="10">r</text>
<text x="95" y="10">e</text>
<text x="105" y="10">c</text>
<text x="115" y="10">o</text>
<text x="125" y="10">r</text>
<text x="135" y="10">d</text>
<text x="145" y="10">-</text>
<text x="155" y="10">t</text>
<text x="165" y="10">y</text>
<text x="175" y="10">p</text>
<text x="185" y="10">e</text>
<text x="205" y="10">&lt;</text>
<text x="215" y="10">p</text>
<text x="225" y="10">b</text>
<text x="235" y="10">f</text>
<text x="245" y="10">t</text>
<text x="255" y="10">-</text>
<text x="265" y="10">s</text>
<text x="275" y="10">t</text>
<text x="285" y="10">a</text>
<text x="295" y="10">t</text>
<text x="305" y="10">e</text>
<text x="315" y="10">&gt;</text>
<text x="25" y="30">(</text>
<text x="35" y="30">m</text>
<text x="45" y="30">a</text>
<text x="55" y="30">k</text>
<text x="65" y="30">e</text>
<text x="75" y="30">-</text>
<text x="85" y="30">p</text>
<text x="95" y="30">b</text>
<text x="105" y="30">f</text>
<text x="115" y="30">t</text>
<text x="125" y="30">-</text>
<text x="135" y="30">s</text>
<text x="145" y="30">t</text>
<text x="155" y="30">a</text>
<text x="165" y="30">t</text>
<text x="175" y="30">e</text>
<text x="195" y="30">v</text>
<text x="205" y="30">i</text>
<text x="215" y="30">e</text>
<text x="225" y="30">w</text>
<text x="245" y="30">s</text>
<text x="255" y="30">e</text>
<text x="265" y="30">q</text>
<text x="275" y="30">u</text>
<text x="285" y="30">e</text>
<text x="295" y="30">n</text>
<text x="305" y="30">c</text>
<text x="315" y="30">e</text>
<text x="335" y="30">l</text>
<text x="345" y="30">o</text>
<text x="355" y="30">g</text>
<text x="375" y="30">p</text>
<text x="385" y="30">r</text>
<text x="395" y="30">e</text>
<text x="405" y="30">p</text>
<text x="415" y="30">a</text>
<text x="425" y="30">r</text>
<text x="435" y="30">e</text>
<text x="445" y="30">d</text>
<text x="465" y="30">c</text>
<text x="475" y="30">o</text>
<text x="485" y="30">m</text>
<text x="495" y="30">m</text>
<text x="505" y="30">i</text>
<text x="515" y="30">t</text>
<text x="525" y="30">t</text>
<text x="535" y="30">e</text>
<text x="545" y="30">d</text>
<text x="555" y="30">)</text>
<text x="25" y="50">p</text>
<text x="35" y="50">b</text>
<text x="45" y="50">f</text>
<text x="55" y="50">t</text>
<text x="65" y="50">-</text>
<text x="75" y="50">s</text>
<text x="85" y="50">t</text>
<text x="95" y="50">a</text>
<text x="105" y="50">t</text>
<text x="115" y="50">e</text>
<text x="125" y="50">?</text>
<text x="25" y="70">(</text>
<text x="35" y="70">v</text>
<text x="45" y="70">i</text>
<text x="55" y="70">e</text>
<text x="65" y="70">w</text>
<text x="85" y="70">p</text>
<text x="95" y="70">b</text>
<text x="105" y="70">f</text>
<text x="115" y="70">t</text>
<text x="125" y="70">-</text>
<text x="135" y="70">v</text>
<text x="145" y="70">i</text>
<text x="155" y="70">e</text>
<text x="165" y="70">w</text>
<text x="175" y="70">)</text>
<text x="25" y="90">(</text>
<text x="35" y="90">s</text>
<text x="45" y="90">e</text>
<text x="55" y="90">q</text>
<text x="65" y="90">u</text>
<text x="75" y="90">e</text>
<text x="85" y="90">n</text>
<text x="95" y="90">c</text>
<text x="105" y="90">e</text>
<text x="125" y="90">p</text>
<text x="135" y="90">b</text>
<text x="145" y="90">f</text>
<text x="155" y="90">t</text>
<text x="165" y="90">-</text>
<text x="175" y="90">s</text>
<text x="185" y="90">e</text>
<text x="195" y="90">q</text>
<text x="205" y="90">u</text>
<text x="215" y="90">e</text>
<text x="225" y="90">n</text>
<text x="235" y="90">c</text>
<text x="245" y="90">e</text>
<text x="255" y="90">)</text>
<text x="25" y="110">(</text>
<text x="35" y="110">l</text>
<text x="45" y="110">o</text>
<text x="55" y="110">g</text>
<text x="75" y="110">p</text>
<text x="85" y="110">b</text>
<text x="95" y="110">f</text>
<text x="105" y="110">t</text>
<text x="115" y="110">-</text>
<text x="125" y="110">l</text>
<text x="135" y="110">o</text>
<text x="145" y="110">g</text>
<text x="155" y="110">)</text>
<text x="305" y="110">;</text>
<text x="325" y="110">s</text>
<text x="335" y="110">e</text>
<text x="345" y="110">q</text>
<text x="355" y="110">u</text>
<text x="365" y="110">e</text>
<text x="375" y="110">n</text>
<text x="385" y="110">c</text>
<text x="395" y="110">e</text>
<text x="415" y="110">→</text>
<text x="435" y="110">m</text>
<text x="445" y="110">e</text>
<text x="455" y="110">s</text>
<text x="465" y="110">s</text>
<text x="475" y="110">a</text>
<text x="485" y="110">g</text>
<text x="495" y="110">e</text>
<text x="505" y="110">s</text>
<text x="25" y="130">(</text>
<text x="35" y="130">p</text>
<text x="45" y="130">r</text>
<text x="55" y="130">e</text>
<text x="65" y="130">p</text>
<text x="75" y="130">a</text>
<text x="85" y="130">r</text>
<text x="95" y="130">e</text>
<text x="105" y="130">d</text>
<text x="125" y="130">p</text>
<text x="135" y="130">b</text>
<text x="145" y="130">f</text>
<text x="155" y="130">t</text>
<text x="165" y="130">-</text>
<text x="175" y="130">p</text>
<text x="185" y="130">r</text>
<text x="195" y="130">e</text>
<text x="205" y="130">p</text>
<text x="215" y="130">a</text>
<text x="225" y="130">r</text>
<text x="235" y="130">e</text>
<text x="245" y="130">d</text>
<text x="255" y="130">)</text>
<text x="305" y="130">;</text>
<text x="325" y="130">s</text>
<text x="335" y="130">e</text>
<text x="345" y="130">q</text>
<text x="355" y="130">u</text>
<text x="365" y="130">e</text>
<text x="375" y="130">n</text>
<text x="385" y="130">c</text>
<text x="395" y="130">e</text>
<text x="415" y="130">→</text>
<text x="435" y="130">v</text>
<text x="445" y="130">a</text>
<text x="455" y="130">l</text>
<text x="465" y="130">u</text>
<text x="475" y="130">e</text>
<text x="25" y="150">(</text>
<text x="35" y="150">c</text>
<text x="45" y="150">o</text>
<text x="55" y="150">m</text>
<text x="65" y="150">m</text>
<text x="75" y="150">i</text>
<text x="85" y="150">t</text>
<text x="95" y="150">t</text>
<text x="105" y="150">e</text>
<text x="115" y="150">d</text>
<text x="135" y="150">p</text>
<text x="145" y="150">b</text>
<text x="155" y="150">f</text>
<text x="165" y="150">t</text>
<text x="175" y="150">-</text>
<text x="185" y="150">c</text>
<text x="195" y="150">o</text>
<text x="205" y="150">m</text>
<text x="215" y="150">m</text>
<text x="225" y="150">i</text>
<text x="235" y="150">t</text>
<text x="245" y="150">t</text>
<text x="255" y="150">e</text>
<text x="265" y="150">d</text>
<text x="275" y="150">)</text>
<text x="285" y="150">)</text>
<text x="305" y="150">;</text>
<text x="325" y="150">s</text>
<text x="335" y="150">e</text>
<text x="345" y="150">q</text>
<text x="355" y="150">u</text>
<text x="365" y="150">e</text>
<text x="375" y="150">n</text>
<text x="385" y="150">c</text>
<text x="395" y="150">e</text>
<text x="415" y="150">→</text>
<text x="435" y="150">v</text>
<text x="445" y="150">a</text>
<text x="455" y="150">l</text>
<text x="465" y="150">u</text>
<text x="475" y="150">e</text>
</svg>
</div>
<h3>Dependencies</h3>
<ul>
<li>crypto-ffi</li>
<li>Ed25519 signatures - audit</li>
<li>Decision logging</li>
<li>Network transport (TCP, QUIC)</li>
</ul>
</section>
<section>
<h2>References</h2>
<p>1. Lamport, L., Shostak, R., &amp; Pease, M. (1982). The Byzantine Generals Problem. 2. Castro, M., &amp; Liskov, B. (1999). Practical Byzantine Fault Tolerance. 3. Yin, M., et al. (2019). HotStuff: BFT Consensus with Linearity and Responsiveness. 4. Memo-008: Threshold Signature Governance 5. Memo-010: Federation Protocol</p>
</section>
<section>
<h2>Changelog</h2>
<ul>
<li>2026-01-06</li>
<li>Initial specification</li>
</ul>
</section>
<script>
function toggleTheme() {
  const html = document.documentElement;
  const current = html.getAttribute('data-theme');
  const next = current === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', next);
  localStorage.setItem('theme', next);
}
(function() {
  // Query param override (for REPL: ?theme=dark or ?theme=light)
  const params = new URLSearchParams(window.location.search);
  const param = params.get('theme');
  if (param === 'dark' || param === 'light') {
    document.documentElement.setAttribute('data-theme', param);
    localStorage.setItem('theme', param);
    return;
  }
  // localStorage preference
  const saved = localStorage.getItem('theme');
  if (saved) {
    document.documentElement.setAttribute('data-theme', saved);
  } else if (window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', 'light');
  }
})();
</script>
</body>
</html>
