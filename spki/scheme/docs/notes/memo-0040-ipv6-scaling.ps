%!PS-Adobe-3.0
%%Title: memo-0040-ipv6-scaling
%%Creator: Library of Cyberspace Memo Pipeline
%%Pages: (atend)
%%EndComments

/Courier findfont 10 scalefont setfont
/margin 72 def
/pagewidth 612 def
/pageheight 792 def
/leading 12 def
/topmargin pageheight margin sub def
/bottommargin margin def
/linewidth pagewidth margin 2 mul sub def
/ypos topmargin def
/pagenum 1 def

/newline {
  /ypos ypos leading sub def
  ypos bottommargin lt {
    showpage
    /pagenum pagenum 1 add def
    /ypos topmargin def
  } if
  margin ypos moveto
} def

margin topmargin moveto
(Memo 0040: Scaling Architecture for IPv6) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
() show newline
(------------------------------------------------------------------------) show newline
(ABSTRACT) show newline
(------------------------------------------------------------------------) show newline
() show newline
(This Memo defines the architectural changes required to scale Cyberspace) show newline
(from a git-backed prototype to a native distributed system capable of) show newline
(operating at IPv6 scale \(billions of realms, exabytes of content\). Git) show newline
(becomes an export format; the vault becomes the source of truth.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(TERMINOLOGY) show newline
(------------------------------------------------------------------------) show newline
() show newline
(Realm: A node's place in cyberspace - its vault, principal,) show newline
(capabilities, and objects. Each realm is sovereign: local-first,) show newline
(controlled by its operator. Realms federate by choice, sharing objects) show newline
(according to trust relationships.) show newline
() show newline
(Vault: The local content-addressed object store \(.vault/\). The vault IS) show newline
(the realm's storage - all objects, catalogs, audit trails, and) show newline
(configuration live here.) show newline
() show newline
(Principal: A node's cryptographic identity \(Ed25519 public key\). The) show newline
(principal identifies the realm to peers and signs its objects.) show newline
() show newline
(At IPv6 scale, cyberspace consists of billions of realms, each occupying) show newline
(its own address space, each sovereign, each choosing what to share and) show newline
(with whom.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(MOTIVATION) show newline
(------------------------------------------------------------------------) show newline
() show newline
(Git served as an excellent prototype substrate: - Content-addressed) show newline
(objects \(proof of concept\) - Merkle tree integrity \(validates the model\)) show newline
(- Ubiquitous tooling \(bootstrap adoption\)) show newline
() show newline
(Git cannot scale to IPv6: - Full history on every clone - Repository as) show newline
(replication unit \(too coarse\) - SHA-1 \(cryptographically broken\) - No) show newline
(native federation or discovery - Merge semantics are wrong model) show newline
() show newline
(The internet has 2^128 addresses. Cyberspace should use them.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(DESIGN PRINCIPLES) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(    1. Objects, not repositories) show newline
(    2. Pull, not push) show newline
(    3. Lazy, not eager) show newline
(    4. Local-first, federate-second) show newline
(    5. Trust math, not infrastructure) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(CONTENT-ADDRESSED OBJECT STORE) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Storage Model) show newline
(-------------) show newline
() show newline
() show newline
(    .vault/) show newline
(      objects/) show newline
(        sha512-a1b2c3.../    # First 8 chars as directory) show newline
(          a1b2c3d4e5f6...    # Full hash as filename \(S-expression\)) show newline
(      catalog/) show newline
(        manifest.sexp        # Vault catalog object) show newline
(        bloom.sexp           # Bloom filter object) show newline
(        indices/             # Secondary index objects) show newline
(          by-signer.sexp) show newline
(          by-type.sexp) show newline
(      chunks/) show newline
(        sha512-xxxx/         # Chunked large objects) show newline
(      audit/) show newline
(        head.sexp            # Current audit chain head) show newline
(        chain/               # Audit entries \(hash-addressed\)) show newline
() show newline
() show newline
(Object Format) show newline
(-------------) show newline
() show newline
() show newline
(    \(cyberspace-object) show newline
(      \(version 1\)) show newline
(      \(type blob|tree|manifest|cert|audit\)) show newline
(      \(size 1048576\)) show newline
(      \(compression zstd|none\)) show newline
(      \(hash "sha512:a1b2c3..."\)) show newline
(      \(chunks \("sha512:..." "sha512:..." ...\)\)  ; If chunked) show newline
(      \(signature "ed25519:..."\)) show newline
(      \(timestamp 1736300000\)\)) show newline
() show newline
() show newline
(Chunking Strategy) show newline
(-----------------) show newline
() show newline
(Large objects split at content-defined boundaries \(Rabin) show newline
(fingerprinting\):) show newline
() show newline
() show newline
(    Target chunk: 64 KB \(Starlink-optimized\)) show newline
(    Min chunk:    16 KB) show newline
(    Max chunk:   256 KB) show newline
(    Benefits:) show newline
(      - Deduplication across objects) show newline
(      - Partial sync \(fetch only missing chunks\)) show newline
(      - Resumable transfers) show newline
(      - Efficient diff) show newline
() show newline
() show newline
(Hash Function) show newline
(-------------) show newline
() show newline
() show newline
(    SHA-512 everywhere.) show newline
(    Not SHA-256: We have the bits, use them.) show newline
(    Not SHA-1: Broken.) show newline
(    Not BLAKE3: Less analyzed, marginal speed gain irrelevant at network latency.) show newline
(    SHA-512 is:) show newline
(      - FIPS certified \(GovCloud path\)) show newline
(      - 50 years of cryptanalysis) show newline
(      - Hardware accelerated) show newline
(      - Already in use \(audit trail, signatures\)) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(CATALOG AND QUERY) show newline
(------------------------------------------------------------------------) show newline
() show newline
(The soup IS the catalog. No SQL. Objects are S-expressions, queries are) show newline
(pattern matching.) show newline
() show newline
() show newline
(The Soup Query Model) show newline
(--------------------) show newline
() show newline
() show newline
(    ;; Find objects by pattern) show newline
(    \(soup-query) show newline
(      '\(cyberspace-object) show newline
(        \(type blob\)) show newline
(        \(signer "ed25519:alice..."\)) show newline
(        ?rest\)\)                        ; Match any object signed by Alice) show newline
(    ;; Find by hash \(direct lookup\)) show newline
(    \(soup-fetch "sha512:a1b2c3..."\)    ; O\(1\) content-addressed) show newline
(    ;; Find by type) show newline
(    \(soup-query '\(cyberspace-object \(type cert\) ?rest\)\)) show newline
(    ;; Find by time range) show newline
(    \(soup-query-range) show newline
(      type: 'audit) show newline
(      from: 1736000000) show newline
(      to:   1736100000\)) show newline
(    ;; Cursor-based iteration for large result sets) show newline
(    \(soup-cursor) show newline
(      '\(cyberspace-object \(type ?\) ?rest\)) show newline
(      batch: 100\)) show newline
() show newline
() show newline
(Object Catalog) show newline
(--------------) show newline
() show newline
(The catalog is itself an object in the soup - a manifest of what the) show newline
(vault contains:) show newline
() show newline
() show newline
(    \(vault-catalog) show newline
(      \(version 1\)) show newline
(      \(realm "ed25519:principal..."\)) show newline
(      \(object-count 150000\)) show newline
(      \(types) show newline
(        \(blob 100000\)) show newline
(        \(tree 30000\)) show newline
(        \(cert 15000\)) show newline
(        \(audit 5000\)\)) show newline
(      \(bloom-filter #${...}\)           ; Fast existence check) show newline
(      \(updated 1736400000\)\)) show newline
() show newline
() show newline
(Bloom Filter) show newline
(------------) show newline
() show newline
(Fast existence check before network round-trip:) show newline
() show newline
() show newline
(    \(define \(soup-maybe-contains? hash\)) show newline
(      "Check bloom filter - false means definitely not, true means maybe") show newline
(      \(let \(\(catalog \(soup-fetch-catalog\)\)\)) show newline
(        \(bloom-test \(catalog-bloom catalog\) hash\)\)\)) show newline
(    ;; Bloom parameters) show newline
(    \(bloom-filter) show newline
(      \(capacity 10000000\)              ; 10M objects) show newline
(      \(false-positive 0.001\)           ; 0.1% FP rate) show newline
(      \(bits #${...}\)\)) show newline
() show newline
() show newline
(Audit Trail) show newline
(-----------) show newline
() show newline
(The audit trail is a hash-chain of objects in the soup:) show newline
() show newline
() show newline
(    \(audit-entry) show newline
(      \(sequence 12345\)) show newline
(      \(timestamp 1736300000\)) show newline
(      \(lamport 67890\)) show newline
(      \(actor "ed25519:subject..."\)) show newline
(      \(action \(read "sha512:object..."\)\)) show newline
(      \(previous "sha512:prev-entry..."\)  ; Chain link) show newline
(      \(signature "ed25519:auditor..."\)\)) show newline
(    ;; Query audit by walking the chain) show newline
(    \(define \(audit-query actor from-seq\)) show newline
(      "Walk audit chain, filter by actor") show newline
(      \(soup-chain-walk) show newline
(        start: \(audit-head\)) show newline
(        filter: \(lambda \(entry\)) show newline
(                  \(equal? \(entry-actor entry\) actor\)\)) show newline
(        from: from-seq\)\)) show newline
() show newline
() show newline
(Secondary Indices) show newline
(-----------------) show newline
() show newline
(For queries that can't use content-addressing, the soup maintains) show newline
(lightweight indices as objects:) show newline
() show newline
() show newline
(    \(soup-index) show newline
(      \(name "by-signer"\)) show newline
(      \(key-type principal\)) show newline
(      \(entries) show newline
(        \(\("ed25519:alice..." \("sha512:obj1" "sha512:obj2" ...\)\)) show newline
(         \("ed25519:bob..." \("sha512:obj3" "sha512:obj4" ...\)\)\)\)\)) show newline
(    \(soup-index) show newline
(      \(name "by-type"\)) show newline
(      \(key-type symbol\)) show newline
(      \(entries) show newline
(        \(\(blob \("sha512:..." "sha512:..." ...\)\)) show newline
(         \(cert \("sha512:..." "sha512:..." ...\)\)) show newline
(         \(audit \("sha512:..." "sha512:..." ...\)\)\)\)\)) show newline
() show newline
(Indices are rebuilt on demand, not authoritative - the soup is truth.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(DISCOVERY AND ROUTING) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Realm Identity) show newline
(--------------) show newline
() show newline
(Each realm has a principal \(Ed25519 public key\). This IS its identity:) show newline
() show newline
() show newline
(    \(realm-identity) show newline
(      \(principal "ed25519:a1b2c3..."\)) show newline
(      \(addresses                          ; Where to reach this realm) show newline
(        \(ipv6 "2001:db8::1" port: 7777\)) show newline
(        \(ipv4 "192.0.2.1" port: 7777\)     ; Legacy) show newline
(        \(onion "xxxx.onion" port: 7777\)\)  ; Tor) show newline
(      \(role witness\)) show newline
(      \(capabilities \(storage-gb 1000\) \(bandwidth-mbps 100\)\)) show newline
(      \(signature "ed25519:..."\)\)) show newline
() show newline
() show newline
(Peer Discovery) show newline
(--------------) show newline
() show newline
(Bootstrap:) show newline
() show newline
() show newline
(    \(bootstrap-peers) show newline
(      \("ed25519:official1..." "bootstrap.cyberspace.org"\)) show newline
(      \("ed25519:official2..." "bootstrap2.cyberspace.org"\)\)) show newline
() show newline
(Gossip Protocol:) show newline
() show newline
() show newline
(    1. Realm joins, contacts bootstrap peer) show newline
(    2. Receives partial peer list \(random subset\)) show newline
(    3. Contacts those peers, exchanges lists) show newline
(    4. Epidemic spread: O\(log n\) rounds to reach all realms) show newline
(    5. Periodic refresh \(every 5 min on Starlink-friendly schedule\)) show newline
() show newline
(Distributed Hash Table \(Future\):) show newline
() show newline
() show newline
(    Kademlia-style routing:) show newline
(      - XOR distance metric on principal hashes) show newline
(      - O\(log n\) lookups) show newline
(      - Realms responsible for nearby hash ranges) show newline
(      - Natural load balancing) show newline
() show newline
() show newline
(Content Discovery) show newline
(-----------------) show newline
() show newline
() show newline
(    ;; "Who has this hash?") show newline
(    \(content-locate "sha512:a1b2c3..."\)) show newline
(    ;; Returns list of peers claiming to have it:) show newline
(    \(\("ed25519:peer1..." \(latency-ms 50\) \(role full\)\)) show newline
(     \("ed25519:peer2..." \(latency-ms 200\) \(role witness\)\)) show newline
(     \("ed25519:peer3..." \(latency-ms 600\) \(role archiver\)\)\)) show newline
(    ;; Fetch from best candidate) show newline
(    \(content-fetch "sha512:a1b2c3..." from: "ed25519:peer1..."\)) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(TRANSPORT PROTOCOL) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(End-to-End Encryption) show newline
(---------------------) show newline
() show newline
(All network traffic is encrypted. The OS and network are not trusted.) show newline
() show newline
() show newline
(    \(cyberspace-message) show newline
(      \(version 1\)) show newline
(      \(from "ed25519:sender..."\)) show newline
(      \(to "ed25519:recipient..."\)        ; Or broadcast key) show newline
(      \(ephemeral "x25519:..."\)           ; One-time key \(PFS\)) show newline
(      \(nonce #${24-bytes}\)               ; Random nonce) show newline
(      \(ciphertext #${...}\)               ; NaCl box: X25519 + XSalsa20-Poly1305) show newline
(      \(signature "ed25519:..."\)\)         ; Sign the ciphertext) show newline
() show newline
(Encryption scheme: NaCl crypto_box \(libsodium\) - Key agreement: X25519) show newline
(\(Curve25519 ECDH\) - Cipher: XSalsa20-Poly1305 - Perfect forward secrecy:) show newline
(ephemeral keys per message) show newline
() show newline
(Decrypted payload:) show newline
() show newline
() show newline
(    \(plaintext-payload) show newline
(      \(type request|response|announce|gossip\)) show newline
(      \(nonce 12345678\)                   ; Replay protection) show newline
(      \(timestamp 1736300000\)) show newline
(      \(body ...\)\)) show newline
() show newline
(Broadcast messages use a shared group key or are signed-only) show newline
(\(announcements of public objects\).) show newline
() show newline
() show newline
(Wire Format \(Encrypted\)) show newline
(-----------------------) show newline
() show newline
() show newline
(    ;; Sender encrypts) show newline
(    \(define \(seal-message payload recipient-pubkey sender-keypair\)) show newline
(      \(let \(\(ephemeral \(x25519-keypair\)\)) show newline
(             \(shared \(x25519-shared \(ephemeral-secret ephemeral\) recipient-pubkey\)\)) show newline
(             \(nonce \(random-bytes 24\)\)) show newline
(             \(ciphertext \(crypto-box payload nonce shared\)\)\)) show newline
(        `\(cyberspace-message) show newline
(          \(version 1\)) show newline
(          \(from ,\(keypair-public sender-keypair\)\)) show newline
(          \(to ,recipient-pubkey\)) show newline
(          \(ephemeral ,\(ephemeral-public ephemeral\)\)) show newline
(          \(nonce ,nonce\)) show newline
(          \(ciphertext ,ciphertext\)) show newline
(          \(signature ,\(sign-message ciphertext sender-keypair\)\)\)\)\)) show newline
(    ;; Recipient decrypts) show newline
(    \(define \(open-message msg recipient-keypair\)) show newline
(      \(let \(\(shared \(x25519-shared \(keypair-secret recipient-keypair\)) show newline
(                                    \(message-ephemeral msg\)\)\)) show newline
(             \(plaintext \(crypto-box-open \(message-ciphertext msg\)) show newline
(                                         \(message-nonce msg\)) show newline
(                                         shared\)\)\)) show newline
(        \(and \(verify-signature msg \(message-from msg\)\)) show newline
(             plaintext\)\)\)) show newline
() show newline
() show newline
(Request Types) show newline
(-------------) show newline
() show newline
() show newline
(    ;; Existence check) show newline
(    \(have? \("sha512:..." "sha512:..." ...\)\)) show newline
(    ;; Response: \(have \("sha512:..." "sha512:..."\) missing \("sha512:..."\)\)) show newline
(    ;; Fetch object) show newline
(    \(fetch "sha512:..."\)) show newline
(    ;; Response: \(object ...\)) show newline
(    ;; Fetch chunk range) show newline
(    \(fetch-chunks "sha512:..." start: 5 count: 10\)) show newline
(    ;; Response: \(chunks ...\)) show newline
(    ;; Peer list exchange) show newline
(    \(peers? limit: 50\)) show newline
(    ;; Response: \(peers ...\)) show newline
(    ;; Announce new content) show newline
(    \(announce \("sha512:..." "sha512:..."\)\)) show newline
(    ;; Response: \(ack\)) show newline
() show newline
() show newline
(Transport Bindings) show newline
(------------------) show newline
() show newline
() show newline
(    Native:     UDP/IPv6, port 7777 \(primary\)) show newline
(    Fallback:   TCP/IPv6, port 7777 \(firewalls\)) show newline
(    Legacy:     TCP/IPv4, port 7777 \(transition\)) show newline
(    Stealth:    Tor onion service \(censorship resistance\)) show newline
(    Offline:    USB drive, file copy \(sneakernet\)) show newline
(    Export:     Git bundle \(GitHub compatibility\)) show newline
() show newline
() show newline
(Starlink Optimization) show newline
(---------------------) show newline
() show newline
() show newline
(    \(transport-config) show newline
(      \(mode satellite\)) show newline
(      \(batch-window-ms 500\)        ; Aggregate small messages) show newline
(      \(chunk-size-kb 64\)           ; Match MTU) show newline
(      \(retry-strategy exponential\)) show newline
(      \(max-in-flight 10\)           ; Parallelism) show newline
(      \(keepalive-sec 300\)\)         ; 5 min, not 30 sec) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(SYNCHRONIZATION PROTOCOL) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Lazy Sync \(Default\)) show newline
(-------------------) show newline
() show newline
() show newline
(    Node A                              Node B) show newline
(       |                                   |) show newline
(       |----\(have? [h1, h2, h3]\)---------->|) show newline
(       |<---\(have [h1, h3] missing [h2]\)---|) show newline
(       |----\(fetch h2\)-------------------->|) show newline
(       |<---\(object h2 ...\)----------------|) show newline
(       |                                   |) show newline
(    No coordination. No locks. No leader.) show newline
() show newline
() show newline
(Crdt-Style Convergence) show newline
(----------------------) show newline
() show newline
(Objects are immutable and content-addressed. No conflicts possible at) show newline
(object level.) show newline
() show newline
(Manifests \(collections of objects\) use: - Lamport timestamps for) show newline
(ordering - Last-writer-wins with principal tiebreaker - Or: union) show newline
(\(add-only sets\)) show newline
() show newline
() show newline
(    \(manifest) show newline
(      \(name "library"\)) show newline
(      \(version \(lamport 42\) \(principal "ed25519:..."\)\)) show newline
(      \(entries) show newline
(        \("memo-001" "sha512:..."\)) show newline
(        \("memo-002" "sha512:..."\)) show newline
(        ...\)\)) show newline
() show newline
() show newline
(Merkle Sync) show newline
(-----------) show newline
() show newline
(Efficient diff for large manifests:) show newline
() show newline
() show newline
(             root) show newline
(            /    \\) show newline
(          h1      h2) show newline
(         /  \\    /  \\) show newline
(        a    b  c    d) show newline
(    Exchange root hash.) show newline
(    If different, recurse on children.) show newline
(    O\(log n\) round trips to find diff.) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(FEDERATION AT SCALE) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Cluster Topology) show newline
(----------------) show newline
() show newline
() show newline
(                        +-------------------------------------+) show newline
(                        |         COORDINATOR CLUSTER         |) show newline
(                        |  \(3-7 nodes, Byzantine consensus\)   |) show newline
(                        +----------------+--------------------+) show newline
(                                         |) show newline
(              +--------------------------+--------------------------+) show newline
(              |                          |                          |) show newline
(        +-----v-----+             +------v-----+             +------v-----+) show newline
(        |   FULL    |             |   FULL     |             |    FULL    |) show newline
(        |  NODES    |             |   NODES    |             |   NODES    |) show newline
(        +-----+-----+             +-----+------+             +-----+------+) show newline
(              |                         |                          |) show newline
(        +-----v-----+             +-----v------+             +-----v------+) show newline
(        | WITNESSES |             | WITNESSES  |             | WITNESSES  |) show newline
(        | ARCHIVERS |             | ARCHIVERS  |             | ARCHIVERS  |) show newline
(        |   EDGES   |             |   EDGES    |             |   EDGES    |) show newline
(        +-----------+             +------------+             +------------+) show newline
(    Coordinators: Rare, high-capability realms, run consensus) show newline
(    Full: Common realms, replicate everything, serve content) show newline
(    Witnesses: Abundant realms, verify and store, passive sync) show newline
(    Archivers: Cold storage realms, batch sync) show newline
(    Edges: Read-only realms, intermittent, mobile) show newline
() show newline
() show newline
(Partition Tolerance) show newline
(-------------------) show newline
() show newline
() show newline
(    Network splits > clusters diverge > clusters converge on reconnect) show newline
(    No data loss \(content-addressed\)) show newline
(    No conflicts \(immutable objects\)) show newline
(    Audit trails merge \(union of entries, Lamport ordering\)) show newline
(    Manifests resolve \(LWW or union based on type\)) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(GIT AS EXPORT FORMAT) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(The Transition) show newline
(--------------) show newline
() show newline
() show newline
(    Phase 1 \(Now\):      Git is source of truth, vault is cache) show newline
(    Phase 2 \(Next\):     Vault is source of truth, git is export) show newline
(    Phase 3 \(Future\):   Git optional, purely for GitHub presence) show newline
() show newline
() show newline
(Export Process) show newline
(--------------) show newline
() show newline
() show newline
(    \(git-export) show newline
(      from: ".vault") show newline
(      to: "/tmp/cyberspace-export") show newline
(      format: 'git-repo\)) show newline
(    ;; Creates standard git repo from vault contents) show newline
(    ;; For publishing to GitHub, GitLab, etc.) show newline
() show newline
() show newline
(Import Process) show newline
(--------------) show newline
() show newline
() show newline
(    \(git-import) show newline
(      from: "https://github.com/ddp/cyberspace.git") show newline
(      to: ".vault"\)) show newline
(    ;; Extracts objects from git, stores in vault) show newline
(    ;; Discards git history, keeps content) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(SECURITY AT SCALE) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Sybil Resistance) show newline
(----------------) show newline
() show newline
(Problem: Attacker creates many fake nodes to dominate network.) show newline
() show newline
(Mitigations: 1. Stake-weighted voting \(not proof-of-work, just) show newline
(reputation\) 2. Web of trust - new nodes introduced by existing trusted) show newline
(nodes 3. Rate limiting - bound resources per principal 4. Coordinator) show newline
(consensus - Byzantine-resistant core) show newline
() show newline
() show newline
(Eclipse Attack Resistance) show newline
(-------------------------) show newline
() show newline
(Problem: Attacker isolates a node by controlling all its peers.) show newline
() show newline
(Mitigations: 1. Diverse bootstrap - multiple independent entry points 2.) show newline
(Random peer selection - can't predict who you'll connect to 3. Peer) show newline
(rotation - periodically reconnect to new peers 4. Out-of-band) show newline
(verification - publish peer lists via DNS, blockchain, etc.) show newline
() show newline
() show newline
(Denial of Service) show newline
(-----------------) show newline
() show newline
(Problem: Attacker floods network with junk.) show newline
() show newline
(Mitigations: 1. Proof of work on announcements \(small, CPU cost\) 2. Rate) show newline
(limiting per principal 3. Reputation scoring - misbehaving peers) show newline
(deprioritized 4. Content validation - reject malformed objects) show newline
(immediately) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(IMPLEMENTATION PHASES) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(Phase 1: Native Object Store) show newline
(----------------------------) show newline
() show newline
(  * Implement .vault/objects/ storage) show newline
(  * Soup catalog and query) show newline
(  * Keep git for development workflow) show newline
() show newline
() show newline
(Phase 2: Local-First Sync) show newline
(-------------------------) show newline
() show newline
(  * Direct node-to-node protocol - have?/fetch message types) show newline
(  * UDP transport with TCP fallback) show newline
() show newline
() show newline
(Phase 3: Discovery) show newline
(------------------) show newline
() show newline
(  * Gossip peer exchange) show newline
(  * Bootstrap nodes) show newline
(  * Bloom filters for content location) show newline
() show newline
() show newline
(Phase 4: Scale Testing) show newline
(----------------------) show newline
() show newline
(  * 100 nodes - 1000 nodes - 10000 nodes) show newline
(  * Measure: latency, convergence time, bandwidth) show newline
() show newline
() show newline
(Phase 5: Git Deprecation) show newline
(------------------------) show newline
() show newline
(  * Vault as source of truth) show newline
(  * Git export for compatibility) show newline
(  * Remove git dependency from core operations) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(METRICS AND MONITORING) show newline
(------------------------------------------------------------------------) show newline
() show newline
() show newline
(    \(node-metrics\)) show newline
(    ;; Returns:) show newline
(    \(\(objects-stored 150000\)) show newline
(     \(objects-size-gb 50\)) show newline
(     \(peers-known 500\)) show newline
(     \(peers-connected 20\)) show newline
(     \(sync-lag-seconds 30\)) show newline
(     \(bandwidth-in-mbps 10\)) show newline
(     \(bandwidth-out-mbps 5\)) show newline
(     \(requests-per-second 100\)) show newline
(     \(errors-per-second 0.1\)\)) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(REFERENCES) show newline
(------------------------------------------------------------------------) show newline
() show newline
(1. Memo-010: Federation Protocol 2. Memo-016: Lazy Clustering 3.) show newline
(Memo-037: Node Roles and Capabilities 4. Maymounkov, P. \(2002\).) show newline
(Kademlia: A Peer-to-peer Information System 5. Rabin, M. \(1981\).) show newline
(Fingerprinting by Random Polynomials 6. IPFS Whitepaper \(2014\) 7.) show newline
(Shapiro, M. \(2011\). Conflict-Free Replicated Data Types) show newline
() show newline
() show newline
(------------------------------------------------------------------------) show newline
(CHANGELOG) show newline
(------------------------------------------------------------------------) show newline
() show newline
(  * 2026-01-07) show newline
(  * Initial draft) show newline
() show newline
(------------------------------------------------------------------------) show newline

showpage
%%Trailer
%%Pages: pagenum
%%EOF
