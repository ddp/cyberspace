Memo 0003: Designer Notes

Status: Draft
Date: January 2026
Author: Derrell Piper <ddp@archlinux.us>

------------------------------------------------------------------------

------------------------------------------------------------------------
NOTICE
------------------------------------------------------------------------

This is a living document, not a specification. It records the
intellectual heritage, design philosophy, and collaborative process
behind Cyberspace.


------------------------------------------------------------------------
1. INTELLECTUAL HERITAGE
------------------------------------------------------------------------


1.1 MIT Athena and SPKI
-----------------------

Cyberspace traces its lineage to MIT's Project Athena and the Simple
Public Key Infrastructure (SPKI) work that emerged from MIT and the
Internet Engineering Task Force (IETF).

Athena (1983-1991) introduced Kerberos, distributed authentication, and
the concept of a unified computing environment across heterogeneous
systems. Digital Equipment Corporation (DEC) funded Athena and
contributed workstations.

Two independent threads merged at IETF to form SDSI/SPKI:

  * Simple Distributed Security Infrastructure (SDSI) - Ron Rivest at MIT, focusing on naming and local name spaces
  * SPKI - Carl Ellison at IETF, focusing on authorization and capabilities

Ellison's SPKI RFCs (2693, 2692) formalized capability-based
authorization through certificate chains. When IETF standardized this
work, Rivest's SDSI naming merged in. The result (SDSI/SPKI 2.0) gave us
both authorization and naming.

These ideas were absorbed during the same lamport epoch as R4RS Scheme
(1991) and SDSI (1996), alongside the practical education of Boston
traffic negotiation - both exercises in asserting authority without
central coordination.


1.2 Why Scheme
--------------

Scheme was chosen not for nostalgia but for precision. Homoiconicity
makes S-expressions natural for both code and data - certificates, audit
records, and configuration are all readable by the same parser that
reads the implementation.

The language that Abelson and Sussman used to teach computational
thinking at MIT is the same language used to implement the security
architecture that MIT research defined. Full circle.


------------------------------------------------------------------------
2. COLLABORATIVE DESIGN
------------------------------------------------------------------------

Cyberspace was designed in collaboration with Claude (Anthropic), an AI
assistant. This collaboration is documented in Memo-056.

The interaction model: human provides vision and constraints, AI
provides implementation and exploration. Neither could have built this
alone.


------------------------------------------------------------------------
3. NAMING COHERENCE
------------------------------------------------------------------------

Knuth's principle from TAOCP: names should be consistent across the
totality of a system. When we renamed 'RFC' to 'Memo' internally, we
applied s/rfc/memo/g globally - not just to files being edited, but to
every reference in the codebase.

Single source of truth extends to terminology. MEMO_NUMBER_WIDTH is
defined once; the four-digit format flows from that constant through
Scheme and shell. When the namespace overflows to five digits, one
change propagates everywhere.

Piecemeal renaming creates inconsistent states where variables say one
thing and filenames say another. The systematic approach is the only
approach.


------------------------------------------------------------------------
4. TARGET ENVIRONMENTS
------------------------------------------------------------------------

Primary targets:

  * macOS (Apple Silicon) - Cyberspace.app native shell
  * Linux - including MIT Athena
  * Any POSIX system with CHICKEN Scheme 5.x

The system should feel native on a Mac, work cleanly on Athena, and
build anywhere Scheme runs.


------------------------------------------------------------------------
5. THE SCHEME BENEATH
------------------------------------------------------------------------

Scheme is the implementation language, not the user interface. The
novice sees a shell; the schemer sees a REPL. Same system, different
lenses.

By default, Scheme internals are hidden:

  * Inspector disabled - errors show simple messages, not debug> prompts
  * Exception display uses plain language, not 'unbound variable'
  * Help shows commands, not S-expressions
  * The : prompt is a portal, not a lambda

Schemers opt in with (enable-inspector!) and see the machinery. The
abstraction layer is permeable but not transparent.

This is not dumbing down. It is layered revelation - the same principle
that makes Cyberspace.app feel native on Mac while running pure Scheme
underneath.


------------------------------------------------------------------------
6. THE SCRUTINIZER
------------------------------------------------------------------------

Consistency requires tooling. The scrutinizer audits tone and
terminology across library and code.

Two failure modes:

  * Overreach - poetry where precision needed, whimsy in error messages
  * Underreach - dry jargon where warmth appropriate, internal vocabulary leaking through

Passes:

  * Vocabulary audit - banned terms in user-facing strings
  * Tone consistency - memos vs help vs errors
  * S-expression exposure - Scheme leaking to surface

Interface:


    (scrutinize)               ; both passes (default)
    (scrutinize 'library)      ; memos only
    (scrutinize 'code)         ; code only
    (scrutinize #f)            ; disable
    *scrutinize-realmtime*     ; parameter, default #f
    (scrutinize-realmtime! #t) ; enable during dev

Realmtime mode invokes spacetime - scrutiny flows through the realm as
time passes. When enabled, violations surface as modules load. Off in
production, on in beta.


------------------------------------------------------------------------
7. FORGE AND SMELTER
------------------------------------------------------------------------

The forge module generates pronounceable passwords using Markov chains
on digraph statistics. The lineage traces back to Multics.


7.1 Heritage
------------

Original design by Morrie Gasser in PL/1 on Multics. Gasser, author of
'Building a Secure Computer System' (1988), carried the code forward to
VAX/VMS where it remained in PL/1 until the Alpha transition.

When DEC moved to Alpha architecture, PL/1 wasn't in the initial
compiler release. The code had to be expunged from the TCB. Derrell
Piper and Jon Callas rewrote it for VMS 6.0 (circa 1991): Piper wrote
the BLISS system service for the Trusted Computing Base; Callas wrote
the user-mode TPU smelter.

US and EU DEC patents were filed on the design (now expired). The
terminology - forge, smelter - comes from metallurgy: the smelter
refines raw ore (word lists) into workable material (digraph
statistics); the forge shapes the final product (pronounceable words).

Callas later became a principal author of OpenPGP (RFC 4880) and
co-founded PGP Corporation and Silent Circle. He remains a planned beta
tester for Cyberspace.

The chain of custody: Gasser (Multics PL/1) > Piper/Callas (VMS 6.0
BLISS/TPU) > Cyberspace (Scheme).


7.2 Design
----------

The smelter reads word lists and extracts digraph (character pair)
statistics:

  * Starting pair frequency - which pairs begin words
  * Transition probability - given 'ab', what characters follow
  * Termination markers - which pairs end words

The forge walks these statistics with weighted random selection,
producing words that follow the phonetic patterns of the source
language. Entropy is tracked in 'decibits' (tenths of bits) to quantify
password strength.


7.3 Languages
-------------

Original VMS languages: English, Latin, Italian, Dutch, Sindarin,
Webster. The VT100 diacriticals were encoded in DEC MCS (Multinational
Character Set).

Cyberspace expansion to 40+ languages follows roughly the operational
map of the Office of Strategic Services - another egg for those who
recognize the geography:

  * Western Europe: French, German, Spanish, Portuguese
  * Iberia: Catalan, Galician, Basque
  * Nordic (resistance networks): Swedish, Norwegian, Danish, Finnish
  * Atlantic fringe: Irish, Welsh, Scottish Gaelic, Breton
  * Balkans (partisan country): Greek, Albanian, Serbian, Croatian, Slovenian, Macedonian
  * Eastern front: Polish, Czech, Slovak, Hungarian, Romanian
  * Baltic: Lithuanian, Latvian, Estonian
  * Soviet theater: Russian, Ukrainian, Bulgarian
  * Near East: Turkish, Armenian
  * Mediterranean (George Cross island): Maltese
  * Detachment 101: Vietnamese, Thai, Lao, Korean
  * Literary: Sindarin (Tolkien's Elvish), Dante's Divina Commedia

Word lists sourced from Hunspell, LibreOffice, SCOWL, OpenTaal, Eldamo,
and the Princeton Dante Project. All diacriticals converted to UTF-8.

Sindarin preserves Tolkien's circumflexes: Manwë, Aulë, Andúril.
Dante's medieval Italian sits alongside. The OSS framing is itself an
easter egg - layers of meaning for those who dig.


7.4 Related Standards
---------------------

Forge predates but relates to two password generation standards:

  * FIPS 181 (1993) - Automated Password Generator. Uses trigraph (3-letter) statistics and hyphenation rules. More structured but less natural. Forge's digraph approach (1991) produces smoother results by learning from actual language patterns rather than syllable rules.
  * OPIE/S/Key - One-time Passwords In Everything. Uses a fixed 2048-word dictionary optimized for spoken communication over phone lines. Words are short and phonetically distinct. Different goal: memorability for one-time use vs. pronounceability for permanent passwords.

Forge's contribution was combining Markov chain language modeling with
entropy tracking - knowing not just that a password sounds right, but
exactly how many bits of randomness it contains.


7.5 Interface
-------------


    (forge)              ; one English word
    (forge 5)            ; five English words
    (forge 'sindarin)    ; one Elvish word
    (forge 'latin 3)     ; three Latin words
    (forge 'passphrase)  ; 4-word passphrase
    (forge 'german 'passphrase 6) ; 6-word German passphrase

Each word reports its entropy. Passphrases join words with hyphens. The
forge is an easter egg - undocumented in help, discovered by schemers
exploring the REPL.


7.6 Cryptographic Entropy
-------------------------

Passwords fall naturally out of pronounceable words when the entropy
source is sound. Forge uses /dev/urandom for cryptographically secure
randomness, not pseudo-random generators.

Boot-time verification runs automatically on module load:

  * Confirms /dev/urandom exists and is readable
  * Reads 256 test bytes and checks byte distribution
  * Verifies no single byte appears more than ~10% (bias detection)
  * Confirms at least 100 distinct byte values (diversity check)

If verification fails, the module refuses to load. An easter egg with
real security - someone exploring the REPL discovers (forge) and gets
actual cryptographic passwords, not toys.


------------------------------------------------------------------------
8. THE NOVICE INTERFACE
------------------------------------------------------------------------

Cyberspace must be approachable by normal people. The terminal is for
operators. A friendly interface layer serves everyone else.


8.1 The Problem
---------------

A novice asked: "Why would I want to use this? I have iCloud. They have
recipes and cat pictures."

Valid question. The answer must be compelling without mentioning
Ed25519, SPKI certificates, hash chains, Merkle trees, or S-expressions.


8.2 What Novices Want
---------------------

They don't want a distributed cryptographic vault. They want:

  * My stuff is mine - Not rented from a corporation
  * It survives - No company shutdown deletes my photos
  * I control sharing - Family, not platforms
  * Privacy - My recipes aren't AI training data
  * Legacy - Grandkids can inherit the vault
  * No ads - I'm not the product


8.3 Two Doors
-------------


                        CYBERSPACE
                            |
               +------------+------------+
               |                         |
          +----v----+              +-----v-----+
          | Terminal |              |  Friendly  |
          |   (cs)   |              |    Door    |
          +----+----+              +-----+-----+
               |                         |
          Operators                   Novices
          Hackers                     Family
          Admins                      Everyone

The terminal offers full power and complexity for those who want it. The
friendly door offers drag-and-drop simplicity - same operations,
different presentation.

Both doors lead to the same vault. Both use the same Scheme underneath.


8.4 Principles
--------------

  * Never dumb down the core - Scheme stays Scheme
  * Add layers, don't subtract - Friendly is additional, not replacement
  * Same operations - Both doors do the same things
  * Gradual revelation - Novices can discover the terminal if curious
  * Family friendly - Grandma can use it


8.5 The Test
------------

If a novice can create a vault in 30 seconds, add a photo in 5 seconds,
invite family in 1 minute, and understand what they have - we've
succeeded.


------------------------------------------------------------------------
CHANGELOG
------------------------------------------------------------------------

- 2026-01-17 — Corrected heritage: SDSI/Rivest, SPKI/Ellison, IETF
merger (section 1.1)

- 2026-01-17 — Added Novice Interface section (section 8)

- 2026-01-15 — Gasser Multics provenance added (section 7.1)

- 2026-01-15 — OSS operational geography framing, 40+ languages
(section 7.3)

- 2026-01-15 — Added cryptographic RNG with boot-time verification
(section 7.6)

- 2026-01-15 — Added forge/smelter heritage (section 7)

- 2026-01-15 — Initial draft, heritage notes

------------------------------------------------------------------------
