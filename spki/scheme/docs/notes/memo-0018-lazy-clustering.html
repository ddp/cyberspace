<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>Memo 0018: Lazy Clustering</title>
  <link rel="icon" id="favicon" href="data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27%230f0%27 text-anchor=%27middle%27 font-weight=%27bold%27>λ</text></svg>">
  <script>
(function(){
  var h=new Date().getHours(),c;
  if(h>=4&&h<6)c='%23845EC2';       // brahma muhurta - violet
  else if(h>=6&&h<8)c='%23ffd700';  // dawn - gold
  else if(h>=8&&h<11)c='%2300d4aa'; // morning - teal
  else if(h>=11&&h<14)c='%230f0';   // midday - phosphor
  else if(h>=14&&h<17)c='%2339ff14';// afternoon - neon
  else if(h>=17&&h<19)c='%23ff6600';// sunset - orange
  else if(h>=19&&h<22)c='%23ff3366';// evening - coral
  else c='%2300ffff';               // night - cyan
  document.getElementById('favicon').href='data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27'+c+'%27 text-anchor=%27middle%27 font-weight=%27bold%27>λ</text></svg>';
})();
</script>
  <link rel="stylesheet" href="memo.css">
</head>
<body>
<span class="theme-toggle" onclick="toggleTheme()" title="Toggle light/dark">[theme]</span>
<h1>Memo 0018: Lazy Clustering</h1>
<dl class="metadata">
</dl>
<hr>
<section>
<h2>Abstract</h2>
<p>This Memo specifies Lazy Clustering for Cyberspace federation: a relaxed synchronization model where nodes sync when convenient, not continuously. Optimized for the "loose confederacy of friends" model.</p>
</section>
<section>
<h2>Motivation</h2>
<p>Not every deployment needs Byzantine consensus:</p>
<ul>
<li>Friends trust friends: No active adversary</li>
<li>Bandwidth costs: Continuous sync is expensive</li>
<li>Offline operation: Internet isn't always available</li>
<li>Simplicity: Complex protocols have complex bugs</li>
</ul>
<p>Lazy Clustering provides:</p>
<p>1. Sync when ready: Push/pull at human pace 2. Offline-first: Work without network 3. Conflict detection: Know when divergence happens 4. Manual resolution: Humans resolve, not algorithms 5. Audit everything: Full history preserved</p>
<blockquote>
<p>The best protocol is the one you don't run.</p>
</blockquote>
</section>
<section>
<h2>Specification</h2>
<h3>Cluster Model</h3>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 432.0 288.0" width="432.0" height="288.0" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>
<line x1="52.8" y1="9.6" x2="57.6" y2="9.6"/>
<line x1="52.8" y1="9.6" x2="52.8" y2="19.2"/>
<line x1="57.6" y1="9.6" x2="67.2" y2="9.6"/>
<line x1="67.2" y1="9.6" x2="76.8" y2="9.6"/>
<line x1="76.8" y1="9.6" x2="86.4" y2="9.6"/>
<line x1="86.4" y1="9.6" x2="96.0" y2="9.6"/>
<line x1="96.0" y1="9.6" x2="105.6" y2="9.6"/>
<line x1="105.6" y1="9.6" x2="115.2" y2="9.6"/>
<line x1="115.2" y1="9.6" x2="124.8" y2="9.6"/>
<line x1="124.8" y1="9.6" x2="134.4" y2="9.6"/>
<line x1="134.4" y1="9.6" x2="144.0" y2="9.6"/>
<line x1="422.4" y1="9.6" x2="427.2" y2="9.6"/>
<line x1="427.2" y1="9.6" x2="427.2" y2="19.2"/>
<line x1="52.8" y1="19.2" x2="52.8" y2="38.4"/>
<line x1="427.2" y1="19.2" x2="427.2" y2="38.4"/>
<line x1="52.8" y1="38.4" x2="52.8" y2="57.6"/>
<line x1="427.2" y1="38.4" x2="427.2" y2="57.6"/>
<line x1="52.8" y1="67.2" x2="57.6" y2="67.2"/>
<line x1="52.8" y1="57.6" x2="52.8" y2="67.2"/>
<line x1="57.6" y1="67.2" x2="67.2" y2="67.2"/>
<line x1="67.2" y1="67.2" x2="76.8" y2="67.2"/>
<line x1="76.8" y1="67.2" x2="86.4" y2="67.2"/>
<line x1="86.4" y1="67.2" x2="96.0" y2="67.2"/>
<line x1="96.0" y1="67.2" x2="105.6" y2="67.2"/>
<line x1="100.8" y1="67.2" x2="100.8" y2="76.8"/>
<line x1="105.6" y1="67.2" x2="115.2" y2="67.2"/>
<line x1="115.2" y1="67.2" x2="124.8" y2="67.2"/>
<line x1="124.8" y1="67.2" x2="134.4" y2="67.2"/>
<line x1="134.4" y1="67.2" x2="144.0" y2="67.2"/>
<line x1="422.4" y1="67.2" x2="427.2" y2="67.2"/>
<line x1="427.2" y1="57.6" x2="427.2" y2="67.2"/>
<line x1="427.2" y1="76.8" x2="427.2" y2="96.0"/>
<line x1="100.8" y1="96.0" x2="100.8" y2="115.2"/>
<line x1="427.2" y1="115.2" x2="427.2" y2="134.4"/>
<line x1="52.8" y1="144.0" x2="57.6" y2="144.0"/>
<line x1="52.8" y1="144.0" x2="52.8" y2="153.6"/>
<line x1="57.6" y1="144.0" x2="67.2" y2="144.0"/>
<line x1="67.2" y1="144.0" x2="76.8" y2="144.0"/>
<line x1="76.8" y1="144.0" x2="86.4" y2="144.0"/>
<line x1="86.4" y1="144.0" x2="96.0" y2="144.0"/>
<line x1="105.6" y1="144.0" x2="115.2" y2="144.0"/>
<line x1="115.2" y1="144.0" x2="124.8" y2="144.0"/>
<line x1="124.8" y1="144.0" x2="134.4" y2="144.0"/>
<line x1="134.4" y1="144.0" x2="144.0" y2="144.0"/>
<line x1="144.0" y1="144.0" x2="148.8" y2="144.0"/>
<line x1="148.8" y1="144.0" x2="148.8" y2="153.6"/>
<line x1="244.8" y1="144.0" x2="249.6" y2="144.0"/>
<line x1="244.8" y1="144.0" x2="244.8" y2="153.6"/>
<line x1="249.6" y1="144.0" x2="259.2" y2="144.0"/>
<line x1="259.2" y1="144.0" x2="268.8" y2="144.0"/>
<line x1="268.8" y1="144.0" x2="278.4" y2="144.0"/>
<line x1="278.4" y1="144.0" x2="288.0" y2="144.0"/>
<line x1="288.0" y1="144.0" x2="297.6" y2="144.0"/>
<line x1="297.6" y1="144.0" x2="307.2" y2="144.0"/>
<line x1="307.2" y1="144.0" x2="316.8" y2="144.0"/>
<line x1="316.8" y1="144.0" x2="326.4" y2="144.0"/>
<line x1="326.4" y1="144.0" x2="336.0" y2="144.0"/>
<line x1="422.4" y1="144.0" x2="427.2" y2="144.0"/>
<line x1="427.2" y1="144.0" x2="427.2" y2="153.6"/>
<line x1="52.8" y1="153.6" x2="52.8" y2="172.8"/>
<line x1="148.8" y1="153.6" x2="148.8" y2="172.8"/>
<line x1="163.2" y1="163.2" x2="172.8" y2="163.2"/>
<line x1="172.8" y1="163.2" x2="182.4" y2="163.2"/>
<line x1="182.4" y1="163.2" x2="192.0" y2="163.2"/>
<line x1="192.0" y1="163.2" x2="201.6" y2="163.2"/>
<line x1="201.6" y1="163.2" x2="211.2" y2="163.2"/>
<line x1="211.2" y1="163.2" x2="220.8" y2="163.2"/>
<line x1="220.8" y1="163.2" x2="230.4" y2="163.2"/>
<line x1="244.8" y1="153.6" x2="244.8" y2="172.8"/>
<line x1="427.2" y1="153.6" x2="427.2" y2="172.8"/>
<line x1="52.8" y1="172.8" x2="52.8" y2="192.0"/>
<line x1="148.8" y1="172.8" x2="148.8" y2="192.0"/>
<line x1="244.8" y1="172.8" x2="244.8" y2="192.0"/>
<line x1="427.2" y1="172.8" x2="427.2" y2="192.0"/>
<line x1="52.8" y1="201.6" x2="57.6" y2="201.6"/>
<line x1="52.8" y1="192.0" x2="52.8" y2="201.6"/>
<line x1="57.6" y1="201.6" x2="67.2" y2="201.6"/>
<line x1="67.2" y1="201.6" x2="76.8" y2="201.6"/>
<line x1="76.8" y1="201.6" x2="86.4" y2="201.6"/>
<line x1="86.4" y1="201.6" x2="96.0" y2="201.6"/>
<line x1="96.0" y1="201.6" x2="105.6" y2="201.6"/>
<line x1="105.6" y1="201.6" x2="115.2" y2="201.6"/>
<line x1="115.2" y1="201.6" x2="124.8" y2="201.6"/>
<line x1="124.8" y1="201.6" x2="134.4" y2="201.6"/>
<line x1="134.4" y1="201.6" x2="144.0" y2="201.6"/>
<line x1="144.0" y1="201.6" x2="148.8" y2="201.6"/>
<line x1="148.8" y1="192.0" x2="148.8" y2="201.6"/>
<line x1="244.8" y1="201.6" x2="249.6" y2="201.6"/>
<line x1="244.8" y1="192.0" x2="244.8" y2="201.6"/>
<line x1="249.6" y1="201.6" x2="259.2" y2="201.6"/>
<line x1="259.2" y1="201.6" x2="268.8" y2="201.6"/>
<line x1="268.8" y1="201.6" x2="278.4" y2="201.6"/>
<line x1="278.4" y1="201.6" x2="288.0" y2="201.6"/>
<line x1="288.0" y1="201.6" x2="297.6" y2="201.6"/>
<line x1="297.6" y1="201.6" x2="307.2" y2="201.6"/>
<line x1="307.2" y1="201.6" x2="316.8" y2="201.6"/>
<line x1="316.8" y1="201.6" x2="326.4" y2="201.6"/>
<line x1="326.4" y1="201.6" x2="336.0" y2="201.6"/>
<line x1="422.4" y1="201.6" x2="427.2" y2="201.6"/>
<line x1="427.2" y1="192.0" x2="427.2" y2="201.6"/>
<text x="81.6" y="28.8" text-anchor="middle" dominant-baseline="central">A</text>
<text x="91.2" y="28.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="100.8" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="110.4" y="28.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="120.0" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="72.0" y="48.0" text-anchor="middle" dominant-baseline="central">(</text>
<text x="81.6" y="48.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="91.2" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="100.8" y="48.0" text-anchor="middle" dominant-baseline="central">z</text>
<text x="110.4" y="48.0" text-anchor="middle" dominant-baseline="central">y</text>
<text x="120.0" y="48.0" text-anchor="middle" dominant-baseline="central">)</text>
<text x="120.0" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="129.6" y="105.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="139.2" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="148.8" y="105.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="168.0" y="105.6" text-anchor="middle" dominant-baseline="central">w</text>
<text x="177.6" y="105.6" text-anchor="middle" dominant-baseline="central">h</text>
<text x="187.2" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="196.8" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="216.0" y="105.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="225.6" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="235.2" y="105.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="244.8" y="105.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="254.4" y="105.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="273.6" y="105.6" text-anchor="middle" dominant-baseline="central">@</text>
<text x="292.8" y="105.6" text-anchor="middle" dominant-baseline="central">1</text>
<text x="302.4" y="105.6" text-anchor="middle" dominant-baseline="central">0</text>
<text x="312.0" y="105.6" text-anchor="middle" dominant-baseline="central">G</text>
<text x="321.6" y="105.6" text-anchor="middle" dominant-baseline="central">b</text>
<text x="331.2" y="105.6" text-anchor="middle" dominant-baseline="central">/</text>
<text x="340.8" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="100.8" y="144.0" text-anchor="middle" dominant-baseline="central">↓</text>
<text x="91.2" y="163.2" text-anchor="middle" dominant-baseline="central">B</text>
<text x="100.8" y="163.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="110.4" y="163.2" text-anchor="middle" dominant-baseline="central">b</text>
<text x="158.4" y="163.2" text-anchor="middle" dominant-baseline="central">◄</text>
<text x="235.2" y="163.2" text-anchor="middle" dominant-baseline="central">→</text>
<text x="273.6" y="163.2" text-anchor="middle" dominant-baseline="central">C</text>
<text x="283.2" y="163.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="292.8" y="163.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="302.4" y="163.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="312.0" y="163.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="72.0" y="182.4" text-anchor="middle" dominant-baseline="central">(</text>
<text x="81.6" y="182.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="91.2" y="182.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="100.8" y="182.4" text-anchor="middle" dominant-baseline="central">z</text>
<text x="110.4" y="182.4" text-anchor="middle" dominant-baseline="central">y</text>
<text x="120.0" y="182.4" text-anchor="middle" dominant-baseline="central">)</text>
<text x="168.0" y="182.4" text-anchor="middle" dominant-baseline="central">1</text>
<text x="177.6" y="182.4" text-anchor="middle" dominant-baseline="central">0</text>
<text x="187.2" y="182.4" text-anchor="middle" dominant-baseline="central">G</text>
<text x="196.8" y="182.4" text-anchor="middle" dominant-baseline="central">b</text>
<text x="206.4" y="182.4" text-anchor="middle" dominant-baseline="central">/</text>
<text x="216.0" y="182.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="264.0" y="182.4" text-anchor="middle" dominant-baseline="central">(</text>
<text x="273.6" y="182.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="283.2" y="182.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="292.8" y="182.4" text-anchor="middle" dominant-baseline="central">z</text>
<text x="302.4" y="182.4" text-anchor="middle" dominant-baseline="central">y</text>
<text x="312.0" y="182.4" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="240.0" text-anchor="middle" dominant-baseline="central">N</text>
<text x="14.4" y="240.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="33.6" y="240.0" text-anchor="middle" dominant-baseline="central">h</text>
<text x="43.2" y="240.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="52.8" y="240.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="62.4" y="240.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="72.0" y="240.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="81.6" y="240.0" text-anchor="middle" dominant-baseline="central">b</text>
<text x="91.2" y="240.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="100.8" y="240.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="110.4" y="240.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="120.0" y="240.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="129.6" y="240.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="148.8" y="240.0" text-anchor="middle" dominant-baseline="central">N</text>
<text x="158.4" y="240.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="177.6" y="240.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="187.2" y="240.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="196.8" y="240.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="206.4" y="240.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="216.0" y="240.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="225.6" y="240.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="244.8" y="240.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="254.4" y="240.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="264.0" y="240.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="273.6" y="240.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="283.2" y="240.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="292.8" y="240.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="302.4" y="240.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="312.0" y="240.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="321.6" y="240.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="340.8" y="240.0" text-anchor="middle" dominant-baseline="central">N</text>
<text x="350.4" y="240.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="369.6" y="240.0" text-anchor="middle" dominant-baseline="central">q</text>
<text x="379.2" y="240.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="388.8" y="240.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="398.4" y="240.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="408.0" y="240.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="417.6" y="240.0" text-anchor="middle" dominant-baseline="central">m</text>
<text x="427.2" y="240.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="4.8" y="259.2" text-anchor="middle" dominant-baseline="central">J</text>
<text x="14.4" y="259.2" text-anchor="middle" dominant-baseline="central">u</text>
<text x="24.0" y="259.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="33.6" y="259.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="52.8" y="259.2" text-anchor="middle" dominant-baseline="central">f</text>
<text x="62.4" y="259.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="72.0" y="259.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="81.6" y="259.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="91.2" y="259.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="100.8" y="259.2" text-anchor="middle" dominant-baseline="central">d</text>
<text x="110.4" y="259.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="129.6" y="259.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="139.2" y="259.2" text-anchor="middle" dominant-baseline="central">h</text>
<text x="148.8" y="259.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="158.4" y="259.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="168.0" y="259.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="177.6" y="259.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="187.2" y="259.2" text-anchor="middle" dominant-baseline="central">g</text>
<text x="206.4" y="259.2" text-anchor="middle" dominant-baseline="central">w</text>
<text x="216.0" y="259.2" text-anchor="middle" dominant-baseline="central">h</text>
<text x="225.6" y="259.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="235.2" y="259.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="254.4" y="259.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="264.0" y="259.2" text-anchor="middle" dominant-baseline="central">h</text>
<text x="273.6" y="259.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="283.2" y="259.2" text-anchor="middle" dominant-baseline="central">y</text>
<text x="292.8" y="259.2" text-anchor="middle" dominant-baseline="central">'</text>
<text x="302.4" y="259.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="312.0" y="259.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="331.2" y="259.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="340.8" y="259.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="350.4" y="259.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="360.0" y="259.2" text-anchor="middle" dominant-baseline="central">d</text>
<text x="369.6" y="259.2" text-anchor="middle" dominant-baseline="central">y</text>
<text x="379.2" y="259.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="4.8" y="278.4" text-anchor="middle" dominant-baseline="central">A</text>
<text x="14.4" y="278.4" text-anchor="middle" dominant-baseline="central">t</text>
<text x="33.6" y="278.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="43.2" y="278.4" text-anchor="middle" dominant-baseline="central">i</text>
<text x="52.8" y="278.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="62.4" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="81.6" y="278.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="91.2" y="278.4" text-anchor="middle" dominant-baseline="central">p</text>
<text x="100.8" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="110.4" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="120.0" y="278.4" text-anchor="middle" dominant-baseline="central">d</text>
<text x="139.2" y="278.4" text-anchor="middle" dominant-baseline="central">w</text>
<text x="148.8" y="278.4" text-anchor="middle" dominant-baseline="central">h</text>
<text x="158.4" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="168.0" y="278.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="187.2" y="278.4" text-anchor="middle" dominant-baseline="central">t</text>
<text x="196.8" y="278.4" text-anchor="middle" dominant-baseline="central">h</text>
<text x="206.4" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="216.0" y="278.4" text-anchor="middle" dominant-baseline="central">y</text>
<text x="235.2" y="278.4" text-anchor="middle" dominant-baseline="central">d</text>
<text x="244.8" y="278.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="254.4" y="278.4" text-anchor="middle" dominant-baseline="central">.</text>
</svg>
</div>
<h3>Performance Model</h3>
<p>Lazy semantics, line speed execution.</p>
<pre>
Line speed (10 Gb/s):
  Typical release: 10 MB archive
  Transfer time:   8 ms
  Effective rate:  ~1000 releases/second

Starlink (100-200 Mb/s, 20-40ms latency):
  Typical release: 10 MB archive
  Transfer time:   400-800 ms
  Effective rate:  ~1-2 releases/second
  Optimized for:   Bursty, high-latency satellite links

Minimum bandwidth:
  Floor:           128 Kb/s (dual-ISDN)
  Target:          1 Mb/s (T1)
  Typical release: 10 MB archive
  Transfer time:   ~80 sec (T1), ~10 min (dual-ISDN)
  Strategy:        Delta sync, compressed archives
</pre>
<p>Crypto overhead (constant):</p>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 460.8 57.6" width="460.8" height="57.6" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>

<text x="4.8" y="9.6" text-anchor="middle" dominant-baseline="central">S</text>
<text x="14.4" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="24.0" y="9.6" text-anchor="middle" dominant-baseline="central">g</text>
<text x="33.6" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="43.2" y="9.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="52.8" y="9.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="62.4" y="9.6" text-anchor="middle" dominant-baseline="central">u</text>
<text x="72.0" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="81.6" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="100.8" y="9.6" text-anchor="middle" dominant-baseline="central">v</text>
<text x="110.4" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="120.0" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="129.6" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="139.2" y="9.6" text-anchor="middle" dominant-baseline="central">f</text>
<text x="148.8" y="9.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="158.4" y="9.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="177.6" y="9.6" text-anchor="middle" dominant-baseline="central">~</text>
<text x="187.2" y="9.6" text-anchor="middle" dominant-baseline="central">1</text>
<text x="196.8" y="9.6" text-anchor="middle" dominant-baseline="central">0</text>
<text x="216.0" y="9.6" text-anchor="middle" dominant-baseline="central">μ</text>
<text x="225.6" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="244.8" y="9.6" text-anchor="middle" dominant-baseline="central">(</text>
<text x="254.4" y="9.6" text-anchor="middle" dominant-baseline="central">E</text>
<text x="264.0" y="9.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="273.6" y="9.6" text-anchor="middle" dominant-baseline="central">2</text>
<text x="283.2" y="9.6" text-anchor="middle" dominant-baseline="central">5</text>
<text x="292.8" y="9.6" text-anchor="middle" dominant-baseline="central">5</text>
<text x="302.4" y="9.6" text-anchor="middle" dominant-baseline="central">1</text>
<text x="312.0" y="9.6" text-anchor="middle" dominant-baseline="central">9</text>
<text x="321.6" y="9.6" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="28.8" text-anchor="middle" dominant-baseline="central">H</text>
<text x="14.4" y="28.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="24.0" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="33.6" y="28.8" text-anchor="middle" dominant-baseline="central">h</text>
<text x="52.8" y="28.8" text-anchor="middle" dominant-baseline="central">v</text>
<text x="62.4" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="72.0" y="28.8" text-anchor="middle" dominant-baseline="central">r</text>
<text x="81.6" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="91.2" y="28.8" text-anchor="middle" dominant-baseline="central">f</text>
<text x="100.8" y="28.8" text-anchor="middle" dominant-baseline="central">y</text>
<text x="110.4" y="28.8" text-anchor="middle" dominant-baseline="central">:</text>
<text x="177.6" y="28.8" text-anchor="middle" dominant-baseline="central">~</text>
<text x="187.2" y="28.8" text-anchor="middle" dominant-baseline="central">1</text>
<text x="206.4" y="28.8" text-anchor="middle" dominant-baseline="central">m</text>
<text x="216.0" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="235.2" y="28.8" text-anchor="middle" dominant-baseline="central">(</text>
<text x="244.8" y="28.8" text-anchor="middle" dominant-baseline="central">S</text>
<text x="254.4" y="28.8" text-anchor="middle" dominant-baseline="central">H</text>
<text x="264.0" y="28.8" text-anchor="middle" dominant-baseline="central">A</text>
<text x="273.6" y="28.8" text-anchor="middle" dominant-baseline="central">-</text>
<text x="283.2" y="28.8" text-anchor="middle" dominant-baseline="central">5</text>
<text x="292.8" y="28.8" text-anchor="middle" dominant-baseline="central">1</text>
<text x="302.4" y="28.8" text-anchor="middle" dominant-baseline="central">2</text>
<text x="312.0" y="28.8" text-anchor="middle" dominant-baseline="central">,</text>
<text x="331.2" y="28.8" text-anchor="middle" dominant-baseline="central">1</text>
<text x="340.8" y="28.8" text-anchor="middle" dominant-baseline="central">0</text>
<text x="350.4" y="28.8" text-anchor="middle" dominant-baseline="central">M</text>
<text x="360.0" y="28.8" text-anchor="middle" dominant-baseline="central">B</text>
<text x="369.6" y="28.8" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="48.0" text-anchor="middle" dominant-baseline="central">T</text>
<text x="14.4" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="24.0" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="33.6" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="43.2" y="48.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="62.4" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="72.0" y="48.0" text-anchor="middle" dominant-baseline="central">v</text>
<text x="81.6" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="91.2" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="100.8" y="48.0" text-anchor="middle" dominant-baseline="central">h</text>
<text x="110.4" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="120.0" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="129.6" y="48.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="139.2" y="48.0" text-anchor="middle" dominant-baseline="central">:</text>
<text x="177.6" y="48.0" text-anchor="middle" dominant-baseline="central">~</text>
<text x="187.2" y="48.0" text-anchor="middle" dominant-baseline="central">1</text>
<text x="206.4" y="48.0" text-anchor="middle" dominant-baseline="central">m</text>
<text x="216.0" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="235.2" y="48.0" text-anchor="middle" dominant-baseline="central">(</text>
<text x="244.8" y="48.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="254.4" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="264.0" y="48.0" text-anchor="middle" dominant-baseline="central">g</text>
<text x="273.6" y="48.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="283.2" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="292.8" y="48.0" text-anchor="middle" dominant-baseline="central">g</text>
<text x="302.4" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="312.0" y="48.0" text-anchor="middle" dominant-baseline="central">b</text>
<text x="321.6" y="48.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="331.2" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="350.4" y="48.0" text-anchor="middle" dominant-baseline="central">v</text>
<text x="360.0" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="379.2" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="388.8" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="398.4" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="408.0" y="48.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="417.6" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="427.2" y="48.0" text-anchor="middle" dominant-baseline="central">f</text>
<text x="436.8" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="446.4" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="456.0" y="48.0" text-anchor="middle" dominant-baseline="central">)</text>
</svg>
</div>
<p>"Lazy" means when, not how fast. When you sync, it saturates the pipe.</p>
<p>Design priorities: 1. Optimized for Starlink and satellite links 2. Tolerant of high latency (no chatty protocols) 3. Graceful degradation to minimum bandwidth 4. Bursty transfer patterns (sync then idle)</p>
<h3>Heartbeat and Timekeeping</h3>
<p>No mandatory heartbeat. That's the design.</p>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 576.0 38.4" width="576.0" height="38.4" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>

<text x="4.8" y="9.6" text-anchor="middle" dominant-baseline="central">T</text>
<text x="14.4" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="24.0" y="9.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="33.6" y="9.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="43.2" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="52.8" y="9.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="62.4" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="72.0" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="81.6" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="91.2" y="9.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="100.8" y="9.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="120.0" y="9.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="129.6" y="9.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="139.2" y="9.6" text-anchor="middle" dominant-baseline="central">u</text>
<text x="148.8" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="158.4" y="9.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="168.0" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="177.6" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="187.2" y="9.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="216.0" y="9.6" text-anchor="middle" dominant-baseline="central">p</text>
<text x="225.6" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="235.2" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="244.8" y="9.6" text-anchor="middle" dominant-baseline="central">g</text>
<text x="264.0" y="9.6" text-anchor="middle" dominant-baseline="central">→</text>
<text x="283.2" y="9.6" text-anchor="middle" dominant-baseline="central">p</text>
<text x="292.8" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="302.4" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="312.0" y="9.6" text-anchor="middle" dominant-baseline="central">g</text>
<text x="331.2" y="9.6" text-anchor="middle" dominant-baseline="central">→</text>
<text x="350.4" y="9.6" text-anchor="middle" dominant-baseline="central">p</text>
<text x="360.0" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="369.6" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="379.2" y="9.6" text-anchor="middle" dominant-baseline="central">g</text>
<text x="398.4" y="9.6" text-anchor="middle" dominant-baseline="central">→</text>
<text x="417.6" y="9.6" text-anchor="middle" dominant-baseline="central">p</text>
<text x="427.2" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="436.8" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="446.4" y="9.6" text-anchor="middle" dominant-baseline="central">g</text>
<text x="465.6" y="9.6" text-anchor="middle" dominant-baseline="central">→</text>
<text x="484.8" y="9.6" text-anchor="middle" dominant-baseline="central">.</text>
<text x="494.4" y="9.6" text-anchor="middle" dominant-baseline="central">.</text>
<text x="504.0" y="9.6" text-anchor="middle" dominant-baseline="central">.</text>
<text x="4.8" y="28.8" text-anchor="middle" dominant-baseline="central">L</text>
<text x="14.4" y="28.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="24.0" y="28.8" text-anchor="middle" dominant-baseline="central">z</text>
<text x="33.6" y="28.8" text-anchor="middle" dominant-baseline="central">y</text>
<text x="52.8" y="28.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="62.4" y="28.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="72.0" y="28.8" text-anchor="middle" dominant-baseline="central">u</text>
<text x="81.6" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="91.2" y="28.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="100.8" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="110.4" y="28.8" text-anchor="middle" dominant-baseline="central">r</text>
<text x="120.0" y="28.8" text-anchor="middle" dominant-baseline="central">:</text>
<text x="216.0" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="225.6" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="235.2" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="254.4" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="264.0" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="273.6" y="28.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="283.2" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="292.8" y="28.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="302.4" y="28.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="312.0" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="331.2" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="340.8" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="350.4" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="369.6" y="28.8" text-anchor="middle" dominant-baseline="central">(</text>
<text x="379.2" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="388.8" y="28.8" text-anchor="middle" dominant-baseline="central">y</text>
<text x="398.4" y="28.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="408.0" y="28.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="417.6" y="28.8" text-anchor="middle" dominant-baseline="central">)</text>
<text x="436.8" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="446.4" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="456.0" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="475.2" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="484.8" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="494.4" y="28.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="504.0" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="513.6" y="28.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="523.2" y="28.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="532.8" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="552.0" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="561.6" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="571.2" y="28.8" text-anchor="middle" dominant-baseline="central">.</text>
</svg>
</div>
<p>Timekeeping: Lamport clocks (Memo-012), not wall clocks. - Causality without synchronization - No NTP dependency - No GPS required - Works across time zones, planets</p>
<p>When you need consensus: Byzantine consensus (Memo-011) + Lamport clocks. - Lazy clustering for everyday sync - Byzantine consensus for critical decisions - Same Lamport clock across both modes</p>
<p>Optional presence beacon:</p>
<pre class="language-scheme">
(cluster-beacon
  (peer "alice")
  (lamport-time 4271)
  (last-release "2.1.0")
  (status available)
  (next-expected "when ready"))
</pre>
<p>Beacons are: - Pull-based (query, don't push) - Cached (no flood) - Stale-tolerant (hours/days old is fine) - Unsigned (advisory only)</p>
<h3>Sync Modes</h3>
<p>#### Push (I have something)</p>
<pre class="language-scheme">
(lazy-push peer)
;; Sends my new releases to peer
;; Non-blocking, fire-and-forget
</pre>
<p>#### Pull (What do you have?)</p>
<pre class="language-scheme">
(lazy-pull peer)
;; Fetches peer's new releases
;; Verifies signatures, stores locally
</pre>
<p>#### Sync (Bidirectional)</p>
<pre class="language-scheme">
(lazy-sync peer)
;; Push then pull
;; Returns conflict report if any
</pre>
<h3>Lazy Semantics</h3>
<p>No continuous connection. Nodes are offline by default.</p>
<p>No consistency guarantees. Nodes may diverge.</p>
<p>No automatic resolution. Conflicts flagged for humans.</p>
<p>No urgency. Sync happens when convenient.</p>
</section>
<section>
<h2>State Tracking</h2>
<h3>Version Vector</h3>
<p>Each node tracks what it knows about others:</p>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 556.8 134.4" width="556.8" height="134.4" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>

<text x="4.8" y="9.6" text-anchor="middle" dominant-baseline="central">(</text>
<text x="14.4" y="9.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="24.0" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="33.6" y="9.6" text-anchor="middle" dominant-baseline="central">f</text>
<text x="43.2" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="52.8" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="62.4" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="72.0" y="9.6" text-anchor="middle" dominant-baseline="central">-</text>
<text x="81.6" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="91.2" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="100.8" y="9.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="110.4" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="120.0" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="129.6" y="9.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="139.2" y="9.6" text-anchor="middle" dominant-baseline="central">-</text>
<text x="148.8" y="9.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="158.4" y="9.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="168.0" y="9.6" text-anchor="middle" dominant-baseline="central">p</text>
<text x="177.6" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="196.8" y="9.6" text-anchor="middle" dominant-baseline="central">&lt;</text>
<text x="206.4" y="9.6" text-anchor="middle" dominant-baseline="central">v</text>
<text x="216.0" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="225.6" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="235.2" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="244.8" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="254.4" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="264.0" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="273.6" y="9.6" text-anchor="middle" dominant-baseline="central">-</text>
<text x="283.2" y="9.6" text-anchor="middle" dominant-baseline="central">v</text>
<text x="292.8" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="302.4" y="9.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="312.0" y="9.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="321.6" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="331.2" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="340.8" y="9.6" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="24.0" y="28.8" text-anchor="middle" dominant-baseline="central">(</text>
<text x="33.6" y="28.8" text-anchor="middle" dominant-baseline="central">m</text>
<text x="43.2" y="28.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="52.8" y="28.8" text-anchor="middle" dominant-baseline="central">k</text>
<text x="62.4" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="72.0" y="28.8" text-anchor="middle" dominant-baseline="central">-</text>
<text x="81.6" y="28.8" text-anchor="middle" dominant-baseline="central">v</text>
<text x="91.2" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="100.8" y="28.8" text-anchor="middle" dominant-baseline="central">r</text>
<text x="110.4" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="120.0" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="129.6" y="28.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="139.2" y="28.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="148.8" y="28.8" text-anchor="middle" dominant-baseline="central">-</text>
<text x="158.4" y="28.8" text-anchor="middle" dominant-baseline="central">v</text>
<text x="168.0" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="177.6" y="28.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="187.2" y="28.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="196.8" y="28.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="206.4" y="28.8" text-anchor="middle" dominant-baseline="central">r</text>
<text x="225.6" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="235.2" y="28.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="244.8" y="28.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="254.4" y="28.8" text-anchor="middle" dominant-baseline="central">r</text>
<text x="264.0" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="273.6" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="283.2" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="292.8" y="28.8" text-anchor="middle" dominant-baseline="central">)</text>
<text x="24.0" y="48.0" text-anchor="middle" dominant-baseline="central">v</text>
<text x="33.6" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="43.2" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="52.8" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="62.4" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="72.0" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="81.6" y="48.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="91.2" y="48.0" text-anchor="middle" dominant-baseline="central">-</text>
<text x="100.8" y="48.0" text-anchor="middle" dominant-baseline="central">v</text>
<text x="110.4" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="120.0" y="48.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="129.6" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="139.2" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="148.8" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="158.4" y="48.0" text-anchor="middle" dominant-baseline="central">?</text>
<text x="24.0" y="67.2" text-anchor="middle" dominant-baseline="central">(</text>
<text x="33.6" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="43.2" y="67.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="52.8" y="67.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="62.4" y="67.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="72.0" y="67.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="81.6" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="91.2" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="110.4" y="67.2" text-anchor="middle" dominant-baseline="central">v</text>
<text x="120.0" y="67.2" text-anchor="middle" dominant-baseline="central">v</text>
<text x="129.6" y="67.2" text-anchor="middle" dominant-baseline="central">-</text>
<text x="139.2" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="148.8" y="67.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="158.4" y="67.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="168.0" y="67.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="177.6" y="67.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="187.2" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="196.8" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="206.4" y="67.2" text-anchor="middle" dominant-baseline="central">)</text>
<text x="216.0" y="67.2" text-anchor="middle" dominant-baseline="central">)</text>
<text x="244.8" y="67.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="264.0" y="67.2" text-anchor="middle" dominant-baseline="central">H</text>
<text x="273.6" y="67.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="283.2" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="292.8" y="67.2" text-anchor="middle" dominant-baseline="central">h</text>
<text x="302.4" y="67.2" text-anchor="middle" dominant-baseline="central">:</text>
<text x="321.6" y="67.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="331.2" y="67.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="340.8" y="67.2" text-anchor="middle" dominant-baseline="central">d</text>
<text x="350.4" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="360.0" y="67.2" text-anchor="middle" dominant-baseline="central">-</text>
<text x="369.6" y="67.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="379.2" y="67.2" text-anchor="middle" dominant-baseline="central">d</text>
<text x="398.4" y="67.2" text-anchor="middle" dominant-baseline="central">→</text>
<text x="417.6" y="67.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="427.2" y="67.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="436.8" y="67.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="446.4" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="456.0" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="465.6" y="67.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="475.2" y="67.2" text-anchor="middle" dominant-baseline="central">-</text>
<text x="484.8" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="494.4" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="504.0" y="67.2" text-anchor="middle" dominant-baseline="central">q</text>
<text x="513.6" y="67.2" text-anchor="middle" dominant-baseline="central">u</text>
<text x="523.2" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="532.8" y="67.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="542.4" y="67.2" text-anchor="middle" dominant-baseline="central">c</text>
<text x="552.0" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="4.8" y="105.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="105.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="105.6" text-anchor="middle" dominant-baseline="central">A</text>
<text x="43.2" y="105.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="52.8" y="105.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="62.4" y="105.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="72.0" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="81.6" y="105.6" text-anchor="middle" dominant-baseline="central">'</text>
<text x="91.2" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="110.4" y="105.6" text-anchor="middle" dominant-baseline="central">v</text>
<text x="120.0" y="105.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="129.6" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="139.2" y="105.6" text-anchor="middle" dominant-baseline="central">w</text>
<text x="148.8" y="105.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="4.8" y="124.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="124.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="124.8" text-anchor="middle" dominant-baseline="central">{</text>
<text x="52.8" y="124.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="62.4" y="124.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="72.0" y="124.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="81.6" y="124.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="91.2" y="124.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="100.8" y="124.8" text-anchor="middle" dominant-baseline="central">:</text>
<text x="120.0" y="124.8" text-anchor="middle" dominant-baseline="central">4</text>
<text x="129.6" y="124.8" text-anchor="middle" dominant-baseline="central">2</text>
<text x="139.2" y="124.8" text-anchor="middle" dominant-baseline="central">,</text>
<text x="158.4" y="124.8" text-anchor="middle" dominant-baseline="central">b</text>
<text x="168.0" y="124.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="177.6" y="124.8" text-anchor="middle" dominant-baseline="central">b</text>
<text x="187.2" y="124.8" text-anchor="middle" dominant-baseline="central">:</text>
<text x="206.4" y="124.8" text-anchor="middle" dominant-baseline="central">3</text>
<text x="216.0" y="124.8" text-anchor="middle" dominant-baseline="central">7</text>
<text x="225.6" y="124.8" text-anchor="middle" dominant-baseline="central">,</text>
<text x="244.8" y="124.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="254.4" y="124.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="264.0" y="124.8" text-anchor="middle" dominant-baseline="central">r</text>
<text x="273.6" y="124.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="283.2" y="124.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="292.8" y="124.8" text-anchor="middle" dominant-baseline="central">:</text>
<text x="312.0" y="124.8" text-anchor="middle" dominant-baseline="central">2</text>
<text x="321.6" y="124.8" text-anchor="middle" dominant-baseline="central">9</text>
<text x="340.8" y="124.8" text-anchor="middle" dominant-baseline="central">}</text>
</svg>
</div>
<h3>Sync Calculation</h3>
<pre class="language-scheme">
(define (compute-sync-set local-vv remote-vv)
  "What to send/receive"
  (let ((to-send '())
        (to-receive '()))
    (for-each
      (lambda (node)
        (let ((local-seq (vv-get local-vv node))
              (remote-seq (vv-get remote-vv node)))
          (cond
            ((&gt; local-seq remote-seq)
             (push! to-send (releases-between node remote-seq local-seq)))
            ((&lt; local-seq remote-seq)
             (push! to-receive (list node remote-seq local-seq))))))
      (all-nodes local-vv remote-vv))
    (values to-send to-receive)))
</pre>
</section>
<section>
<h2>Conflict Detection</h2>
<h3>Divergence</h3>
<p>Same version, different content:</p>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 441.6 153.6" width="441.6" height="153.6" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>

<text x="4.8" y="9.6" text-anchor="middle" dominant-baseline="central">(</text>
<text x="14.4" y="9.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="24.0" y="9.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="33.6" y="9.6" text-anchor="middle" dominant-baseline="central">z</text>
<text x="43.2" y="9.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="52.8" y="9.6" text-anchor="middle" dominant-baseline="central">-</text>
<text x="62.4" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="72.0" y="9.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="81.6" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="91.2" y="9.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="110.4" y="9.6" text-anchor="middle" dominant-baseline="central">"</text>
<text x="120.0" y="9.6" text-anchor="middle" dominant-baseline="central">b</text>
<text x="129.6" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="139.2" y="9.6" text-anchor="middle" dominant-baseline="central">b</text>
<text x="148.8" y="9.6" text-anchor="middle" dominant-baseline="central">"</text>
<text x="158.4" y="9.6" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="28.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="28.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="28.8" text-anchor="middle" dominant-baseline="central">=</text>
<text x="43.2" y="28.8" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="4.8" y="48.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="48.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="48.0" text-anchor="middle" dominant-baseline="central">⚠</text>
<text x="52.8" y="48.0" text-anchor="middle" dominant-baseline="central">C</text>
<text x="62.4" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="72.0" y="48.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="81.6" y="48.0" text-anchor="middle" dominant-baseline="central">f</text>
<text x="91.2" y="48.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="100.8" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="110.4" y="48.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="120.0" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="139.2" y="48.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="148.8" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="158.4" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="168.0" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="177.6" y="48.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="187.2" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="196.8" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="206.4" y="48.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="216.0" y="48.0" text-anchor="middle" dominant-baseline="central">:</text>
<text x="4.8" y="67.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="67.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="52.8" y="67.2" text-anchor="middle" dominant-baseline="central">V</text>
<text x="62.4" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="72.0" y="67.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="81.6" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="91.2" y="67.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="100.8" y="67.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="110.4" y="67.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="129.6" y="67.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="139.2" y="67.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="148.8" y="67.2" text-anchor="middle" dominant-baseline="central">1</text>
<text x="158.4" y="67.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="168.0" y="67.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="4.8" y="86.4" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="86.4" text-anchor="middle" dominant-baseline="central">;</text>
<text x="52.8" y="86.4" text-anchor="middle" dominant-baseline="central">L</text>
<text x="62.4" y="86.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="72.0" y="86.4" text-anchor="middle" dominant-baseline="central">c</text>
<text x="81.6" y="86.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="91.2" y="86.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="100.8" y="86.4" text-anchor="middle" dominant-baseline="central">:</text>
<text x="129.6" y="86.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="139.2" y="86.4" text-anchor="middle" dominant-baseline="central">h</text>
<text x="148.8" y="86.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="158.4" y="86.4" text-anchor="middle" dominant-baseline="central">5</text>
<text x="168.0" y="86.4" text-anchor="middle" dominant-baseline="central">1</text>
<text x="177.6" y="86.4" text-anchor="middle" dominant-baseline="central">2</text>
<text x="187.2" y="86.4" text-anchor="middle" dominant-baseline="central">:</text>
<text x="196.8" y="86.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="206.4" y="86.4" text-anchor="middle" dominant-baseline="central">b</text>
<text x="216.0" y="86.4" text-anchor="middle" dominant-baseline="central">c</text>
<text x="225.6" y="86.4" text-anchor="middle" dominant-baseline="central">1</text>
<text x="235.2" y="86.4" text-anchor="middle" dominant-baseline="central">2</text>
<text x="244.8" y="86.4" text-anchor="middle" dominant-baseline="central">3</text>
<text x="254.4" y="86.4" text-anchor="middle" dominant-baseline="central">.</text>
<text x="264.0" y="86.4" text-anchor="middle" dominant-baseline="central">.</text>
<text x="273.6" y="86.4" text-anchor="middle" dominant-baseline="central">.</text>
<text x="4.8" y="105.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="105.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="52.8" y="105.6" text-anchor="middle" dominant-baseline="central">R</text>
<text x="62.4" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="72.0" y="105.6" text-anchor="middle" dominant-baseline="central">m</text>
<text x="81.6" y="105.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="91.2" y="105.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="100.8" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="110.4" y="105.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="129.6" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="139.2" y="105.6" text-anchor="middle" dominant-baseline="central">h</text>
<text x="148.8" y="105.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="158.4" y="105.6" text-anchor="middle" dominant-baseline="central">5</text>
<text x="168.0" y="105.6" text-anchor="middle" dominant-baseline="central">1</text>
<text x="177.6" y="105.6" text-anchor="middle" dominant-baseline="central">2</text>
<text x="187.2" y="105.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="196.8" y="105.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="206.4" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="216.0" y="105.6" text-anchor="middle" dominant-baseline="central">f</text>
<text x="225.6" y="105.6" text-anchor="middle" dominant-baseline="central">4</text>
<text x="235.2" y="105.6" text-anchor="middle" dominant-baseline="central">5</text>
<text x="244.8" y="105.6" text-anchor="middle" dominant-baseline="central">6</text>
<text x="254.4" y="105.6" text-anchor="middle" dominant-baseline="central">.</text>
<text x="264.0" y="105.6" text-anchor="middle" dominant-baseline="central">.</text>
<text x="273.6" y="105.6" text-anchor="middle" dominant-baseline="central">.</text>
<text x="4.8" y="124.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="124.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="4.8" y="144.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="144.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="52.8" y="144.0" text-anchor="middle" dominant-baseline="central">B</text>
<text x="62.4" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="72.0" y="144.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="81.6" y="144.0" text-anchor="middle" dominant-baseline="central">h</text>
<text x="100.8" y="144.0" text-anchor="middle" dominant-baseline="central">m</text>
<text x="110.4" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="120.0" y="144.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="129.6" y="144.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="139.2" y="144.0" text-anchor="middle" dominant-baseline="central">f</text>
<text x="148.8" y="144.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="158.4" y="144.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="168.0" y="144.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="187.2" y="144.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="196.8" y="144.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="206.4" y="144.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="216.0" y="144.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="225.6" y="144.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="244.8" y="144.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="254.4" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="264.0" y="144.0" text-anchor="middle" dominant-baseline="central">m</text>
<text x="273.6" y="144.0" text-anchor="middle" dominant-baseline="central">m</text>
<text x="283.2" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="292.8" y="144.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="312.0" y="144.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="321.6" y="144.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="331.2" y="144.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="340.8" y="144.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="350.4" y="144.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="360.0" y="144.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="369.6" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="379.2" y="144.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="398.4" y="144.0" text-anchor="middle" dominant-baseline="central">2</text>
<text x="408.0" y="144.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="417.6" y="144.0" text-anchor="middle" dominant-baseline="central">0</text>
<text x="427.2" y="144.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="436.8" y="144.0" text-anchor="middle" dominant-baseline="central">0</text>
</svg>
</div>
<h3>Conflict Record</h3>
<pre class="language-scheme">
(conflict
  (version "2.1.0")
  (local-hash "sha512:abc123...")
  (remote-hash "sha512:def456...")
  (common-ancestor "2.0.0")
  (detected "2026-01-06T15:30:00Z")
  (status pending))  ; pending, resolved-local, resolved-remote, merged
</pre>
<h3>Resolution</h3>
<p>Manual resolution required:</p>
<pre class="language-scheme">
(lazy-resolve "2.1.0" prefer: 'local)
;; or
(lazy-resolve "2.1.0" prefer: 'remote)
;; or
(lazy-resolve "2.1.0" merged: "2.1.0-merged")
</pre>
</section>
<section>
<h2>Offline Operation</h2>
<h3>Work Offline</h3>
<pre class="language-scheme">
(seal-commit "Add feature")
(seal-release "2.2.0")
;; All local, no network required
</pre>
<h3>Queue for Sync</h3>
<pre class="language-scheme">
(lazy-queue)
;; =&gt;
;; Pending sync:
;;   2.1.1  (local, not pushed)
;;   2.2.0  (local, not pushed)
;;
;; To sync: (lazy-push "bob")
</pre>
<h3>Reconnect and Sync</h3>
<pre class="language-scheme">
(lazy-sync "bob")
;; Sends 2.1.1, 2.2.0
;; Receives bob's changes
;; Reports any conflicts
</pre>
</section>
<section>
<h2>Cluster Operations</h2>
<h3>Join Cluster</h3>
<pre class="language-scheme">
(lazy-join "bob"
  uri: "git@github.com:bob/vault.git"
  key: bob-public-key)
;; Registers peer, doesn't sync yet
</pre>
<h3>Initial Sync</h3>
<pre class="language-scheme">
(lazy-pull "bob")
;; Gets bob's full history
;; Verifies all signatures
</pre>
<h3>Leave Cluster</h3>
<pre class="language-scheme">
(lazy-leave "bob")
;; Removes peer from sync list
;; Keeps local copies of bob's releases
</pre>
<h3>Cluster Status</h3>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 672.0 153.6" width="672.0" height="153.6" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>

<text x="4.8" y="9.6" text-anchor="middle" dominant-baseline="central">(</text>
<text x="14.4" y="9.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="24.0" y="9.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="33.6" y="9.6" text-anchor="middle" dominant-baseline="central">z</text>
<text x="43.2" y="9.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="52.8" y="9.6" text-anchor="middle" dominant-baseline="central">-</text>
<text x="62.4" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="72.0" y="9.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="81.6" y="9.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="91.2" y="9.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="100.8" y="9.6" text-anchor="middle" dominant-baseline="central">u</text>
<text x="110.4" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="120.0" y="9.6" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="28.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="28.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="28.8" text-anchor="middle" dominant-baseline="central">=</text>
<text x="43.2" y="28.8" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="4.8" y="48.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="48.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="48.0" text-anchor="middle" dominant-baseline="central">C</text>
<text x="43.2" y="48.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="52.8" y="48.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="62.4" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="72.0" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="81.6" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="91.2" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="110.4" y="48.0" text-anchor="middle" dominant-baseline="central">p</text>
<text x="120.0" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="129.6" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="139.2" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="148.8" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="158.4" y="48.0" text-anchor="middle" dominant-baseline="central">:</text>
<text x="4.8" y="67.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="67.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="52.8" y="67.2" text-anchor="middle" dominant-baseline="central">b</text>
<text x="62.4" y="67.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="72.0" y="67.2" text-anchor="middle" dominant-baseline="central">b</text>
<text x="120.0" y="67.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="129.6" y="67.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="139.2" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="148.8" y="67.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="158.4" y="67.2" text-anchor="middle" dominant-baseline="central">-</text>
<text x="168.0" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="177.6" y="67.2" text-anchor="middle" dominant-baseline="central">y</text>
<text x="187.2" y="67.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="196.8" y="67.2" text-anchor="middle" dominant-baseline="central">c</text>
<text x="206.4" y="67.2" text-anchor="middle" dominant-baseline="central">:</text>
<text x="225.6" y="67.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="235.2" y="67.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="244.8" y="67.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="254.4" y="67.2" text-anchor="middle" dominant-baseline="central">6</text>
<text x="264.0" y="67.2" text-anchor="middle" dominant-baseline="central">-</text>
<text x="273.6" y="67.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="283.2" y="67.2" text-anchor="middle" dominant-baseline="central">1</text>
<text x="292.8" y="67.2" text-anchor="middle" dominant-baseline="central">-</text>
<text x="302.4" y="67.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="312.0" y="67.2" text-anchor="middle" dominant-baseline="central">5</text>
<text x="340.8" y="67.2" text-anchor="middle" dominant-baseline="central">v</text>
<text x="350.4" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="360.0" y="67.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="369.6" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="379.2" y="67.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="388.8" y="67.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="398.4" y="67.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="408.0" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="417.6" y="67.2" text-anchor="middle" dominant-baseline="central">:</text>
<text x="436.8" y="67.2" text-anchor="middle" dominant-baseline="central">1</text>
<text x="446.4" y="67.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="456.0" y="67.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="465.6" y="67.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="475.2" y="67.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="484.8" y="67.2" text-anchor="middle" dominant-baseline="central">-</text>
<text x="494.4" y="67.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="504.0" y="67.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="513.6" y="67.2" text-anchor="middle" dominant-baseline="central">1</text>
<text x="523.2" y="67.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="532.8" y="67.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="561.6" y="67.2" text-anchor="middle" dominant-baseline="central">✓</text>
<text x="4.8" y="86.4" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="86.4" text-anchor="middle" dominant-baseline="central">;</text>
<text x="52.8" y="86.4" text-anchor="middle" dominant-baseline="central">c</text>
<text x="62.4" y="86.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="72.0" y="86.4" text-anchor="middle" dominant-baseline="central">r</text>
<text x="81.6" y="86.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="91.2" y="86.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="120.0" y="86.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="129.6" y="86.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="139.2" y="86.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="148.8" y="86.4" text-anchor="middle" dominant-baseline="central">t</text>
<text x="158.4" y="86.4" text-anchor="middle" dominant-baseline="central">-</text>
<text x="168.0" y="86.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="177.6" y="86.4" text-anchor="middle" dominant-baseline="central">y</text>
<text x="187.2" y="86.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="196.8" y="86.4" text-anchor="middle" dominant-baseline="central">c</text>
<text x="206.4" y="86.4" text-anchor="middle" dominant-baseline="central">:</text>
<text x="225.6" y="86.4" text-anchor="middle" dominant-baseline="central">2</text>
<text x="235.2" y="86.4" text-anchor="middle" dominant-baseline="central">0</text>
<text x="244.8" y="86.4" text-anchor="middle" dominant-baseline="central">2</text>
<text x="254.4" y="86.4" text-anchor="middle" dominant-baseline="central">6</text>
<text x="264.0" y="86.4" text-anchor="middle" dominant-baseline="central">-</text>
<text x="273.6" y="86.4" text-anchor="middle" dominant-baseline="central">0</text>
<text x="283.2" y="86.4" text-anchor="middle" dominant-baseline="central">1</text>
<text x="292.8" y="86.4" text-anchor="middle" dominant-baseline="central">-</text>
<text x="302.4" y="86.4" text-anchor="middle" dominant-baseline="central">0</text>
<text x="312.0" y="86.4" text-anchor="middle" dominant-baseline="central">3</text>
<text x="340.8" y="86.4" text-anchor="middle" dominant-baseline="central">v</text>
<text x="350.4" y="86.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="360.0" y="86.4" text-anchor="middle" dominant-baseline="central">r</text>
<text x="369.6" y="86.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="379.2" y="86.4" text-anchor="middle" dominant-baseline="central">i</text>
<text x="388.8" y="86.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="398.4" y="86.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="408.0" y="86.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="417.6" y="86.4" text-anchor="middle" dominant-baseline="central">:</text>
<text x="436.8" y="86.4" text-anchor="middle" dominant-baseline="central">1</text>
<text x="446.4" y="86.4" text-anchor="middle" dominant-baseline="central">.</text>
<text x="456.0" y="86.4" text-anchor="middle" dominant-baseline="central">0</text>
<text x="465.6" y="86.4" text-anchor="middle" dominant-baseline="central">.</text>
<text x="475.2" y="86.4" text-anchor="middle" dominant-baseline="central">0</text>
<text x="484.8" y="86.4" text-anchor="middle" dominant-baseline="central">-</text>
<text x="494.4" y="86.4" text-anchor="middle" dominant-baseline="central">2</text>
<text x="504.0" y="86.4" text-anchor="middle" dominant-baseline="central">.</text>
<text x="513.6" y="86.4" text-anchor="middle" dominant-baseline="central">0</text>
<text x="523.2" y="86.4" text-anchor="middle" dominant-baseline="central">.</text>
<text x="532.8" y="86.4" text-anchor="middle" dominant-baseline="central">0</text>
<text x="561.6" y="86.4" text-anchor="middle" dominant-baseline="central">(</text>
<text x="571.2" y="86.4" text-anchor="middle" dominant-baseline="central">2</text>
<text x="590.4" y="86.4" text-anchor="middle" dominant-baseline="central">b</text>
<text x="600.0" y="86.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="609.6" y="86.4" text-anchor="middle" dominant-baseline="central">h</text>
<text x="619.2" y="86.4" text-anchor="middle" dominant-baseline="central">i</text>
<text x="628.8" y="86.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="638.4" y="86.4" text-anchor="middle" dominant-baseline="central">d</text>
<text x="648.0" y="86.4" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="105.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="105.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="52.8" y="105.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="62.4" y="105.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="72.0" y="105.6" text-anchor="middle" dominant-baseline="central">v</text>
<text x="81.6" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="120.0" y="105.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="129.6" y="105.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="139.2" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="148.8" y="105.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="158.4" y="105.6" text-anchor="middle" dominant-baseline="central">-</text>
<text x="168.0" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="177.6" y="105.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="187.2" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="196.8" y="105.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="206.4" y="105.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="225.6" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="235.2" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="244.8" y="105.6" text-anchor="middle" dominant-baseline="central">v</text>
<text x="254.4" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="264.0" y="105.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="340.8" y="105.6" text-anchor="middle" dominant-baseline="central">v</text>
<text x="350.4" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="360.0" y="105.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="369.6" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="379.2" y="105.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="388.8" y="105.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="398.4" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="408.0" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="417.6" y="105.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="436.8" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="446.4" y="105.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="456.0" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="465.6" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="561.6" y="105.6" text-anchor="middle" dominant-baseline="central">(</text>
<text x="571.2" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="580.8" y="105.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="590.4" y="105.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="609.6" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="619.2" y="105.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="628.8" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="638.4" y="105.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="648.0" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="657.6" y="105.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="667.2" y="105.6" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="124.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="124.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="4.8" y="144.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="144.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="144.0" text-anchor="middle" dominant-baseline="central">L</text>
<text x="43.2" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="52.8" y="144.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="62.4" y="144.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="72.0" y="144.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="81.6" y="144.0" text-anchor="middle" dominant-baseline="central">:</text>
<text x="100.8" y="144.0" text-anchor="middle" dominant-baseline="central">2</text>
<text x="110.4" y="144.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="120.0" y="144.0" text-anchor="middle" dominant-baseline="central">2</text>
<text x="129.6" y="144.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="139.2" y="144.0" text-anchor="middle" dominant-baseline="central">0</text>
<text x="158.4" y="144.0" text-anchor="middle" dominant-baseline="central">(</text>
<text x="168.0" y="144.0" text-anchor="middle" dominant-baseline="central">2</text>
<text x="187.2" y="144.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="196.8" y="144.0" text-anchor="middle" dominant-baseline="central">h</text>
<text x="206.4" y="144.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="216.0" y="144.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="225.6" y="144.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="244.8" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="254.4" y="144.0" text-anchor="middle" dominant-baseline="central">f</text>
<text x="273.6" y="144.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="283.2" y="144.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="292.8" y="144.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="302.4" y="144.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="312.0" y="144.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="321.6" y="144.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="331.2" y="144.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="340.8" y="144.0" text-anchor="middle" dominant-baseline="central">)</text>
</svg>
</div>
</section>
<section>
<h2>Sync Strategies</h2>
<h3>Manual (Default)</h3>
<pre class="language-scheme">
(vault-config 'sync-strategy 'manual)
;; User explicitly calls lazy-sync
</pre>
<h3>Periodic</h3>
<pre class="language-scheme">
(vault-config 'sync-strategy 'periodic)
(vault-config 'sync-interval 3600)  ; hourly
;; Background sync when network available
</pre>
<h3>On-Commit</h3>
<pre class="language-scheme">
(vault-config 'sync-strategy 'on-commit)
;; Push after each seal-commit
;; Still lazy (non-blocking, best-effort)
</pre>
<h3>On-Release</h3>
<pre class="language-scheme">
(vault-config 'sync-strategy 'on-release)
;; Push only after seal-release
;; Most conservative
</pre>
</section>
<section>
<h2>Consistency Guarantees</h2>
<h3>What We Guarantee</h3>
<ul>
<li>Signature integrity: All releases verified</li>
<li>Causal ordering: Within single node</li>
<li>Conflict detection: Divergence detected</li>
<li>Audit preservation: Full history kept</li>
</ul>
<h3>What We Don't Guarantee</h3>
<ul>
<li>Global ordering: Nodes may see different orders</li>
<li>Consistency: Nodes may have different content</li>
<li>Availability: Offline nodes are offline</li>
<li>Automatic resolution: Humans must resolve</li>
</ul>
<h3>CAP Theorem Position</h3>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 259.2 192.0" width="259.2" height="192.0" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>

<text x="62.4" y="9.6" text-anchor="middle" dominant-baseline="central">C</text>
<text x="72.0" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="81.6" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="91.2" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="100.8" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="110.4" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="120.0" y="9.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="129.6" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="139.2" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="148.8" y="9.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="158.4" y="9.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="100.8" y="28.8" text-anchor="middle" dominant-baseline="central">/</text>
<text x="110.4" y="28.8" text-anchor="middle" dominant-baseline="central">\</text>
<text x="91.2" y="48.0" text-anchor="middle" dominant-baseline="central">/</text>
<text x="120.0" y="48.0" text-anchor="middle" dominant-baseline="central">\</text>
<text x="81.6" y="67.2" text-anchor="middle" dominant-baseline="central">/</text>
<text x="129.6" y="67.2" text-anchor="middle" dominant-baseline="central">\</text>
<text x="72.0" y="86.4" text-anchor="middle" dominant-baseline="central">/</text>
<text x="91.2" y="86.4" text-anchor="middle" dominant-baseline="central">L</text>
<text x="100.8" y="86.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="110.4" y="86.4" text-anchor="middle" dominant-baseline="central">z</text>
<text x="120.0" y="86.4" text-anchor="middle" dominant-baseline="central">y</text>
<text x="139.2" y="86.4" text-anchor="middle" dominant-baseline="central">\</text>
<text x="62.4" y="105.6" text-anchor="middle" dominant-baseline="central">/</text>
<text x="81.6" y="105.6" text-anchor="middle" dominant-baseline="central">C</text>
<text x="91.2" y="105.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="100.8" y="105.6" text-anchor="middle" dominant-baseline="central">u</text>
<text x="110.4" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="120.0" y="105.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="129.6" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="139.2" y="105.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="148.8" y="105.6" text-anchor="middle" dominant-baseline="central">\</text>
<text x="52.8" y="124.8" text-anchor="middle" dominant-baseline="central">/</text>
<text x="100.8" y="124.8" text-anchor="middle" dominant-baseline="central">✓</text>
<text x="158.4" y="124.8" text-anchor="middle" dominant-baseline="central">\</text>
<text x="43.2" y="144.0" text-anchor="middle" dominant-baseline="central">/</text>
<text x="52.8" y="144.0" text-anchor="middle" dominant-baseline="central">\</text>
<text x="4.8" y="163.2" text-anchor="middle" dominant-baseline="central">A</text>
<text x="14.4" y="163.2" text-anchor="middle" dominant-baseline="central">v</text>
<text x="24.0" y="163.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="33.6" y="163.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="43.2" y="163.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="52.8" y="163.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="62.4" y="163.2" text-anchor="middle" dominant-baseline="central">b</text>
<text x="72.0" y="163.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="81.6" y="163.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="91.2" y="163.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="100.8" y="163.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="110.4" y="163.2" text-anchor="middle" dominant-baseline="central">y</text>
<text x="158.4" y="163.2" text-anchor="middle" dominant-baseline="central">P</text>
<text x="168.0" y="163.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="177.6" y="163.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="187.2" y="163.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="196.8" y="163.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="206.4" y="163.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="216.0" y="163.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="225.6" y="163.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="235.2" y="163.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="43.2" y="182.4" text-anchor="middle" dominant-baseline="central">✓</text>
<text x="158.4" y="182.4" text-anchor="middle" dominant-baseline="central">T</text>
<text x="168.0" y="182.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="177.6" y="182.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="187.2" y="182.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="196.8" y="182.4" text-anchor="middle" dominant-baseline="central">r</text>
<text x="206.4" y="182.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="216.0" y="182.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="225.6" y="182.4" text-anchor="middle" dominant-baseline="central">c</text>
<text x="235.2" y="182.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="254.4" y="182.4" text-anchor="middle" dominant-baseline="central">✓</text>
</svg>
</div>
<p>We choose AP: Available and Partition-tolerant, eventually consistent.</p>
</section>
<section>
<h2>Comparison with Other Modes</h2>
<table>
<tr><th>Aspect </th><th>Lazy Cluster </th><th>Federation (Memo-010) </th><th>Byzantine (Memo-011) </th></tr>
<tr><td>Trust </td><td>Friends </td><td>Verified peers </td><td>Adversarial </td></tr>
<tr><td>Sync </td><td>Manual/periodic </td><td>Announcement-based </td><td>Consensus </td></tr>
<tr><td>Conflicts </td><td>Manual resolve </td><td>Detect + flag </td><td>Prevented </td></tr>
<tr><td>Offline </td><td>Full support </td><td>Partial </td><td>Requires quorum </td></tr>
<tr><td>Complexity </td><td>Minimal </td><td>Medium </td><td>High </td></tr>
<tr><td>Use case </td><td>Small groups </td><td>Organizations </td><td>Critical systems </td></tr>
</table>
</section>
<section>
<h2>Example Session</h2>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 499.2 307.2" width="499.2" height="307.2" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>

<text x="4.8" y="9.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="9.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="9.6" text-anchor="middle" dominant-baseline="central">M</text>
<text x="43.2" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="52.8" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="62.4" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="72.0" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="81.6" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="91.2" y="9.6" text-anchor="middle" dominant-baseline="central">g</text>
<text x="100.8" y="9.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="120.0" y="9.6" text-anchor="middle" dominant-baseline="central">A</text>
<text x="129.6" y="9.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="139.2" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="148.8" y="9.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="158.4" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="177.6" y="9.6" text-anchor="middle" dominant-baseline="central">w</text>
<text x="187.2" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="196.8" y="9.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="206.4" y="9.6" text-anchor="middle" dominant-baseline="central">k</text>
<text x="216.0" y="9.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="235.2" y="9.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="244.8" y="9.6" text-anchor="middle" dominant-baseline="central">f</text>
<text x="254.4" y="9.6" text-anchor="middle" dominant-baseline="central">f</text>
<text x="264.0" y="9.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="273.6" y="9.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="283.2" y="9.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="292.8" y="9.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="4.8" y="28.8" text-anchor="middle" dominant-baseline="central">(</text>
<text x="14.4" y="28.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="24.0" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="33.6" y="28.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="43.2" y="28.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="52.8" y="28.8" text-anchor="middle" dominant-baseline="central">-</text>
<text x="62.4" y="28.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="72.0" y="28.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="81.6" y="28.8" text-anchor="middle" dominant-baseline="central">m</text>
<text x="91.2" y="28.8" text-anchor="middle" dominant-baseline="central">m</text>
<text x="100.8" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="110.4" y="28.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="129.6" y="28.8" text-anchor="middle" dominant-baseline="central">"</text>
<text x="139.2" y="28.8" text-anchor="middle" dominant-baseline="central">A</text>
<text x="148.8" y="28.8" text-anchor="middle" dominant-baseline="central">d</text>
<text x="158.4" y="28.8" text-anchor="middle" dominant-baseline="central">d</text>
<text x="177.6" y="28.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="187.2" y="28.8" text-anchor="middle" dominant-baseline="central">u</text>
<text x="196.8" y="28.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="206.4" y="28.8" text-anchor="middle" dominant-baseline="central">h</text>
<text x="216.0" y="28.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="225.6" y="28.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="235.2" y="28.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="244.8" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="254.4" y="28.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="264.0" y="28.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="273.6" y="28.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="283.2" y="28.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="292.8" y="28.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="302.4" y="28.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="312.0" y="28.8" text-anchor="middle" dominant-baseline="central">"</text>
<text x="321.6" y="28.8" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="48.0" text-anchor="middle" dominant-baseline="central">(</text>
<text x="14.4" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="24.0" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="33.6" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="43.2" y="48.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="52.8" y="48.0" text-anchor="middle" dominant-baseline="central">-</text>
<text x="62.4" y="48.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="72.0" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="81.6" y="48.0" text-anchor="middle" dominant-baseline="central">m</text>
<text x="91.2" y="48.0" text-anchor="middle" dominant-baseline="central">m</text>
<text x="100.8" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="110.4" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="129.6" y="48.0" text-anchor="middle" dominant-baseline="central">"</text>
<text x="139.2" y="48.0" text-anchor="middle" dominant-baseline="central">A</text>
<text x="148.8" y="48.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="158.4" y="48.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="177.6" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="187.2" y="48.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="196.8" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="206.4" y="48.0" text-anchor="middle" dominant-baseline="central">h</text>
<text x="216.0" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="225.6" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="235.2" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="244.8" y="48.0" text-anchor="middle" dominant-baseline="central">z</text>
<text x="254.4" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="264.0" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="273.6" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="283.2" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="292.8" y="48.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="302.4" y="48.0" text-anchor="middle" dominant-baseline="central">"</text>
<text x="312.0" y="48.0" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="67.2" text-anchor="middle" dominant-baseline="central">(</text>
<text x="14.4" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="24.0" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="33.6" y="67.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="43.2" y="67.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="52.8" y="67.2" text-anchor="middle" dominant-baseline="central">-</text>
<text x="62.4" y="67.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="72.0" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="81.6" y="67.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="91.2" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="100.8" y="67.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="110.4" y="67.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="120.0" y="67.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="139.2" y="67.2" text-anchor="middle" dominant-baseline="central">"</text>
<text x="148.8" y="67.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="158.4" y="67.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="168.0" y="67.2" text-anchor="middle" dominant-baseline="central">3</text>
<text x="177.6" y="67.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="187.2" y="67.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="196.8" y="67.2" text-anchor="middle" dominant-baseline="central">"</text>
<text x="206.4" y="67.2" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="105.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="105.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="105.6" text-anchor="middle" dominant-baseline="central">L</text>
<text x="43.2" y="105.6" text-anchor="middle" dominant-baseline="central">u</text>
<text x="52.8" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="62.4" y="105.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="72.0" y="105.6" text-anchor="middle" dominant-baseline="central">h</text>
<text x="81.6" y="105.6" text-anchor="middle" dominant-baseline="central">:</text>
<text x="100.8" y="105.6" text-anchor="middle" dominant-baseline="central">A</text>
<text x="110.4" y="105.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="120.0" y="105.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="129.6" y="105.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="139.2" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="158.4" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="168.0" y="105.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="177.6" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="187.2" y="105.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="196.8" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="216.0" y="105.6" text-anchor="middle" dominant-baseline="central">w</text>
<text x="225.6" y="105.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="235.2" y="105.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="244.8" y="105.6" text-anchor="middle" dominant-baseline="central">h</text>
<text x="264.0" y="105.6" text-anchor="middle" dominant-baseline="central">B</text>
<text x="273.6" y="105.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="283.2" y="105.6" text-anchor="middle" dominant-baseline="central">b</text>
<text x="4.8" y="124.8" text-anchor="middle" dominant-baseline="central">(</text>
<text x="14.4" y="124.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="24.0" y="124.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="33.6" y="124.8" text-anchor="middle" dominant-baseline="central">z</text>
<text x="43.2" y="124.8" text-anchor="middle" dominant-baseline="central">y</text>
<text x="52.8" y="124.8" text-anchor="middle" dominant-baseline="central">-</text>
<text x="62.4" y="124.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="72.0" y="124.8" text-anchor="middle" dominant-baseline="central">y</text>
<text x="81.6" y="124.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="91.2" y="124.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="110.4" y="124.8" text-anchor="middle" dominant-baseline="central">"</text>
<text x="120.0" y="124.8" text-anchor="middle" dominant-baseline="central">b</text>
<text x="129.6" y="124.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="139.2" y="124.8" text-anchor="middle" dominant-baseline="central">b</text>
<text x="148.8" y="124.8" text-anchor="middle" dominant-baseline="central">"</text>
<text x="158.4" y="124.8" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="144.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="144.0" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="144.0" text-anchor="middle" dominant-baseline="central">=</text>
<text x="43.2" y="144.0" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="62.4" y="144.0" text-anchor="middle" dominant-baseline="central">P</text>
<text x="72.0" y="144.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="81.6" y="144.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="91.2" y="144.0" text-anchor="middle" dominant-baseline="central">h</text>
<text x="100.8" y="144.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="110.4" y="144.0" text-anchor="middle" dominant-baseline="central">d</text>
<text x="129.6" y="144.0" text-anchor="middle" dominant-baseline="central">2</text>
<text x="139.2" y="144.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="148.8" y="144.0" text-anchor="middle" dominant-baseline="central">3</text>
<text x="158.4" y="144.0" text-anchor="middle" dominant-baseline="central">.</text>
<text x="168.0" y="144.0" text-anchor="middle" dominant-baseline="central">0</text>
<text x="187.2" y="144.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="196.8" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="216.0" y="144.0" text-anchor="middle" dominant-baseline="central">b</text>
<text x="225.6" y="144.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="235.2" y="144.0" text-anchor="middle" dominant-baseline="central">b</text>
<text x="4.8" y="163.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="163.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="163.2" text-anchor="middle" dominant-baseline="central">=</text>
<text x="43.2" y="163.2" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="62.4" y="163.2" text-anchor="middle" dominant-baseline="central">P</text>
<text x="72.0" y="163.2" text-anchor="middle" dominant-baseline="central">u</text>
<text x="81.6" y="163.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="91.2" y="163.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="100.8" y="163.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="110.4" y="163.2" text-anchor="middle" dominant-baseline="central">d</text>
<text x="129.6" y="163.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="139.2" y="163.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="148.8" y="163.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="158.4" y="163.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="168.0" y="163.2" text-anchor="middle" dominant-baseline="central">1</text>
<text x="187.2" y="163.2" text-anchor="middle" dominant-baseline="central">f</text>
<text x="196.8" y="163.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="206.4" y="163.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="216.0" y="163.2" text-anchor="middle" dominant-baseline="central">m</text>
<text x="235.2" y="163.2" text-anchor="middle" dominant-baseline="central">b</text>
<text x="244.8" y="163.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="254.4" y="163.2" text-anchor="middle" dominant-baseline="central">b</text>
<text x="4.8" y="182.4" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="182.4" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="182.4" text-anchor="middle" dominant-baseline="central">=</text>
<text x="43.2" y="182.4" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="62.4" y="182.4" text-anchor="middle" dominant-baseline="central">N</text>
<text x="72.0" y="182.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="91.2" y="182.4" text-anchor="middle" dominant-baseline="central">c</text>
<text x="100.8" y="182.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="110.4" y="182.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="120.0" y="182.4" text-anchor="middle" dominant-baseline="central">f</text>
<text x="129.6" y="182.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="139.2" y="182.4" text-anchor="middle" dominant-baseline="central">i</text>
<text x="148.8" y="182.4" text-anchor="middle" dominant-baseline="central">c</text>
<text x="158.4" y="182.4" text-anchor="middle" dominant-baseline="central">t</text>
<text x="168.0" y="182.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="4.8" y="220.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="220.8" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="220.8" text-anchor="middle" dominant-baseline="central">E</text>
<text x="43.2" y="220.8" text-anchor="middle" dominant-baseline="central">v</text>
<text x="52.8" y="220.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="62.4" y="220.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="72.0" y="220.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="81.6" y="220.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="91.2" y="220.8" text-anchor="middle" dominant-baseline="central">g</text>
<text x="100.8" y="220.8" text-anchor="middle" dominant-baseline="central">:</text>
<text x="120.0" y="220.8" text-anchor="middle" dominant-baseline="central">A</text>
<text x="129.6" y="220.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="139.2" y="220.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="148.8" y="220.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="158.4" y="220.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="177.6" y="220.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="187.2" y="220.8" text-anchor="middle" dominant-baseline="central">y</text>
<text x="196.8" y="220.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="206.4" y="220.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="216.0" y="220.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="235.2" y="220.8" text-anchor="middle" dominant-baseline="central">w</text>
<text x="244.8" y="220.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="254.4" y="220.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="264.0" y="220.8" text-anchor="middle" dominant-baseline="central">h</text>
<text x="283.2" y="220.8" text-anchor="middle" dominant-baseline="central">C</text>
<text x="292.8" y="220.8" text-anchor="middle" dominant-baseline="central">a</text>
<text x="302.4" y="220.8" text-anchor="middle" dominant-baseline="central">r</text>
<text x="312.0" y="220.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="321.6" y="220.8" text-anchor="middle" dominant-baseline="central">l</text>
<text x="4.8" y="240.0" text-anchor="middle" dominant-baseline="central">(</text>
<text x="14.4" y="240.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="24.0" y="240.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="33.6" y="240.0" text-anchor="middle" dominant-baseline="central">z</text>
<text x="43.2" y="240.0" text-anchor="middle" dominant-baseline="central">y</text>
<text x="52.8" y="240.0" text-anchor="middle" dominant-baseline="central">-</text>
<text x="62.4" y="240.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="72.0" y="240.0" text-anchor="middle" dominant-baseline="central">y</text>
<text x="81.6" y="240.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="91.2" y="240.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="110.4" y="240.0" text-anchor="middle" dominant-baseline="central">"</text>
<text x="120.0" y="240.0" text-anchor="middle" dominant-baseline="central">c</text>
<text x="129.6" y="240.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="139.2" y="240.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="148.8" y="240.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="158.4" y="240.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="168.0" y="240.0" text-anchor="middle" dominant-baseline="central">"</text>
<text x="177.6" y="240.0" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="259.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="259.2" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="259.2" text-anchor="middle" dominant-baseline="central">=</text>
<text x="43.2" y="259.2" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="62.4" y="259.2" text-anchor="middle" dominant-baseline="central">P</text>
<text x="72.0" y="259.2" text-anchor="middle" dominant-baseline="central">u</text>
<text x="81.6" y="259.2" text-anchor="middle" dominant-baseline="central">s</text>
<text x="91.2" y="259.2" text-anchor="middle" dominant-baseline="central">h</text>
<text x="100.8" y="259.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="110.4" y="259.2" text-anchor="middle" dominant-baseline="central">d</text>
<text x="129.6" y="259.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="139.2" y="259.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="148.8" y="259.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="158.4" y="259.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="168.0" y="259.2" text-anchor="middle" dominant-baseline="central">1</text>
<text x="177.6" y="259.2" text-anchor="middle" dominant-baseline="central">,</text>
<text x="196.8" y="259.2" text-anchor="middle" dominant-baseline="central">2</text>
<text x="206.4" y="259.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="216.0" y="259.2" text-anchor="middle" dominant-baseline="central">3</text>
<text x="225.6" y="259.2" text-anchor="middle" dominant-baseline="central">.</text>
<text x="235.2" y="259.2" text-anchor="middle" dominant-baseline="central">0</text>
<text x="254.4" y="259.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="264.0" y="259.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="283.2" y="259.2" text-anchor="middle" dominant-baseline="central">c</text>
<text x="292.8" y="259.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="302.4" y="259.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="312.0" y="259.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="321.6" y="259.2" text-anchor="middle" dominant-baseline="central">l</text>
<text x="4.8" y="278.4" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="278.4" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="278.4" text-anchor="middle" dominant-baseline="central">=</text>
<text x="43.2" y="278.4" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="62.4" y="278.4" text-anchor="middle" dominant-baseline="central">P</text>
<text x="72.0" y="278.4" text-anchor="middle" dominant-baseline="central">u</text>
<text x="81.6" y="278.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="91.2" y="278.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="100.8" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="110.4" y="278.4" text-anchor="middle" dominant-baseline="central">d</text>
<text x="129.6" y="278.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="139.2" y="278.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="148.8" y="278.4" text-anchor="middle" dominant-baseline="central">t</text>
<text x="158.4" y="278.4" text-anchor="middle" dominant-baseline="central">h</text>
<text x="168.0" y="278.4" text-anchor="middle" dominant-baseline="central">i</text>
<text x="177.6" y="278.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="187.2" y="278.4" text-anchor="middle" dominant-baseline="central">g</text>
<text x="206.4" y="278.4" text-anchor="middle" dominant-baseline="central">(</text>
<text x="216.0" y="278.4" text-anchor="middle" dominant-baseline="central">c</text>
<text x="225.6" y="278.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="235.2" y="278.4" text-anchor="middle" dominant-baseline="central">r</text>
<text x="244.8" y="278.4" text-anchor="middle" dominant-baseline="central">o</text>
<text x="254.4" y="278.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="273.6" y="278.4" text-anchor="middle" dominant-baseline="central">h</text>
<text x="283.2" y="278.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="292.8" y="278.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="302.4" y="278.4" text-anchor="middle" dominant-baseline="central">n</text>
<text x="312.0" y="278.4" text-anchor="middle" dominant-baseline="central">'</text>
<text x="321.6" y="278.4" text-anchor="middle" dominant-baseline="central">t</text>
<text x="340.8" y="278.4" text-anchor="middle" dominant-baseline="central">r</text>
<text x="350.4" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="360.0" y="278.4" text-anchor="middle" dominant-baseline="central">l</text>
<text x="369.6" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="379.2" y="278.4" text-anchor="middle" dominant-baseline="central">a</text>
<text x="388.8" y="278.4" text-anchor="middle" dominant-baseline="central">s</text>
<text x="398.4" y="278.4" text-anchor="middle" dominant-baseline="central">e</text>
<text x="408.0" y="278.4" text-anchor="middle" dominant-baseline="central">d</text>
<text x="417.6" y="278.4" text-anchor="middle" dominant-baseline="central">)</text>
<text x="4.8" y="297.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="14.4" y="297.6" text-anchor="middle" dominant-baseline="central">;</text>
<text x="33.6" y="297.6" text-anchor="middle" dominant-baseline="central">=</text>
<text x="43.2" y="297.6" text-anchor="middle" dominant-baseline="central">&gt;</text>
<text x="62.4" y="297.6" text-anchor="middle" dominant-baseline="central">⚠</text>
<text x="81.6" y="297.6" text-anchor="middle" dominant-baseline="central">C</text>
<text x="91.2" y="297.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="100.8" y="297.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="110.4" y="297.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="120.0" y="297.6" text-anchor="middle" dominant-baseline="central">l</text>
<text x="139.2" y="297.6" text-anchor="middle" dominant-baseline="central">h</text>
<text x="148.8" y="297.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="158.4" y="297.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="177.6" y="297.6" text-anchor="middle" dominant-baseline="central">u</text>
<text x="187.2" y="297.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="196.8" y="297.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="206.4" y="297.6" text-anchor="middle" dominant-baseline="central">y</text>
<text x="216.0" y="297.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="225.6" y="297.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="235.2" y="297.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="244.8" y="297.6" text-anchor="middle" dominant-baseline="central">d</text>
<text x="264.0" y="297.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="273.6" y="297.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="283.2" y="297.6" text-anchor="middle" dominant-baseline="central">m</text>
<text x="292.8" y="297.6" text-anchor="middle" dominant-baseline="central">m</text>
<text x="302.4" y="297.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="312.0" y="297.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="321.6" y="297.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="340.8" y="297.6" text-anchor="middle" dominant-baseline="central">(</text>
<text x="350.4" y="297.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="360.0" y="297.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="369.6" y="297.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="388.8" y="297.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="398.4" y="297.6" text-anchor="middle" dominant-baseline="central">u</text>
<text x="408.0" y="297.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="427.2" y="297.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="436.8" y="297.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="446.4" y="297.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="456.0" y="297.6" text-anchor="middle" dominant-baseline="central">c</text>
<text x="465.6" y="297.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="475.2" y="297.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="484.8" y="297.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="494.4" y="297.6" text-anchor="middle" dominant-baseline="central">)</text>
</svg>
</div>
</section>
<section>
<h2>Security Considerations</h2>
<h3>Trust Model</h3>
<p>Lazy clustering assumes good-faith peers:</p>
<ul>
<li>Peers won't inject malicious releases</li>
<li>Peers won't withhold releases maliciously</li>
<li>Peers will eventually sync</li>
</ul>
<p>Not suitable for: Adversarial environments, high-value targets.</p>
<p>Suitable for: Research groups, open source projects, friend networks.</p>
<h3>Signature Verification</h3>
<p>All releases still verified:</p>
<pre class="language-scheme">
(lazy-pull "bob")
;; Each release:
;;   1. Verify Ed25519 signature
;;   2. Verify hash matches content
;;   3. Check against known bob public key
;;   4. Store only if valid
</pre>
<h3>Conflict Attacks</h3>
<p>Malicious peer creates conflicting release.</p>
<p>Mitigation: - Conflicts flagged, not auto-resolved - Full audit trail of conflict - Peer reputation tracking</p>
</section>
<section>
<h2>Implementation Notes</h2>
<h3>Dependencies</h3>
<ul>
<li>crypto-ffi</li>
<li>Signature verification - audit</li>
<li>Sync logging</li>
<li>Transport (git/HTTP/filesystem)</li>
</ul>
<h3>Storage</h3>
<pre>
.vault/
  lazy/
    peers.sexp        # Registered peers
    vectors.sexp      # Version vectors
    conflicts/        # Unresolved conflicts
    queue/            # Pending pushes
</pre>
</section>
<section>
<h2>References</h2>
<p>1. Saito, Y., &amp; Shapiro, M. (2005). Optimistic Replication. 2. Terry, D., et al. (1995). Managing Update Conflicts in Bayou. 3. DeCandia, G., et al. (2007). Dynamo: Amazon's Key-Value Store. 4. Memo-010: Federation Protocol 5. Memo-012: Lamport Logical Clocks</p>
</section>
<section>
<h2>Changelog</h2>
<ul>
<li>2026-01-06</li>
<li>Set minimum bandwidth: 128 Kb/s floor (dual-ISDN), 1 Mb/s target (T1) - 2026-01-06</li>
<li>Initial specification</li>
</ul>
</section>
<script>
function toggleTheme() {
  const html = document.documentElement;
  const current = html.getAttribute('data-theme');
  const next = current === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', next);
  localStorage.setItem('theme', next);
}
(function() {
  // Query param override (for REPL: ?theme=dark or ?theme=light)
  const params = new URLSearchParams(window.location.search);
  const param = params.get('theme');
  if (param === 'dark' || param === 'light') {
    document.documentElement.setAttribute('data-theme', param);
    localStorage.setItem('theme', param);
    return;
  }
  // localStorage preference
  const saved = localStorage.getItem('theme');
  if (saved) {
    document.documentElement.setAttribute('data-theme', saved);
  } else if (window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', 'light');
  }
})();
</script>
</body>
</html>
