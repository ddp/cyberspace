<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <title>Memo 0009: Designer Notes</title>
  <link rel="icon" id="favicon" href="data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27%230f0%27 text-anchor=%27middle%27 font-weight=%27bold%27>λ</text></svg>">
  <script>
(function(){
  var h=new Date().getHours(),c;
  if(h>=4&&h<6)c='%23845EC2';       // brahma muhurta - violet
  else if(h>=6&&h<8)c='%23ffd700';  // dawn - gold
  else if(h>=8&&h<11)c='%2300d4aa'; // morning - teal
  else if(h>=11&&h<14)c='%230f0';   // midday - phosphor
  else if(h>=14&&h<17)c='%2339ff14';// afternoon - neon
  else if(h>=17&&h<19)c='%23ff6600';// sunset - orange
  else if(h>=19&&h<22)c='%23ff3366';// evening - coral
  else c='%2300ffff';               // night - cyan
  document.getElementById('favicon').href='data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27'+c+'%27 text-anchor=%27middle%27 font-weight=%27bold%27>λ</text></svg>';
})();
</script>
  <link rel="stylesheet" href="memo.css">
</head>
<body>
<span class="theme-toggle" onclick="toggleTheme()" title="Toggle light/dark">[theme]</span>
<h1>Memo 0009: Designer Notes</h1>
<dl class="metadata">
  <dt>Status</dt><dd>Draft</dd>
  <dt>Date</dt><dd>January 2026</dd>
  <dt>Author</dt><dd>Derrell Piper &lt;ddp@eludom.net&gt;</dd>
</dl>
<hr>
<section>
<h2>Notice</h2>
<p>This is a living document, not a specification. It records the intellectual heritage, design philosophy, and collaborative process behind Cyberspace.</p>
</section>
<section>
<h2>1. Intellectual Heritage</h2>
<h3>1.1 MIT Athena and SPKI</h3>
<p>Cyberspace traces its lineage to MIT's Project Athena and the Simple Public Key Infrastructure (SPKI) work that emerged from MIT and the Internet Engineering Task Force (IETF).</p>
<p>Athena (1983-1991) introduced Kerberos, distributed authentication, and the concept of a unified computing environment across heterogeneous systems. Digital Equipment Corporation (DEC) funded Athena and contributed workstations.</p>
<p>Two independent threads merged at IETF to form SDSI/SPKI:</p>
<ul>
<li>Simple Distributed Security Infrastructure (SDSI) - Ron Rivest at MIT, focusing on naming and local name spaces</li>
<li>SPKI - Carl Ellison at IETF, focusing on authorization and capabilities</li>
</ul>
<p>Ellison's SPKI RFCs (2693, 2692) formalized capability-based authorization through certificate chains. When IETF standardized this work, Rivest's SDSI naming merged in. The result (SDSI/SPKI 2.0) gave us both authorization and naming.</p>
<p>These ideas were absorbed during the same lamport epoch as R4RS Scheme (1991) and SDSI (1996), alongside the practical education of Boston traffic negotiation - both exercises in asserting authority without central coordination.</p>
<h3>1.2 Why Scheme</h3>
<p>Scheme was chosen because its homoiconic S-expressions make the representation of programs and structured data the same kind of thing. One parser, one set of tools works uniformly over code, certificates, audit trails, and configuration.</p>
<p>In a homoiconic language, the primary representation of programs is also a data structure in a primitive type of the language. Scheme uses S-expressions—nested lists and atoms—as both surface syntax and natural tree-shaped data. The abstract syntax tree and textual form closely align.</p>
<p>The same reader parses program text, configuration records, and application data into a single uniform format. Certificates, audit records, memos, and code are all S-expressions manipulated with the same combinators:</p>
<pre class="language-scheme">
;; All the same representation
(read)           ; parse code
(read-cert)      ; parse certificate
(read-audit)     ; parse audit trail
(kwic 'soup)     ; search memos
</pre>
<p>One minimal, well-specified parser eliminates impedance mismatches between code format and data format. No JSON-to-object mapping. No protobuf schema compiler. Structures representing policies look exactly like structures representing the code enforcing them.</p>
<p>When you (kwic 'soup) you search S-expressions with S-expressions. The memos are data. The code is data. The boundary dissolves.</p>
<p>The language that Abelson and Sussman used to teach computational thinking at MIT is the same language used to implement the security architecture that MIT research defined. Full circle.</p>
<p>Cyberspace Scheme is intentionally R5RS and R7RS-small, following CHICKEN Scheme's philosophy: a small, portable core with extensions as libraries rather than language features. R5RS (1998) remains the most widely implemented Scheme standard. R7RS-small (2013) preserves that minimalist tradition while adding practical improvements like define-library. The large dialect (R7RS-large, ongoing) is explicitly avoided - complexity belongs in libraries, not the language specification.</p>
<p>CHICKEN was chosen over faster implementations (Chez, Racket, Gambit) for its elegance and deployment model. CHICKEN compiles to C, producing standalone executables with no runtime dependencies. The egg system provides a curated library ecosystem. Speed matters less than simplicity when the bottleneck is cryptographic operations in libsodium, not interpreter overhead.</p>
</section>
<section>
<h2>2. Collaborative Design</h2>
<p>Cyberspace was designed in collaboration with Claude (Anthropic), an AI assistant. This collaboration is documented in Memo-056.</p>
<p>The interaction model: human provides vision and constraints, AI provides implementation and exploration. Neither could have built this alone.</p>
</section>
<section>
<h2>3. Naming Coherence</h2>
<p>Knuth's principle from TAOCP: names should be consistent across the totality of a system. When we renamed 'RFC' to 'Memo' internally, we applied s/rfc/memo/g globally - not just to files being edited, but to every reference in the codebase.</p>
<p>Single source of truth extends to terminology. MEMO_NUMBER_WIDTH is defined once; the four-digit format flows from that constant through Scheme and shell. When the namespace overflows to five digits, one change propagates everywhere.</p>
<p>Piecemeal renaming creates inconsistent states where variables say one thing and filenames say another. The systematic approach is the only approach.</p>
</section>
<section>
<h2>4. Target Environments</h2>
<p>Primary targets:</p>
<ul>
<li>macOS (Apple Silicon) - Cyberspace.app native shell</li>
<li>Linux - including MIT Athena</li>
<li>Any POSIX system with CHICKEN Scheme 5.x</li>
</ul>
<p>The system should feel native on a Mac, work cleanly on Athena, and build anywhere Scheme runs.</p>
</section>
<section>
<h2>5. The Scheme Beneath</h2>
<p>Scheme is the implementation language, not the user interface. The novice sees a shell; the schemer sees a REPL. Same system, different lenses.</p>
<p>By default, Scheme internals are hidden:</p>
<ul>
<li>Inspector disabled - errors show simple messages, not debug&gt; prompts</li>
<li>Exception display uses plain language, not 'unbound variable'</li>
<li>Help shows commands, not S-expressions</li>
<li>The : prompt is a portal, not a lambda</li>
</ul>
<p>Schemers opt in with (enable-inspector!) and see the machinery. The abstraction layer is permeable but not transparent.</p>
<p>This is not dumbing down. It is layered revelation - the same principle that makes Cyberspace.app feel native on Mac while running pure Scheme underneath.</p>
</section>
<section>
<h2>6. The Scrutinizer</h2>
<p>Consistency requires tooling. The scrutinizer audits tone and terminology across library and code.</p>
<p>Two failure modes:</p>
<ul>
<li>Overreach - poetry where precision needed, whimsy in error messages</li>
<li>Underreach - dry jargon where warmth appropriate, internal vocabulary leaking through</li>
</ul>
<p>Passes:</p>
<ul>
<li>Vocabulary audit - banned terms in user-facing strings</li>
<li>Tone consistency - memos vs help vs errors</li>
<li>S-expression exposure - Scheme leaking to surface</li>
</ul>
<p>Interface:</p>
<pre class="language-scheme">
(scrutinize)               ; both passes (default)
(scrutinize 'library)      ; memos only
(scrutinize 'code)         ; code only
(scrutinize #f)            ; disable

*scrutinize-realmtime*     ; parameter, default #f
(scrutinize-realmtime! #t) ; enable during dev
</pre>
<p>Realmtime mode invokes spacetime - scrutiny flows through the realm as time passes. When enabled, violations surface as modules load. Off in production, on in beta.</p>
</section>
<section>
<h2>7. Forge and Smelter</h2>
<p>The forge module generates pronounceable passwords using Markov chains on digraph statistics. The lineage traces back to Multics.</p>
<h3>7.1 Heritage</h3>
<p>Original design by Morrie Gasser in PL/1 on Multics. Gasser, author of 'Building a Secure Computer System' (1988), carried the code forward to VAX/VMS where it remained in PL/1 until the Alpha transition.</p>
<p>When DEC moved to Alpha architecture, PL/1 wasn't in the initial compiler release. The code had to be expunged from the TCB. Derrell Piper and Jon Callas rewrote it for VMS 6.0 (circa 1991): Piper wrote the BLISS system service for the Trusted Computing Base; Callas wrote the user-mode TPU smelter.</p>
<p>US and EU DEC patents were filed on the design (now expired). The terminology - forge, smelter - comes from metallurgy: the smelter refines raw ore (word lists) into workable material (digraph statistics); the forge shapes the final product (pronounceable words).</p>
<p>Callas later became a principal author of OpenPGP (RFC 4880) and co-founded PGP Corporation and Silent Circle. He remains a planned beta tester for Cyberspace.</p>
<p>The chain of custody: Gasser (Multics PL/1) → Piper/Callas (VMS 6.0 BLISS/TPU) → Cyberspace (Scheme).</p>
<h3>7.2 Design</h3>
<p>The smelter reads word lists and extracts digraph (character pair) statistics:</p>
<ul>
<li>Starting pair frequency - which pairs begin words</li>
<li>Transition probability - given 'ab', what characters follow</li>
<li>Termination markers - which pairs end words</li>
</ul>
<p>The forge walks these statistics with weighted random selection, producing words that follow the phonetic patterns of the source language. Entropy is tracked in 'decibits' (tenths of bits) to quantify password strength.</p>
<h3>7.3 Languages</h3>
<p>Original VMS languages: English, Latin, Italian, Dutch, Sindarin, Webster. The VT100 diacriticals were encoded in DEC MCS (Multinational Character Set).</p>
<p>Cyberspace expansion to 40+ languages follows roughly the operational map of the Office of Strategic Services - another egg for those who recognize the geography:</p>
<ul>
<li>Western Europe: French, German, Spanish, Portuguese</li>
<li>Iberia: Catalan, Galician, Basque</li>
<li>Nordic (resistance networks): Swedish, Norwegian, Danish, Finnish</li>
<li>Atlantic fringe: Irish, Welsh, Scottish Gaelic, Breton</li>
<li>Balkans (partisan country): Greek, Albanian, Serbian, Croatian, Slovenian, Macedonian</li>
<li>Eastern front: Polish, Czech, Slovak, Hungarian, Romanian</li>
<li>Baltic: Lithuanian, Latvian, Estonian</li>
<li>Soviet theater: Russian, Ukrainian, Bulgarian</li>
<li>Near East: Turkish, Armenian</li>
<li>Mediterranean (George Cross island): Maltese</li>
<li>Detachment 101: Vietnamese, Thai, Lao, Korean</li>
<li>Literary: Sindarin (Tolkien's Elvish), Dante's Divina Commedia</li>
</ul>
<p>Word lists sourced from Hunspell, LibreOffice, SCOWL, OpenTaal, Eldamo, and the Princeton Dante Project. All diacriticals converted to UTF-8.</p>
<p>Sindarin preserves Tolkien's circumflexes: Manwë, Aulë, Andúril. Dante's medieval Italian sits alongside. The OSS framing is itself an easter egg - layers of meaning for those who dig.</p>
<h3>7.4 Related Standards</h3>
<p>Forge predates but relates to two password generation standards:</p>
<ul>
<li>FIPS 181 (1993) - Automated Password Generator. Uses trigraph (3-letter) statistics and hyphenation rules. More structured but less natural. Forge's digraph approach (1991) produces smoother results by learning from actual language patterns rather than syllable rules.</li>
<li>OPIE/S/Key - One-time Passwords In Everything. Uses a fixed 2048-word dictionary optimized for spoken communication over phone lines. Words are short and phonetically distinct. Different goal: memorability for one-time use vs. pronounceability for permanent passwords.</li>
</ul>
<p>Forge's contribution was combining Markov chain language modeling with entropy tracking - knowing not just that a password sounds right, but exactly how many bits of randomness it contains.</p>
<h3>7.5 Interface</h3>
<pre class="language-scheme">
(forge)              ; one English word
(forge 5)            ; five English words
(forge 'sindarin)    ; one Elvish word
(forge 'latin 3)     ; three Latin words
(forge 'passphrase)  ; 4-word passphrase
(forge 'german 'passphrase 6) ; 6-word German passphrase
</pre>
<p>Each word reports its entropy. Passphrases join words with hyphens. The forge is an easter egg - undocumented in help, discovered by schemers exploring the REPL.</p>
<h3>7.6 Cryptographic Entropy</h3>
<p>Passwords fall naturally out of pronounceable words when the entropy source is sound. Forge uses /dev/urandom for cryptographically secure randomness, not pseudo-random generators.</p>
<p>Boot-time verification runs automatically on module load:</p>
<ul>
<li>Confirms /dev/urandom exists and is readable</li>
<li>Reads 256 test bytes and checks byte distribution</li>
<li>Verifies no single byte appears more than ~10% (bias detection)</li>
<li>Confirms at least 100 distinct byte values (diversity check)</li>
</ul>
<p>If verification fails, the module refuses to load. An easter egg with real security - someone exploring the REPL discovers (forge) and gets actual cryptographic passwords, not toys.</p>
<h3>7.7 Audit Trail Heritage</h3>
<p>The cryptographic audit trail (Memo-0005) descends from VMS SECURITY.AUDIT$JOURNAL and the cluster-wide security infrastructure of VMS 6.0 (1993). That system introduced:</p>
<ul>
<li>SECURITYPOLICY bit 7 propagation</li>
<li>Intrusion detection state replicated cluster-wide</li>
<li>Breakin attempts detected across all nodes as one</li>
<li>TLV-encoded object store</li>
<li>The [000000]SECURITY.SYS file in ODS5 stored SECURITYCLASS records</li>
</ul>
<p>The design principle then, as now: cluster nodes behave identically. N nodes, one security domain. Every significant action audited, every audit record signed.</p>
<p>Cyberspace audit trails apply the same principle at IPv6 scale.</p>
</section>
<section>
<h2>8. The Novice Interface</h2>
<p>Cyberspace must be approachable by normal people. The terminal is for operators. A friendly interface layer serves everyone else.</p>
<h3>8.1 The Problem</h3>
<p>A novice asked: "Why would I want to use this? I have iCloud. They have recipes and cat pictures."</p>
<p>Valid question. The answer must be compelling without mentioning Ed25519, SPKI certificates, hash chains, Merkle trees, or S-expressions.</p>
<h3>8.2 What Novices Want</h3>
<p>They don't want a distributed cryptographic vault. They want:</p>
<ul>
<li>My stuff is mine - Not rented from a corporation</li>
<li>It survives - No company shutdown deletes my photos</li>
<li>I control sharing - Family, not platforms</li>
<li>Privacy - My recipes aren't AI training data</li>
<li>Legacy - Grandkids can inherit the vault</li>
<li>No ads - I'm not the product</li>
</ul>
<h3>8.3 Two Doors</h3>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 440 240" width="440" height="240" xmlns="http://www.w3.org/2000/svg">
<style>
  .diagram line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: square; }
  .diagram rect { fill: currentColor; }
  .diagram text { font-family: monospace; font-size: 14px; fill: currentColor; text-anchor: middle; dominant-baseline: central; }
</style>
<text x="205" y="10">C</text>
<text x="215" y="10">Y</text>
<text x="225" y="10">B</text>
<text x="235" y="10">E</text>
<text x="245" y="10">R</text>
<text x="255" y="10">S</text>
<text x="265" y="10">P</text>
<text x="275" y="10">A</text>
<text x="285" y="10">C</text>
<text x="295" y="10">E</text>
<line x1="435" y1="19" x2="435" y2="41"/>
<line x1="115" y1="50" x2="120" y2="50"/>
<line x1="115" y1="50" x2="115" y2="61"/>
<line x1="120" y1="50" x2="130" y2="50"/>
<line x1="130" y1="50" x2="140" y2="50"/>
<line x1="140" y1="50" x2="150" y2="50"/>
<line x1="150" y1="50" x2="160" y2="50"/>
<line x1="160" y1="50" x2="170" y2="50"/>
<line x1="170" y1="50" x2="180" y2="50"/>
<line x1="180" y1="50" x2="190" y2="50"/>
<line x1="190" y1="50" x2="200" y2="50"/>
<line x1="200" y1="50" x2="210" y2="50"/>
<line x1="210" y1="50" x2="220" y2="50"/>
<line x1="220" y1="50" x2="230" y2="50"/>
<line x1="230" y1="50" x2="240" y2="50"/>
<line x1="240" y1="50" x2="250" y2="50"/>
<line x1="245" y1="39" x2="245" y2="50"/>
<line x1="250" y1="50" x2="260" y2="50"/>
<line x1="260" y1="50" x2="270" y2="50"/>
<line x1="270" y1="50" x2="280" y2="50"/>
<line x1="280" y1="50" x2="290" y2="50"/>
<line x1="290" y1="50" x2="300" y2="50"/>
<line x1="300" y1="50" x2="310" y2="50"/>
<line x1="310" y1="50" x2="320" y2="50"/>
<line x1="320" y1="50" x2="330" y2="50"/>
<line x1="330" y1="50" x2="340" y2="50"/>
<line x1="340" y1="50" x2="350" y2="50"/>
<line x1="350" y1="50" x2="360" y2="50"/>
<line x1="360" y1="50" x2="370" y2="50"/>
<line x1="430" y1="50" x2="435" y2="50"/>
<line x1="435" y1="50" x2="435" y2="61"/>
<line x1="115" y1="59" x2="115" y2="81"/>
<line x1="435" y1="59" x2="435" y2="81"/>
<line x1="55" y1="90" x2="60" y2="90"/>
<line x1="55" y1="90" x2="55" y2="101"/>
<line x1="60" y1="90" x2="70" y2="90"/>
<line x1="70" y1="90" x2="80" y2="90"/>
<line x1="80" y1="90" x2="90" y2="90"/>
<line x1="90" y1="90" x2="100" y2="90"/>
<line x1="100" y1="90" x2="110" y2="90"/>
<text x="115" y="90">↓</text>
<line x1="120" y1="90" x2="130" y2="90"/>
<line x1="130" y1="90" x2="140" y2="90"/>
<line x1="140" y1="90" x2="150" y2="90"/>
<line x1="150" y1="90" x2="160" y2="90"/>
<line x1="160" y1="90" x2="170" y2="90"/>
<line x1="170" y1="90" x2="175" y2="90"/>
<line x1="175" y1="90" x2="175" y2="101"/>
<line x1="315" y1="90" x2="320" y2="90"/>
<line x1="315" y1="90" x2="315" y2="101"/>
<line x1="320" y1="90" x2="330" y2="90"/>
<line x1="330" y1="90" x2="340" y2="90"/>
<line x1="340" y1="90" x2="350" y2="90"/>
<line x1="350" y1="90" x2="360" y2="90"/>
<line x1="360" y1="90" x2="370" y2="90"/>
<text x="375" y="90">↓</text>
<line x1="380" y1="90" x2="390" y2="90"/>
<line x1="390" y1="90" x2="400" y2="90"/>
<line x1="400" y1="90" x2="410" y2="90"/>
<line x1="410" y1="90" x2="420" y2="90"/>
<line x1="420" y1="90" x2="430" y2="90"/>
<line x1="430" y1="90" x2="435" y2="90"/>
<line x1="435" y1="90" x2="435" y2="101"/>
<line x1="55" y1="99" x2="55" y2="121"/>
<text x="75" y="110">T</text>
<text x="85" y="110">e</text>
<text x="95" y="110">r</text>
<text x="105" y="110">m</text>
<text x="115" y="110">i</text>
<text x="125" y="110">n</text>
<text x="135" y="110">a</text>
<text x="145" y="110">l</text>
<line x1="175" y1="99" x2="175" y2="121"/>
<line x1="315" y1="99" x2="315" y2="121"/>
<text x="335" y="110">F</text>
<text x="345" y="110">r</text>
<text x="355" y="110">i</text>
<text x="365" y="110">e</text>
<text x="375" y="110">n</text>
<text x="385" y="110">d</text>
<text x="395" y="110">l</text>
<text x="405" y="110">y</text>
<line x1="435" y1="99" x2="435" y2="121"/>
<line x1="55" y1="119" x2="55" y2="141"/>
<text x="95" y="130">(</text>
<text x="105" y="130">c</text>
<text x="115" y="130">s</text>
<text x="125" y="130">)</text>
<line x1="175" y1="119" x2="175" y2="141"/>
<line x1="315" y1="119" x2="315" y2="141"/>
<text x="355" y="130">D</text>
<text x="365" y="130">o</text>
<text x="375" y="130">o</text>
<text x="385" y="130">r</text>
<line x1="435" y1="119" x2="435" y2="141"/>
<line x1="55" y1="150" x2="60" y2="150"/>
<line x1="55" y1="139" x2="55" y2="150"/>
<line x1="60" y1="150" x2="70" y2="150"/>
<line x1="70" y1="150" x2="80" y2="150"/>
<line x1="80" y1="150" x2="90" y2="150"/>
<line x1="90" y1="150" x2="100" y2="150"/>
<line x1="100" y1="150" x2="110" y2="150"/>
<line x1="110" y1="150" x2="120" y2="150"/>
<line x1="115" y1="150" x2="115" y2="161"/>
<line x1="120" y1="150" x2="130" y2="150"/>
<line x1="130" y1="150" x2="140" y2="150"/>
<line x1="140" y1="150" x2="150" y2="150"/>
<line x1="150" y1="150" x2="160" y2="150"/>
<line x1="160" y1="150" x2="170" y2="150"/>
<line x1="170" y1="150" x2="175" y2="150"/>
<line x1="175" y1="139" x2="175" y2="150"/>
<line x1="315" y1="150" x2="320" y2="150"/>
<line x1="315" y1="139" x2="315" y2="150"/>
<line x1="320" y1="150" x2="330" y2="150"/>
<line x1="330" y1="150" x2="340" y2="150"/>
<line x1="340" y1="150" x2="350" y2="150"/>
<line x1="350" y1="150" x2="360" y2="150"/>
<line x1="360" y1="150" x2="370" y2="150"/>
<line x1="370" y1="150" x2="380" y2="150"/>
<line x1="375" y1="150" x2="375" y2="161"/>
<line x1="380" y1="150" x2="390" y2="150"/>
<line x1="390" y1="150" x2="400" y2="150"/>
<line x1="400" y1="150" x2="410" y2="150"/>
<line x1="410" y1="150" x2="420" y2="150"/>
<line x1="420" y1="150" x2="430" y2="150"/>
<line x1="430" y1="150" x2="435" y2="150"/>
<line x1="435" y1="139" x2="435" y2="150"/>
<line x1="115" y1="159" x2="115" y2="181"/>
<line x1="435" y1="159" x2="435" y2="181"/>
<text x="75" y="190">O</text>
<text x="85" y="190">p</text>
<text x="95" y="190">e</text>
<text x="105" y="190">r</text>
<text x="115" y="190">a</text>
<text x="125" y="190">t</text>
<text x="135" y="190">o</text>
<text x="145" y="190">r</text>
<text x="155" y="190">s</text>
<text x="345" y="190">N</text>
<text x="355" y="190">o</text>
<text x="365" y="190">v</text>
<text x="375" y="190">i</text>
<text x="385" y="190">c</text>
<text x="395" y="190">e</text>
<text x="405" y="190">s</text>
<text x="85" y="210">H</text>
<text x="95" y="210">a</text>
<text x="105" y="210">c</text>
<text x="115" y="210">k</text>
<text x="125" y="210">e</text>
<text x="135" y="210">r</text>
<text x="145" y="210">s</text>
<text x="345" y="210">F</text>
<text x="355" y="210">a</text>
<text x="365" y="210">m</text>
<text x="375" y="210">i</text>
<text x="385" y="210">l</text>
<text x="395" y="210">y</text>
<text x="85" y="230">A</text>
<text x="95" y="230">d</text>
<text x="105" y="230">m</text>
<text x="115" y="230">i</text>
<text x="125" y="230">n</text>
<text x="135" y="230">s</text>
<text x="335" y="230">E</text>
<text x="345" y="230">v</text>
<text x="355" y="230">e</text>
<text x="365" y="230">r</text>
<text x="375" y="230">y</text>
<text x="385" y="230">o</text>
<text x="395" y="230">n</text>
<text x="405" y="230">e</text>
</svg>
</div>
<p>The terminal offers full power and complexity for those who want it. The friendly door offers drag-and-drop simplicity - same operations, different presentation.</p>
<p>Both doors lead to the same vault. Both use the same Scheme underneath.</p>
<h3>8.4 Principles</h3>
<ul>
<li>Never dumb down the core - Scheme stays Scheme</li>
<li>Add layers, don't subtract - Friendly is additional, not replacement</li>
<li>Same operations - Both doors do the same things</li>
<li>Gradual revelation - Novices can discover the terminal if curious</li>
<li>Family friendly - Grandma can use it</li>
</ul>
<h3>8.5 The Test</h3>
<p>If a novice can create a vault in 30 seconds, add a photo in 5 seconds, invite family in 1 minute, and understand what they have - we've succeeded.</p>
<h3>8.6 The Koan</h3>
<p>There is no point scaling to 2^128 if you assume everyone is a Schemer.</p>
<p>The cryptographic address space, the capability chains, the Merkle proofs — all of that is implementation. The user doesn't sign certificates, they approve a peer. They don't query the vault, they inspect soup.</p>
<p>If the system requires understanding SPKI to use safely, the system failed. The security properties must emerge from natural actions, not careful ones.</p>
<p>The complexity serves the simplicity, not the other way around.</p>
</section>
<section>
<h2>9. Cryptographic Selections</h2>
<p>Every cryptographic algorithm in Cyberspace was chosen for specific properties. This section documents the selections and their rationale.</p>
<h3>9.1 Signatures</h3>
<table>
<tr><th>Algorithm</th><th>Use</th><th>Selection Rationale</th></tr>
<tr><td>Ed25519</td><td>Primary signatures</td><td>Small keys (32B), fast, constant-time, no RNG needed for signing</td></tr>
<tr><td>SPHINCS+</td><td>Post-quantum (planned)</td><td>Hash-based, conservative security, stateless</td></tr>
<tr><td>Dilithium</td><td>Post-quantum (planned)</td><td>Lattice-based, smaller signatures than SPHINCS+, NIST selected</td></tr>
<tr><td>Lamport</td><td>Reference implementation</td><td>Educational, hash-only security, foundation for SPHINCS+</td></tr>
</table>
<p>Ed25519 is the current standard. Post-quantum migration uses hybrid signatures (Ed25519 + SPHINCS+ or Dilithium) to preserve security if either scheme breaks.</p>
<h3>9.2 Hash Functions</h3>
<table>
<tr><th>Algorithm</th><th>Use</th><th>Selection Rationale</th></tr>
<tr><td>SHA-512</td><td>Object identity, signatures</td><td>Conservative choice, 256-bit quantum security</td></tr>
<tr><td>BLAKE2b</td><td>Content addressing, KDF</td><td>Faster than SHA-2, proven design, libsodium native</td></tr>
<tr><td>SHAKE256</td><td>Post-quantum Merkle (planned)</td><td>XOF for variable output, SHA-3 family, NIST standard</td></tr>
<tr><td>Argon2id</td><td>Passphrase stretching</td><td>Memory-hard, resists GPU/ASIC, winner of PHC</td></tr>
</table>
<p>Hash functions survive quantum computers. Shor's algorithm (exponential speedup) breaks signatures and key exchange but not hashes. Grover's algorithm provides only quadratic speedup against hashes — halving effective security bits, not destroying them.</p>
<p>SHA-512's 512 bits become 256-bit quantum security. Still beyond brute force. SHA-256 would drop to 128-bit quantum security — acceptable but less margin. We chose SHA-512 for the conservative 256-bit post-quantum level.</p>
<p>BLAKE2b (256-bit output) provides 128-bit quantum security, sufficient for content addressing where collision resistance matters more than preimage resistance.</p>
<h3>9.3 Symmetric Encryption</h3>
<table>
<tr><th>Algorithm</th><th>Use</th><th>Selection Rationale</th></tr>
<tr><td>XSalsa20-Poly1305</td><td>Vault encryption</td><td>NaCl default, 24-byte nonce, proven AEAD</td></tr>
<tr><td>ChaCha20-Poly1305</td><td>Object encryption</td><td>IETF standard, 12-byte nonce, streaming</td></tr>
<tr><td>XChaCha20-Poly1305</td><td>Keystore</td><td>Extended nonce (24B), random nonce safe</td></tr>
</table>
<p>The Salsa20/ChaCha20 family was chosen over AES: no timing attacks, no hardware requirements, Poly1305 is provably secure MAC. The 'X' variants use extended nonces, safe for random generation.</p>
<h3>9.4 Key Exchange</h3>
<table>
<tr><th>Algorithm</th><th>Use</th><th>Selection Rationale</th></tr>
<tr><td>X25519</td><td>Ephemeral key exchange</td><td>Curve25519 ECDH, constant-time, small keys</td></tr>
<tr><td>HKDF</td><td>Key derivation</td><td>RFC 5869, extract-then-expand, domain separation</td></tr>
</table>
<p>X25519 provides forward secrecy for CIP channels. Session keys are derived via HKDF with protocol-specific info strings for domain separation.</p>
<h3>9.5 Secret Sharing</h3>
<table>
<tr><th>Algorithm</th><th>Use</th><th>Selection Rationale</th></tr>
<tr><td>Shamir SSS</td><td>Key backup, threshold recovery</td><td>Information-theoretic security, GF(2^8) arithmetic</td></tr>
</table>
<p>Shamir's scheme splits secrets into n shares where any k can reconstruct. Used for master key backup (5-of-9) and threshold governance.</p>
<h3>9.6 Blind Signatures (Chaum)</h3>
<p>David Chaum's 1982 blind signature scheme enables anonymous credentials. The Library holds four Chaum papers:</p>
<ul>
<li>Blind Signatures for Untraceable Payments (1982) — the foundation</li>
<li>Untraceable Electronic Cash (1988, with Fiat &amp; Naor)</li>
<li>Untraceable Electronic Mail (1981) — mix networks</li>
<li>The Dining Cryptographers Problem (1988) — unconditional anonymity</li>
</ul>
<p>Cyberspace uses Chaum-style blind signatures for bearer capabilities: prove authorization without revealing identity. The issuer signs a blinded credential; when unblinded and presented, the signature verifies but cannot be linked to issuance.</p>
<p>This preserves the choice Bitcoin abandoned: registered capabilities when you need accountability, bearer capabilities when you need privacy.</p>
<h3>9.7 Merkle Trees</h3>
<p>Content authentication via binary hash trees. Current implementation uses SHA-512; post-quantum migration to SHAKE256 or BLAKE3.</p>
<p>Properties: O(log n) inclusion proofs, streaming verification, append-only audit logs. Merkle's 1987 paper is in the Library.</p>
<h3>9.8 Random Number Generation</h3>
<p>All randomness flows through libsodium's randombytes_buf(), which uses:</p>
<ul>
<li>Linux: getrandom(2) syscall</li>
<li>macOS: arc4random_buf()</li>
<li>OpenBSD: arc4random_buf() (ChaCha20-based)</li>
</ul>
<p>Hardware entropy (RDRAND/RDSEED) feeds the OS pool. Quantum RNG (ID Quantique, drand beacons) planned for Phase 3+.</p>
<h3>9.9 The TCB Principle</h3>
<p>The Trusted Computing Base holds only:</p>
<ul>
<li>Ed25519 sign/verify</li>
<li>SHA-512 hash</li>
<li>Certificate chain verification</li>
</ul>
<p>Everything else is policy. The TCB is ~1000 lines of OCaml calling libsodium, proven in Coq, frozen. This minimizes the attack surface: prove the crypto, evolve the rest freely.</p>
</section>
<section>
<h2>Changelog</h2>
<p>- 2026-01-19 — Added Audit Trail Heritage (section 7.7), moved from Memo-0005</p>
<p>- 2026-01-18 — Expanded Why Scheme with homoiconicity rationale (section 1.2)</p>
<p>- 2026-01-18 — Added The Koan (section 8.6): complexity serves simplicity</p>
<p>- 2026-01-17 — Added Cryptographic Selections section (section 9)</p>
<p>- 2026-01-17 — Corrected heritage: SDSI/Rivest, SPKI/Ellison, IETF merger (section 1.1)</p>
<p>- 2026-01-17 — Added Novice Interface section (section 8)</p>
<p>- 2026-01-15 — Gasser Multics provenance added (section 7.1)</p>
<p>- 2026-01-15 — OSS operational geography framing, 40+ languages (section 7.3)</p>
<p>- 2026-01-15 — Added cryptographic RNG with boot-time verification (section 7.6)</p>
<p>- 2026-01-15 — Added forge/smelter heritage (section 7)</p>
<p>- 2026-01-15 — Initial draft, heritage notes</p>
</section>
<script>
function toggleTheme() {
  const html = document.documentElement;
  const current = html.getAttribute('data-theme');
  const next = current === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', next);
  localStorage.setItem('theme', next);
}
(function() {
  // Query param override (for REPL: ?theme=dark or ?theme=light)
  const params = new URLSearchParams(window.location.search);
  const param = params.get('theme');
  if (param === 'dark' || param === 'light') {
    document.documentElement.setAttribute('data-theme', param);
    localStorage.setItem('theme', param);
    return;
  }
  // localStorage preference
  const saved = localStorage.getItem('theme');
  if (saved) {
    document.documentElement.setAttribute('data-theme', saved);
  } else if (window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', 'light');
  }
})();
</script>
</body>
</html>
