<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <title>Memo 0011: Library Directory System</title>
  <link rel="icon" id="favicon" href="data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27%230f0%27 text-anchor=%27middle%27 font-weight=%27bold%27>Œª</text></svg>">
  <script>
(function(){
  var h=new Date().getHours(),c;
  if(h>=4&&h<6)c='%23845EC2';       // brahma muhurta - violet
  else if(h>=6&&h<8)c='%23ffd700';  // dawn - gold
  else if(h>=8&&h<11)c='%2300d4aa'; // morning - teal
  else if(h>=11&&h<14)c='%230f0';   // midday - phosphor
  else if(h>=14&&h<17)c='%2339ff14';// afternoon - neon
  else if(h>=17&&h<19)c='%23ff6600';// sunset - orange
  else if(h>=19&&h<22)c='%23ff3366';// evening - coral
  else c='%2300ffff';               // night - cyan
  document.getElementById('favicon').href='data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27'+c+'%27 text-anchor=%27middle%27 font-weight=%27bold%27>Œª</text></svg>';
})();
</script>
  <link rel="stylesheet" href="memo.css">
</head>
<body>
<span class="theme-toggle" onclick="toggleTheme()" title="Toggle light/dark">[theme]</span>
<h1>Memo 0011: Library Directory System</h1>
<dl class="metadata">
</dl>
<hr>
<section>
<h2>Abstract</h2>
<p>This Memo specifies the Library Directory System for the Library of Cyberspace: a searchable catalog of research papers with natural language queries, fuzzy matching, and beautiful output. Finding knowledge should be delightful.</p>
</section>
<section>
<h2>E Pluribus Unum</h2>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 660 80" width="660" height="80" xmlns="http://www.w3.org/2000/svg">
<style>
  .diagram line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: square; }
  .diagram rect { fill: currentColor; }
  .diagram text { font-family: 'JetBrains Mono', monospace; font-size: 14px; fill: currentColor; dominant-baseline: central; }
</style>
<line x1="5" y1="10" x2="10" y2="10"/>
<line x1="5" y1="10" x2="5" y2="21"/>
<line x1="10" y1="10" x2="20" y2="10"/>
<line x1="20" y1="10" x2="30" y2="10"/>
<line x1="30" y1="10" x2="40" y2="10"/>
<line x1="40" y1="10" x2="50" y2="10"/>
<line x1="50" y1="10" x2="60" y2="10"/>
<line x1="60" y1="10" x2="70" y2="10"/>
<line x1="70" y1="10" x2="80" y2="10"/>
<line x1="80" y1="10" x2="90" y2="10"/>
<line x1="90" y1="10" x2="100" y2="10"/>
<line x1="100" y1="10" x2="110" y2="10"/>
<line x1="110" y1="10" x2="120" y2="10"/>
<line x1="120" y1="10" x2="130" y2="10"/>
<line x1="130" y1="10" x2="140" y2="10"/>
<line x1="140" y1="10" x2="150" y2="10"/>
<line x1="150" y1="10" x2="160" y2="10"/>
<line x1="160" y1="10" x2="170" y2="10"/>
<line x1="170" y1="10" x2="180" y2="10"/>
<line x1="180" y1="10" x2="190" y2="10"/>
<line x1="190" y1="10" x2="200" y2="10"/>
<line x1="200" y1="10" x2="210" y2="10"/>
<line x1="210" y1="10" x2="220" y2="10"/>
<line x1="220" y1="10" x2="230" y2="10"/>
<line x1="230" y1="10" x2="240" y2="10"/>
<line x1="240" y1="10" x2="250" y2="10"/>
<line x1="250" y1="10" x2="260" y2="10"/>
<line x1="260" y1="10" x2="270" y2="10"/>
<line x1="270" y1="10" x2="280" y2="10"/>
<line x1="280" y1="10" x2="290" y2="10"/>
<line x1="290" y1="10" x2="300" y2="10"/>
<line x1="300" y1="10" x2="310" y2="10"/>
<line x1="310" y1="10" x2="320" y2="10"/>
<line x1="320" y1="10" x2="330" y2="10"/>
<line x1="330" y1="10" x2="340" y2="10"/>
<line x1="340" y1="10" x2="350" y2="10"/>
<line x1="350" y1="10" x2="360" y2="10"/>
<line x1="360" y1="10" x2="370" y2="10"/>
<line x1="370" y1="10" x2="380" y2="10"/>
<line x1="380" y1="10" x2="390" y2="10"/>
<line x1="390" y1="10" x2="400" y2="10"/>
<line x1="400" y1="10" x2="410" y2="10"/>
<line x1="410" y1="10" x2="420" y2="10"/>
<line x1="420" y1="10" x2="430" y2="10"/>
<line x1="430" y1="10" x2="440" y2="10"/>
<line x1="440" y1="10" x2="450" y2="10"/>
<line x1="450" y1="10" x2="460" y2="10"/>
<line x1="460" y1="10" x2="470" y2="10"/>
<line x1="470" y1="10" x2="480" y2="10"/>
<line x1="480" y1="10" x2="490" y2="10"/>
<line x1="490" y1="10" x2="500" y2="10"/>
<line x1="500" y1="10" x2="510" y2="10"/>
<line x1="510" y1="10" x2="520" y2="10"/>
<line x1="520" y1="10" x2="530" y2="10"/>
<line x1="530" y1="10" x2="540" y2="10"/>
<line x1="540" y1="10" x2="550" y2="10"/>
<line x1="550" y1="10" x2="560" y2="10"/>
<line x1="560" y1="10" x2="570" y2="10"/>
<line x1="570" y1="10" x2="580" y2="10"/>
<line x1="580" y1="10" x2="590" y2="10"/>
<line x1="590" y1="10" x2="600" y2="10"/>
<line x1="600" y1="10" x2="610" y2="10"/>
<line x1="610" y1="10" x2="620" y2="10"/>
<line x1="620" y1="10" x2="630" y2="10"/>
<line x1="630" y1="10" x2="640" y2="10"/>
<line x1="640" y1="10" x2="645" y2="10"/>
<line x1="645" y1="10" x2="645" y2="21"/>
<line x1="5" y1="19" x2="5" y2="41"/>
<text x="30" y="30">üìö</text>
<text x="50" y="30">Cyberspace</text>
<text x="160" y="30">Library</text>
<text x="240" y="30">Directory</text>
<line x1="645" y1="19" x2="645" y2="41"/>
<line x1="5" y1="39" x2="5" y2="61"/>
<text x="30" y="50">Finding</text>
<text x="110" y="50">knowledge</text>
<text x="210" y="50">should</text>
<text x="280" y="50">be</text>
<text x="310" y="50">joyful</text>
<line x1="655" y1="39" x2="655" y2="61"/>
<line x1="5" y1="70" x2="10" y2="70"/>
<line x1="5" y1="59" x2="5" y2="70"/>
<line x1="10" y1="70" x2="20" y2="70"/>
<line x1="20" y1="70" x2="30" y2="70"/>
<line x1="30" y1="70" x2="40" y2="70"/>
<line x1="40" y1="70" x2="50" y2="70"/>
<line x1="50" y1="70" x2="60" y2="70"/>
<line x1="60" y1="70" x2="70" y2="70"/>
<line x1="70" y1="70" x2="80" y2="70"/>
<line x1="80" y1="70" x2="90" y2="70"/>
<line x1="90" y1="70" x2="100" y2="70"/>
<line x1="100" y1="70" x2="110" y2="70"/>
<line x1="110" y1="70" x2="120" y2="70"/>
<line x1="120" y1="70" x2="130" y2="70"/>
<line x1="130" y1="70" x2="140" y2="70"/>
<line x1="140" y1="70" x2="150" y2="70"/>
<line x1="150" y1="70" x2="160" y2="70"/>
<line x1="160" y1="70" x2="170" y2="70"/>
<line x1="170" y1="70" x2="180" y2="70"/>
<line x1="180" y1="70" x2="190" y2="70"/>
<line x1="190" y1="70" x2="200" y2="70"/>
<line x1="200" y1="70" x2="210" y2="70"/>
<line x1="210" y1="70" x2="220" y2="70"/>
<line x1="220" y1="70" x2="230" y2="70"/>
<line x1="230" y1="70" x2="240" y2="70"/>
<line x1="240" y1="70" x2="250" y2="70"/>
<line x1="250" y1="70" x2="260" y2="70"/>
<line x1="260" y1="70" x2="270" y2="70"/>
<line x1="270" y1="70" x2="280" y2="70"/>
<line x1="280" y1="70" x2="290" y2="70"/>
<line x1="290" y1="70" x2="300" y2="70"/>
<line x1="300" y1="70" x2="310" y2="70"/>
<line x1="310" y1="70" x2="320" y2="70"/>
<line x1="320" y1="70" x2="330" y2="70"/>
<line x1="330" y1="70" x2="340" y2="70"/>
<line x1="340" y1="70" x2="350" y2="70"/>
<line x1="350" y1="70" x2="360" y2="70"/>
<line x1="360" y1="70" x2="370" y2="70"/>
<line x1="370" y1="70" x2="380" y2="70"/>
<line x1="380" y1="70" x2="390" y2="70"/>
<line x1="390" y1="70" x2="400" y2="70"/>
<line x1="400" y1="70" x2="410" y2="70"/>
<line x1="410" y1="70" x2="420" y2="70"/>
<line x1="420" y1="70" x2="430" y2="70"/>
<line x1="430" y1="70" x2="440" y2="70"/>
<line x1="440" y1="70" x2="450" y2="70"/>
<line x1="450" y1="70" x2="460" y2="70"/>
<line x1="460" y1="70" x2="470" y2="70"/>
<line x1="470" y1="70" x2="480" y2="70"/>
<line x1="480" y1="70" x2="490" y2="70"/>
<line x1="490" y1="70" x2="500" y2="70"/>
<line x1="500" y1="70" x2="510" y2="70"/>
<line x1="510" y1="70" x2="520" y2="70"/>
<line x1="520" y1="70" x2="530" y2="70"/>
<line x1="530" y1="70" x2="540" y2="70"/>
<line x1="540" y1="70" x2="550" y2="70"/>
<line x1="550" y1="70" x2="560" y2="70"/>
<line x1="560" y1="70" x2="570" y2="70"/>
<line x1="570" y1="70" x2="580" y2="70"/>
<line x1="580" y1="70" x2="590" y2="70"/>
<line x1="590" y1="70" x2="600" y2="70"/>
<line x1="600" y1="70" x2="610" y2="70"/>
<line x1="610" y1="70" x2="620" y2="70"/>
<line x1="620" y1="70" x2="630" y2="70"/>
<line x1="630" y1="70" x2="640" y2="70"/>
<line x1="640" y1="70" x2="645" y2="70"/>
<line x1="645" y1="59" x2="645" y2="70"/>
</svg>
</div>
</section>
<section>
<h2>Motivation</h2>
<p>The Library of Cyberspace contains 421+ research papers spanning 50 years of computing history. Without a catalog:</p>
<ul>
<li>Discoverability: How to find Lamport's clock paper?</li>
<li>Connections: What relates to Simple Public Key Infrastructure (SPKI)?</li>
<li>Context: When was this written? By whom?</li>
</ul>
<p>The Directory System provides:</p>
<ul>
<li>Natural language search - "papers by Lampson about protection"</li>
<li>Multi-index access - By author, topic, year, collection</li>
<li>Fuzzy matching - "Lamp" finds Lampson and Lamport</li>
<li>Beautiful output - Unicode, emoji, formatted results</li>
<li>S-expression export - Machine-readable catalogs</li>
</ul>
</section>
<section>
<h2>Data Model</h2>
<h3>Document Record</h3>
<pre class="language-scheme">
(define-record-type &lt;document&gt;
  (make-document title authors year topics file-path
                 collection source-url description)
  document?
  (title document-title)
  (authors document-authors)      ; List of strings
  (year document-year)            ; Integer or #f
  (topics document-topics)        ; List of strings
  (file-path document-file-path)
  (collection document-collection)
  (source-url document-source-url)
  (description document-description))
</pre>
<h3>Collection Record</h3>
<pre class="language-scheme">
(define-record-type &lt;collection&gt;
  (make-collection name path documents description)
  collection?
  (name collection-name)
  (path collection-path)
  (documents collection-documents)  ; List of documents
  (description collection-description))
</pre>
<h3>Library Record</h3>
<pre class="language-scheme">
(define-record-type &lt;library&gt;
  (make-library collections documents
                author-index topic-index year-index collection-index)
  library?
  (collections library-collections)
  (documents library-documents)
  (author-index library-author-index)     ; Hash table
  (topic-index library-topic-index)       ; Hash table
  (year-index library-year-index)         ; Hash table
  (collection-index library-collection-index))
</pre>
</section>
<section>
<h2>Index System</h2>
<p>Four hash table indexes for O(1) lookup:</p>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 590 80" width="590" height="80" xmlns="http://www.w3.org/2000/svg">
<style>
  .diagram line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: square; }
  .diagram rect { fill: currentColor; }
  .diagram text { font-family: 'JetBrains Mono', monospace; font-size: 14px; fill: currentColor; dominant-baseline: central; }
</style>
<text x="0" y="10">author-index:</text>
<text x="180" y="10">"Lamport"</text>
<text x="300" y="10">[doc1,</text>
<text x="370" y="10">doc2,</text>
<text x="430" y="10">doc5,</text>
<text x="490" y="10">...]</text>
<text x="0" y="30">topic-index:</text>
<text x="180" y="30">"cryptography"</text>
<text x="350" y="30">[doc3,</text>
<text x="420" y="30">doc7,</text>
<text x="480" y="30">doc12,</text>
<text x="550" y="30">...]</text>
<text x="0" y="50">year-index:</text>
<text x="180" y="50">1978</text>
<text x="250" y="50">[doc1,</text>
<text x="320" y="50">doc4,</text>
<text x="380" y="50">...]</text>
<text x="0" y="70">collection-index:</text>
<text x="180" y="70">"lampson"</text>
<text x="300" y="70">&lt;collection&gt;</text>
</svg>
</div>
<h3>Building Indexes</h3>
<pre class="language-scheme">
(define (build-author-index documents)
  (let ((index (make-hash-table equal?)))
    (for-each
      (lambda (doc)
        (for-each
          (lambda (author)
            (hash-table-update!/default
              index
              (normalize-author author)
              (lambda (docs) (cons doc docs))
              '()))
          (document-authors doc)))
      documents)
    index))
</pre>
</section>
<section>
<h2>Query Interface</h2>
<h3>Natural Language Parsing</h3>
<pre class="language-scheme">
(parse-query "papers by Lampson about protection")
;; =&gt; (query (author "Lampson") (topic "protection"))

(parse-query "from 1978")
;; =&gt; (query (year 1978))

(parse-query "SPKI certificates")
;; =&gt; (query (topic "SPKI") (topic "certificates"))
</pre>
<p>Recognized Patterns: - by &lt;name&gt; ‚Üí author search - about &lt;topic&gt; ‚Üí topic search - from &lt;year&gt; ‚Üí year search - in &lt;collection&gt; ‚Üí collection filter - Bare words ‚Üí topic search</p>
<h3>Fuzzy Matching</h3>
<pre class="language-scheme">
(fuzzy-match "Lamp" author-list)
;; =&gt; ("Lampson" "Lamport")

(fuzzy-match "crypto" topic-list)
;; =&gt; ("cryptography" "cryptographic" "encryption")
</pre>
<p>Matching strategies:</p>
<ul>
<li>Exact match (highest priority)</li>
<li>Case-insensitive match</li>
<li>Prefix match</li>
<li>Substring match</li>
</ul>
<h3>Query Functions</h3>
<pre class="language-scheme">
(find-by-author library "Lampson")
(find-by-topic library "SPKI")
(find-by-year library 1978)
(find-by-collection library "lampson")
(find-related library document)
</pre>
</section>
<section>
<h2>REPL Interface</h2>
<h3>Interactive Session</h3>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 660 540" width="660" height="540" xmlns="http://www.w3.org/2000/svg">
<style>
  .diagram line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: square; }
  .diagram rect { fill: currentColor; }
  .diagram text { font-family: 'JetBrains Mono', monospace; font-size: 14px; fill: currentColor; dominant-baseline: central; }
</style>
<text x="0" y="10">$</text>
<text x="20" y="10">csi</text>
<text x="60" y="10">-s</text>
<text x="90" y="10">directory-repl.scm</text>
<line x1="5" y1="30" x2="10" y2="30"/>
<line x1="5" y1="30" x2="5" y2="41"/>
<line x1="10" y1="30" x2="20" y2="30"/>
<line x1="20" y1="30" x2="30" y2="30"/>
<line x1="30" y1="30" x2="40" y2="30"/>
<line x1="40" y1="30" x2="50" y2="30"/>
<line x1="50" y1="30" x2="60" y2="30"/>
<line x1="60" y1="30" x2="70" y2="30"/>
<line x1="70" y1="30" x2="80" y2="30"/>
<line x1="80" y1="30" x2="90" y2="30"/>
<line x1="90" y1="30" x2="100" y2="30"/>
<line x1="100" y1="30" x2="110" y2="30"/>
<line x1="110" y1="30" x2="120" y2="30"/>
<line x1="120" y1="30" x2="130" y2="30"/>
<line x1="130" y1="30" x2="140" y2="30"/>
<line x1="140" y1="30" x2="150" y2="30"/>
<line x1="150" y1="30" x2="160" y2="30"/>
<line x1="160" y1="30" x2="170" y2="30"/>
<line x1="170" y1="30" x2="180" y2="30"/>
<line x1="180" y1="30" x2="190" y2="30"/>
<line x1="190" y1="30" x2="200" y2="30"/>
<line x1="200" y1="30" x2="210" y2="30"/>
<line x1="210" y1="30" x2="220" y2="30"/>
<line x1="220" y1="30" x2="230" y2="30"/>
<line x1="230" y1="30" x2="240" y2="30"/>
<line x1="240" y1="30" x2="250" y2="30"/>
<line x1="250" y1="30" x2="260" y2="30"/>
<line x1="260" y1="30" x2="270" y2="30"/>
<line x1="270" y1="30" x2="280" y2="30"/>
<line x1="280" y1="30" x2="290" y2="30"/>
<line x1="290" y1="30" x2="300" y2="30"/>
<line x1="300" y1="30" x2="310" y2="30"/>
<line x1="310" y1="30" x2="320" y2="30"/>
<line x1="320" y1="30" x2="330" y2="30"/>
<line x1="330" y1="30" x2="340" y2="30"/>
<line x1="340" y1="30" x2="350" y2="30"/>
<line x1="350" y1="30" x2="360" y2="30"/>
<line x1="360" y1="30" x2="370" y2="30"/>
<line x1="370" y1="30" x2="380" y2="30"/>
<line x1="380" y1="30" x2="390" y2="30"/>
<line x1="390" y1="30" x2="400" y2="30"/>
<line x1="400" y1="30" x2="410" y2="30"/>
<line x1="410" y1="30" x2="420" y2="30"/>
<line x1="420" y1="30" x2="430" y2="30"/>
<line x1="430" y1="30" x2="440" y2="30"/>
<line x1="440" y1="30" x2="450" y2="30"/>
<line x1="450" y1="30" x2="460" y2="30"/>
<line x1="460" y1="30" x2="470" y2="30"/>
<line x1="470" y1="30" x2="480" y2="30"/>
<line x1="480" y1="30" x2="490" y2="30"/>
<line x1="490" y1="30" x2="500" y2="30"/>
<line x1="500" y1="30" x2="510" y2="30"/>
<line x1="510" y1="30" x2="520" y2="30"/>
<line x1="520" y1="30" x2="530" y2="30"/>
<line x1="530" y1="30" x2="540" y2="30"/>
<line x1="540" y1="30" x2="550" y2="30"/>
<line x1="550" y1="30" x2="560" y2="30"/>
<line x1="560" y1="30" x2="570" y2="30"/>
<line x1="570" y1="30" x2="580" y2="30"/>
<line x1="580" y1="30" x2="590" y2="30"/>
<line x1="590" y1="30" x2="600" y2="30"/>
<line x1="600" y1="30" x2="610" y2="30"/>
<line x1="610" y1="30" x2="620" y2="30"/>
<line x1="620" y1="30" x2="630" y2="30"/>
<line x1="630" y1="30" x2="640" y2="30"/>
<line x1="640" y1="30" x2="645" y2="30"/>
<line x1="645" y1="30" x2="645" y2="41"/>
<line x1="5" y1="39" x2="5" y2="61"/>
<text x="30" y="50">üìö</text>
<text x="50" y="50">Cyberspace</text>
<text x="160" y="50">Library</text>
<text x="240" y="50">Directory</text>
<line x1="645" y1="39" x2="645" y2="61"/>
<line x1="5" y1="59" x2="5" y2="81"/>
<text x="30" y="70">"E</text>
<text x="60" y="70">Pluribus</text>
<text x="150" y="70">Unum"</text>
<text x="210" y="70">-</text>
<text x="230" y="70">Finding</text>
<text x="310" y="70">knowledge</text>
<text x="410" y="70">should</text>
<text x="480" y="70">be</text>
<text x="510" y="70">joyful</text>
<line x1="655" y1="59" x2="655" y2="81"/>
<line x1="5" y1="90" x2="10" y2="90"/>
<line x1="5" y1="79" x2="5" y2="90"/>
<line x1="10" y1="90" x2="20" y2="90"/>
<line x1="20" y1="90" x2="30" y2="90"/>
<line x1="30" y1="90" x2="40" y2="90"/>
<line x1="40" y1="90" x2="50" y2="90"/>
<line x1="50" y1="90" x2="60" y2="90"/>
<line x1="60" y1="90" x2="70" y2="90"/>
<line x1="70" y1="90" x2="80" y2="90"/>
<line x1="80" y1="90" x2="90" y2="90"/>
<line x1="90" y1="90" x2="100" y2="90"/>
<line x1="100" y1="90" x2="110" y2="90"/>
<line x1="110" y1="90" x2="120" y2="90"/>
<line x1="120" y1="90" x2="130" y2="90"/>
<line x1="130" y1="90" x2="140" y2="90"/>
<line x1="140" y1="90" x2="150" y2="90"/>
<line x1="150" y1="90" x2="160" y2="90"/>
<line x1="160" y1="90" x2="170" y2="90"/>
<line x1="170" y1="90" x2="180" y2="90"/>
<line x1="180" y1="90" x2="190" y2="90"/>
<line x1="190" y1="90" x2="200" y2="90"/>
<line x1="200" y1="90" x2="210" y2="90"/>
<line x1="210" y1="90" x2="220" y2="90"/>
<line x1="220" y1="90" x2="230" y2="90"/>
<line x1="230" y1="90" x2="240" y2="90"/>
<line x1="240" y1="90" x2="250" y2="90"/>
<line x1="250" y1="90" x2="260" y2="90"/>
<line x1="260" y1="90" x2="270" y2="90"/>
<line x1="270" y1="90" x2="280" y2="90"/>
<line x1="280" y1="90" x2="290" y2="90"/>
<line x1="290" y1="90" x2="300" y2="90"/>
<line x1="300" y1="90" x2="310" y2="90"/>
<line x1="310" y1="90" x2="320" y2="90"/>
<line x1="320" y1="90" x2="330" y2="90"/>
<line x1="330" y1="90" x2="340" y2="90"/>
<line x1="340" y1="90" x2="350" y2="90"/>
<line x1="350" y1="90" x2="360" y2="90"/>
<line x1="360" y1="90" x2="370" y2="90"/>
<line x1="370" y1="90" x2="380" y2="90"/>
<line x1="380" y1="90" x2="390" y2="90"/>
<line x1="390" y1="90" x2="400" y2="90"/>
<line x1="400" y1="90" x2="410" y2="90"/>
<line x1="410" y1="90" x2="420" y2="90"/>
<line x1="420" y1="90" x2="430" y2="90"/>
<line x1="430" y1="90" x2="440" y2="90"/>
<line x1="440" y1="90" x2="450" y2="90"/>
<line x1="450" y1="90" x2="460" y2="90"/>
<line x1="460" y1="90" x2="470" y2="90"/>
<line x1="470" y1="90" x2="480" y2="90"/>
<line x1="480" y1="90" x2="490" y2="90"/>
<line x1="490" y1="90" x2="500" y2="90"/>
<line x1="500" y1="90" x2="510" y2="90"/>
<line x1="510" y1="90" x2="520" y2="90"/>
<line x1="520" y1="90" x2="530" y2="90"/>
<line x1="530" y1="90" x2="540" y2="90"/>
<line x1="540" y1="90" x2="550" y2="90"/>
<line x1="550" y1="90" x2="560" y2="90"/>
<line x1="560" y1="90" x2="570" y2="90"/>
<line x1="570" y1="90" x2="580" y2="90"/>
<line x1="580" y1="90" x2="590" y2="90"/>
<line x1="590" y1="90" x2="600" y2="90"/>
<line x1="600" y1="90" x2="610" y2="90"/>
<line x1="610" y1="90" x2="620" y2="90"/>
<line x1="620" y1="90" x2="630" y2="90"/>
<line x1="630" y1="90" x2="640" y2="90"/>
<line x1="640" y1="90" x2="645" y2="90"/>
<line x1="645" y1="79" x2="645" y2="90"/>
<text x="0" y="110">Loaded</text>
<text x="70" y="110">312</text>
<text x="110" y="110">documents</text>
<text x="210" y="110">from</text>
<text x="260" y="110">18</text>
<text x="290" y="110">collections</text>
<text x="0" y="130">Type</text>
<text x="50" y="130">'help'</text>
<text x="120" y="130">for</text>
<text x="160" y="130">search</text>
<text x="230" y="130">tips,</text>
<text x="290" y="130">'quit'</text>
<text x="360" y="130">to</text>
<text x="390" y="130">exit</text>
<text x="0" y="150">üìñ</text>
<text x="20" y="150">&gt;</text>
<text x="40" y="150">papers</text>
<text x="110" y="150">by</text>
<text x="140" y="150">Rivest</text>
<text x="0" y="170">üìö</text>
<text x="20" y="170">Found</text>
<text x="80" y="170">3</text>
<text x="100" y="170">documents:</text>
<text x="10" y="190">[1]</text>
<text x="50" y="190">SDSI:</text>
<text x="110" y="190">A</text>
<text x="130" y="190">Simple</text>
<text x="200" y="190">Distributed</text>
<text x="320" y="190">Security</text>
<text x="410" y="190">Infrastructure</text>
<text x="50" y="210">üë§</text>
<text x="70" y="210">R.</text>
<text x="100" y="210">Rivest,</text>
<text x="180" y="210">B.</text>
<text x="210" y="210">Lampson</text>
<text x="50" y="230">üìÖ</text>
<text x="70" y="230">1996</text>
<text x="130" y="230">üìÅ</text>
<text x="150" y="230">lampson</text>
<text x="10" y="250">[2]</text>
<text x="50" y="250">SPKI</text>
<text x="100" y="250">Certificate</text>
<text x="220" y="250">Theory</text>
<text x="50" y="270">üë§</text>
<text x="70" y="270">C.</text>
<text x="100" y="270">Ellison,</text>
<text x="190" y="270">B.</text>
<text x="220" y="270">Frantz,</text>
<text x="300" y="270">B.</text>
<text x="330" y="270">Lampson,</text>
<text x="420" y="270">R.</text>
<text x="450" y="270">Rivest,</text>
<text x="530" y="270">...</text>
<text x="50" y="290">üìÖ</text>
<text x="70" y="290">1999</text>
<text x="130" y="290">üìÅ</text>
<text x="150" y="290">lampson</text>
<text x="0" y="310">üìñ</text>
<text x="20" y="310">&gt;</text>
<text x="40" y="310">about</text>
<text x="100" y="310">SPKI</text>
<text x="0" y="330">üìö</text>
<text x="20" y="330">Found</text>
<text x="80" y="330">8</text>
<text x="100" y="330">documents:</text>
<text x="0" y="350">...</text>
<text x="0" y="370">üìñ</text>
<text x="20" y="370">&gt;</text>
<text x="40" y="370">stats</text>
<text x="0" y="390">Library</text>
<text x="80" y="390">Statistics:</text>
<text x="20" y="410">üìö</text>
<text x="40" y="410">Documents:</text>
<text x="150" y="410">312</text>
<text x="20" y="430">üìÅ</text>
<text x="40" y="430">Collections:</text>
<text x="170" y="430">18</text>
<text x="20" y="450">üë§</text>
<text x="40" y="450">Authors:</text>
<text x="130" y="450">245</text>
<text x="20" y="470">üè∑Ô∏è</text>
<text x="50" y="470">Topics:</text>
<text x="130" y="470">89</text>
<text x="20" y="490">üìÖ</text>
<text x="40" y="490">Years:</text>
<text x="110" y="490">1971-2024</text>
<text x="0" y="510">üìñ</text>
<text x="20" y="510">&gt;</text>
<text x="40" y="510">quit</text>
<text x="0" y="530">Happy</text>
<text x="60" y="530">exploring!</text>
<text x="170" y="530">üìö‚ú®</text>
</svg>
</div>
<h3>Commands</h3>
<table>
<tr><th>Command </th><th>Description </th></tr>
<tr><td>help </td><td>Show search tips </td></tr>
<tr><td>stats </td><td>Library statistics </td></tr>
<tr><td>collections </td><td>List all collections </td></tr>
<tr><td>authors </td><td>Show author index </td></tr>
<tr><td>topics </td><td>Show topic index </td></tr>
<tr><td>years </td><td>Show year distribution </td></tr>
<tr><td>quit </td><td>Exit REPL </td></tr>
</table>
</section>
<section>
<h2>INDEX.md Parser</h2>
<p>Each collection contains an INDEX.md with paper listings:</p>
<pre class="language-markdown">
# Lampson Collection

Butler Lampson's papers on protection, capability systems, and distributed computing.

## Papers

1. Protection (1971)
   - Author: Butler Lampson
   - Topics: capability, protection, access control
   - Source: ACM Operating Systems Review

2. Hints for Computer System Design (1983)
   - Author: Butler Lampson
   - Topics: systems design, engineering
   - Source: ACM Operating Systems Review
</pre>
<h3>Parser Output</h3>
<pre class="language-scheme">
(parse-index-file "lampson/INDEX.md")
;; =&gt;
(collection
  (name "lampson")
  (description "Butler Lampson's papers...")
  (documents
    ((title "Protection")
     (authors "Butler Lampson")
     (year 1971)
     (topics "capability" "protection" "access control"))
    ...))
</pre>
</section>
<section>
<h2>Export Formats</h2>
<h3>S-expression Export</h3>
<pre class="language-scheme">
(export-to-sexp library "catalog.sexp")
</pre>
<p>Output:</p>
<pre class="language-scheme">
(library
  (metadata
    (document-count 312)
    (collection-count 18)
    (generated "2026-01-06"))
  (collections
    (collection
      (name "lampson")
      (documents
        (document
          (title "Protection")
          (authors ("Butler Lampson"))
          (year 1971)
          (topics ("capability" "protection")))
        ...))
    ...))
</pre>
<h3>HTML Export</h3>
<pre class="language-scheme">
(export-to-html library "catalog.html")
</pre>
<p>Generates browsable web catalog with: - Alphabetical author index - Topic tag cloud - Year timeline - Search functionality</p>
<h3>Markdown Export</h3>
<pre class="language-scheme">
(export-to-markdown library "catalog.md")
</pre>
<p>Documentation-friendly format for README files.</p>
</section>
<section>
<h2>Design Philosophy</h2>
<h3>Super Nice and Helpful</h3>
<ul>
<li>Natural language understanding</li>
<li>Fuzzy matching catches typos</li>
<li>Suggestions for empty results</li>
<li>Encouraging prompts</li>
</ul>
<p>Research discovery should lower barriers, not raise them; the interface should anticipate what users need rather than demanding precise query syntax.</p>
<h3>Beautiful Output</h3>
<ul>
<li>Unicode box drawing (‚ïî‚ïê‚ïê‚ïê‚ïó)</li>
<li>Emoji visual markers (üìñ üìö üë§ üìÖ)</li>
<li>Consistent formatting</li>
<li>Progressive disclosure</li>
</ul>
<h3>Hone In On What You Need</h3>
<ul>
<li>Multi-strategy search</li>
<li>Progressive filtering</li>
<li>Cross-references</li>
<li>Related paper discovery</li>
</ul>
</section>
<section>
<h2>Security Considerations</h2>
<h3>No Execution</h3>
<p>The directory system is read-only: - Parses INDEX.md files (trusted) - No code execution - No network access - No file modification</p>
<h3>Path Traversal</h3>
<p>File paths validated: - Must be within library root - No .. components - Normalized before use</p>
</section>
<section>
<h2>Implementation Notes</h2>
<h3>Dependencies</h3>
<ul>
<li>srfi-1</li>
<li>List utilities - srfi-13</li>
<li>String utilities - srfi-69</li>
<li>Hash tables - chicken file</li>
<li>Directory scanning</li>
</ul>
<h3>Performance</h3>
<ul>
<li>Index building: O(N) documents</li>
<li>Query: O(1) hash lookup + O(M) result filtering</li>
<li>Fuzzy match: O(K) candidates</li>
</ul>
<h3>Extensibility</h3>
<p>Future enhancements: - Full-text search (PostScript/Text extraction) - Citation graph visualization - BibTeX export - Web API server - Semantic search with embeddings</p>
</section>
<section>
<h2>References</h2>
<ul>
<li>Dublin Core Metadata Initiative</li>
<li>Library of Congress Subject Headings</li>
<li>BibTeX format specification</li>
<li>Unicode Standard for box drawing</li>
</ul>
</section>
<section>
<h2>Changelog</h2>
<ul>
<li>2026-01-06</li>
<li>Initial specification</li>
</ul>
</section>
<script>
function toggleTheme() {
  const html = document.documentElement;
  const current = html.getAttribute('data-theme');
  const next = current === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', next);
  localStorage.setItem('theme', next);
}
(function() {
  // Query param override (for REPL: ?theme=dark or ?theme=light)
  const params = new URLSearchParams(window.location.search);
  const param = params.get('theme');
  if (param === 'dark' || param === 'light') {
    document.documentElement.setAttribute('data-theme', param);
    localStorage.setItem('theme', param);
    return;
  }
  // localStorage preference
  const saved = localStorage.getItem('theme');
  if (saved) {
    document.documentElement.setAttribute('data-theme', saved);
  } else if (window.matchMedia('(prefers-color-scheme: light)').matches) {
    document.documentElement.setAttribute('data-theme', 'light');
  }
})();
</script>
</body>
</html>
