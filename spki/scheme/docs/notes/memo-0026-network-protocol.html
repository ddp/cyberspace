<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <title>Memo 0026: Network Protocol</title>
  <link rel="icon" id="favicon" href="data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27%230f0%27 text-anchor=%27middle%27 font-weight=%27bold%27>λ</text></svg>">
  <script>
(function(){
  var h=new Date().getHours(),c;
  if(h>=4&&h<6)c='%23845EC2';       // brahma muhurta - violet
  else if(h>=6&&h<8)c='%23ffd700';  // dawn - gold
  else if(h>=8&&h<11)c='%2300d4aa'; // morning - teal
  else if(h>=11&&h<14)c='%230f0';   // midday - phosphor
  else if(h>=14&&h<17)c='%2339ff14';// afternoon - neon
  else if(h>=17&&h<19)c='%23ff6600';// sunset - orange
  else if(h>=19&&h<22)c='%23ff3366';// evening - coral
  else c='%2300ffff';               // night - cyan
  document.getElementById('favicon').href='data:image/svg+xml,<svg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 32 32%27><text x=%2716%27 y=%2725%27 font-family=%27serif%27 font-size=%2728%27 fill=%27'+c+'%27 text-anchor=%27middle%27 font-weight=%27bold%27>λ</text></svg>';
})();
</script>
  <link rel="stylesheet" href="memo.css">
</head>
<body>
<span class="theme-toggle" onclick="toggleTheme()" title="Toggle light/dark">[theme]</span>
<h1>Memo 0026: Network Protocol</h1>
<dl class="metadata">
</dl>
<hr>
<section>
<h2>Abstract</h2>
<p>This Memo specifies the network protocol for the Library of Cyberspace: how vaults discover each other, authenticate, exchange objects, and synchronize state. The protocol is transport-agnostic, capability-authenticated, and optimized for content-addressed data.</p>
</section>
<section>
<h2>Motivation</h2>
<p>Vaults must communicate to:</p>
<ul>
<li>Replicate</li>
<li>Distribute objects across vaults</li>
<li>Federate</li>
<li>Link independent vaults into networks</li>
<li>Subscribe</li>
<li>Receive updates from publishers</li>
<li>Query</li>
<li>Search the distributed soup</li>
</ul>
<p>The protocol must handle:</p>
<ul>
<li>Intermittent connectivity</li>
<li>Vaults may be offline</li>
<li>Untrusted networks</li>
<li>All communication authenticated</li>
<li>Large objects</li>
<li>Efficient chunked transfer</li>
<li>Partial sync</li>
<li>Resume interrupted transfers</li>
</ul>
</section>
<section>
<h2>Protocol Layers</h2>
<div class="diagram-container">
<svg class="diagram" viewBox="0 0 412.8 249.6" width="412.8" height="249.6" xmlns="http://www.w3.org/2000/svg">
<style>
  line { stroke: currentColor; stroke-width: 1.5; stroke-linecap: round; }
  text { font-family: 'Hack', 'SF Mono', monospace; font-size: 16px; fill: currentColor; }
</style>
<line x1="4.8" y1="9.6" x2="9.6" y2="9.6"/>
<line x1="4.8" y1="9.6" x2="4.8" y2="19.2"/>
<line x1="9.6" y1="9.6" x2="19.2" y2="9.6"/>
<line x1="19.2" y1="9.6" x2="28.8" y2="9.6"/>
<line x1="28.8" y1="9.6" x2="38.4" y2="9.6"/>
<line x1="38.4" y1="9.6" x2="48.0" y2="9.6"/>
<line x1="48.0" y1="9.6" x2="57.6" y2="9.6"/>
<line x1="57.6" y1="9.6" x2="67.2" y2="9.6"/>
<line x1="67.2" y1="9.6" x2="76.8" y2="9.6"/>
<line x1="76.8" y1="9.6" x2="86.4" y2="9.6"/>
<line x1="86.4" y1="9.6" x2="96.0" y2="9.6"/>
<line x1="96.0" y1="9.6" x2="105.6" y2="9.6"/>
<line x1="105.6" y1="9.6" x2="115.2" y2="9.6"/>
<line x1="115.2" y1="9.6" x2="124.8" y2="9.6"/>
<line x1="124.8" y1="9.6" x2="134.4" y2="9.6"/>
<line x1="134.4" y1="9.6" x2="144.0" y2="9.6"/>
<line x1="144.0" y1="9.6" x2="153.6" y2="9.6"/>
<line x1="153.6" y1="9.6" x2="163.2" y2="9.6"/>
<line x1="163.2" y1="9.6" x2="172.8" y2="9.6"/>
<line x1="172.8" y1="9.6" x2="182.4" y2="9.6"/>
<line x1="182.4" y1="9.6" x2="192.0" y2="9.6"/>
<line x1="192.0" y1="9.6" x2="201.6" y2="9.6"/>
<line x1="201.6" y1="9.6" x2="211.2" y2="9.6"/>
<line x1="211.2" y1="9.6" x2="220.8" y2="9.6"/>
<line x1="220.8" y1="9.6" x2="230.4" y2="9.6"/>
<line x1="230.4" y1="9.6" x2="240.0" y2="9.6"/>
<line x1="240.0" y1="9.6" x2="249.6" y2="9.6"/>
<line x1="249.6" y1="9.6" x2="259.2" y2="9.6"/>
<line x1="259.2" y1="9.6" x2="268.8" y2="9.6"/>
<line x1="268.8" y1="9.6" x2="278.4" y2="9.6"/>
<line x1="278.4" y1="9.6" x2="288.0" y2="9.6"/>
<line x1="288.0" y1="9.6" x2="297.6" y2="9.6"/>
<line x1="297.6" y1="9.6" x2="307.2" y2="9.6"/>
<line x1="307.2" y1="9.6" x2="316.8" y2="9.6"/>
<line x1="316.8" y1="9.6" x2="326.4" y2="9.6"/>
<line x1="326.4" y1="9.6" x2="336.0" y2="9.6"/>
<line x1="336.0" y1="9.6" x2="345.6" y2="9.6"/>
<line x1="345.6" y1="9.6" x2="355.2" y2="9.6"/>
<line x1="355.2" y1="9.6" x2="364.8" y2="9.6"/>
<line x1="364.8" y1="9.6" x2="374.4" y2="9.6"/>
<line x1="374.4" y1="9.6" x2="384.0" y2="9.6"/>
<line x1="384.0" y1="9.6" x2="393.6" y2="9.6"/>
<line x1="393.6" y1="9.6" x2="403.2" y2="9.6"/>
<line x1="403.2" y1="9.6" x2="408.0" y2="9.6"/>
<line x1="408.0" y1="9.6" x2="408.0" y2="19.2"/>
<line x1="4.8" y1="19.2" x2="4.8" y2="38.4"/>
<line x1="408.0" y1="19.2" x2="408.0" y2="38.4"/>
<line x1="4.8" y1="38.4" x2="4.8" y2="57.6"/>
<line x1="408.0" y1="38.4" x2="408.0" y2="57.6"/>
<line x1="4.8" y1="57.6" x2="4.8" y2="76.8"/>
<line x1="4.8" y1="67.2" x2="9.6" y2="67.2"/>
<line x1="9.6" y1="67.2" x2="19.2" y2="67.2"/>
<line x1="19.2" y1="67.2" x2="28.8" y2="67.2"/>
<line x1="28.8" y1="67.2" x2="38.4" y2="67.2"/>
<line x1="38.4" y1="67.2" x2="48.0" y2="67.2"/>
<line x1="48.0" y1="67.2" x2="57.6" y2="67.2"/>
<line x1="57.6" y1="67.2" x2="67.2" y2="67.2"/>
<line x1="67.2" y1="67.2" x2="76.8" y2="67.2"/>
<line x1="76.8" y1="67.2" x2="86.4" y2="67.2"/>
<line x1="86.4" y1="67.2" x2="96.0" y2="67.2"/>
<line x1="96.0" y1="67.2" x2="105.6" y2="67.2"/>
<line x1="105.6" y1="67.2" x2="115.2" y2="67.2"/>
<line x1="115.2" y1="67.2" x2="124.8" y2="67.2"/>
<line x1="124.8" y1="67.2" x2="134.4" y2="67.2"/>
<line x1="134.4" y1="67.2" x2="144.0" y2="67.2"/>
<line x1="144.0" y1="67.2" x2="153.6" y2="67.2"/>
<line x1="153.6" y1="67.2" x2="163.2" y2="67.2"/>
<line x1="163.2" y1="67.2" x2="172.8" y2="67.2"/>
<line x1="172.8" y1="67.2" x2="182.4" y2="67.2"/>
<line x1="182.4" y1="67.2" x2="192.0" y2="67.2"/>
<line x1="192.0" y1="67.2" x2="201.6" y2="67.2"/>
<line x1="201.6" y1="67.2" x2="211.2" y2="67.2"/>
<line x1="211.2" y1="67.2" x2="220.8" y2="67.2"/>
<line x1="220.8" y1="67.2" x2="230.4" y2="67.2"/>
<line x1="230.4" y1="67.2" x2="240.0" y2="67.2"/>
<line x1="240.0" y1="67.2" x2="249.6" y2="67.2"/>
<line x1="249.6" y1="67.2" x2="259.2" y2="67.2"/>
<line x1="259.2" y1="67.2" x2="268.8" y2="67.2"/>
<line x1="268.8" y1="67.2" x2="278.4" y2="67.2"/>
<line x1="278.4" y1="67.2" x2="288.0" y2="67.2"/>
<line x1="288.0" y1="67.2" x2="297.6" y2="67.2"/>
<line x1="297.6" y1="67.2" x2="307.2" y2="67.2"/>
<line x1="307.2" y1="67.2" x2="316.8" y2="67.2"/>
<line x1="316.8" y1="67.2" x2="326.4" y2="67.2"/>
<line x1="326.4" y1="67.2" x2="336.0" y2="67.2"/>
<line x1="336.0" y1="67.2" x2="345.6" y2="67.2"/>
<line x1="345.6" y1="67.2" x2="355.2" y2="67.2"/>
<line x1="355.2" y1="67.2" x2="364.8" y2="67.2"/>
<line x1="364.8" y1="67.2" x2="374.4" y2="67.2"/>
<line x1="374.4" y1="67.2" x2="384.0" y2="67.2"/>
<line x1="384.0" y1="67.2" x2="393.6" y2="67.2"/>
<line x1="393.6" y1="67.2" x2="403.2" y2="67.2"/>
<line x1="408.0" y1="57.6" x2="408.0" y2="76.8"/>
<line x1="403.2" y1="67.2" x2="408.0" y2="67.2"/>
<line x1="4.8" y1="76.8" x2="4.8" y2="96.0"/>
<line x1="408.0" y1="76.8" x2="408.0" y2="96.0"/>
<line x1="4.8" y1="96.0" x2="4.8" y2="115.2"/>
<line x1="408.0" y1="96.0" x2="408.0" y2="115.2"/>
<line x1="4.8" y1="115.2" x2="4.8" y2="134.4"/>
<line x1="4.8" y1="124.8" x2="9.6" y2="124.8"/>
<line x1="9.6" y1="124.8" x2="19.2" y2="124.8"/>
<line x1="19.2" y1="124.8" x2="28.8" y2="124.8"/>
<line x1="28.8" y1="124.8" x2="38.4" y2="124.8"/>
<line x1="38.4" y1="124.8" x2="48.0" y2="124.8"/>
<line x1="48.0" y1="124.8" x2="57.6" y2="124.8"/>
<line x1="57.6" y1="124.8" x2="67.2" y2="124.8"/>
<line x1="67.2" y1="124.8" x2="76.8" y2="124.8"/>
<line x1="76.8" y1="124.8" x2="86.4" y2="124.8"/>
<line x1="86.4" y1="124.8" x2="96.0" y2="124.8"/>
<line x1="96.0" y1="124.8" x2="105.6" y2="124.8"/>
<line x1="105.6" y1="124.8" x2="115.2" y2="124.8"/>
<line x1="115.2" y1="124.8" x2="124.8" y2="124.8"/>
<line x1="124.8" y1="124.8" x2="134.4" y2="124.8"/>
<line x1="134.4" y1="124.8" x2="144.0" y2="124.8"/>
<line x1="144.0" y1="124.8" x2="153.6" y2="124.8"/>
<line x1="153.6" y1="124.8" x2="163.2" y2="124.8"/>
<line x1="163.2" y1="124.8" x2="172.8" y2="124.8"/>
<line x1="172.8" y1="124.8" x2="182.4" y2="124.8"/>
<line x1="182.4" y1="124.8" x2="192.0" y2="124.8"/>
<line x1="192.0" y1="124.8" x2="201.6" y2="124.8"/>
<line x1="201.6" y1="124.8" x2="211.2" y2="124.8"/>
<line x1="211.2" y1="124.8" x2="220.8" y2="124.8"/>
<line x1="220.8" y1="124.8" x2="230.4" y2="124.8"/>
<line x1="230.4" y1="124.8" x2="240.0" y2="124.8"/>
<line x1="240.0" y1="124.8" x2="249.6" y2="124.8"/>
<line x1="249.6" y1="124.8" x2="259.2" y2="124.8"/>
<line x1="259.2" y1="124.8" x2="268.8" y2="124.8"/>
<line x1="268.8" y1="124.8" x2="278.4" y2="124.8"/>
<line x1="278.4" y1="124.8" x2="288.0" y2="124.8"/>
<line x1="288.0" y1="124.8" x2="297.6" y2="124.8"/>
<line x1="297.6" y1="124.8" x2="307.2" y2="124.8"/>
<line x1="307.2" y1="124.8" x2="316.8" y2="124.8"/>
<line x1="316.8" y1="124.8" x2="326.4" y2="124.8"/>
<line x1="326.4" y1="124.8" x2="336.0" y2="124.8"/>
<line x1="336.0" y1="124.8" x2="345.6" y2="124.8"/>
<line x1="345.6" y1="124.8" x2="355.2" y2="124.8"/>
<line x1="355.2" y1="124.8" x2="364.8" y2="124.8"/>
<line x1="364.8" y1="124.8" x2="374.4" y2="124.8"/>
<line x1="374.4" y1="124.8" x2="384.0" y2="124.8"/>
<line x1="384.0" y1="124.8" x2="393.6" y2="124.8"/>
<line x1="393.6" y1="124.8" x2="403.2" y2="124.8"/>
<line x1="408.0" y1="115.2" x2="408.0" y2="134.4"/>
<line x1="403.2" y1="124.8" x2="408.0" y2="124.8"/>
<line x1="4.8" y1="134.4" x2="4.8" y2="153.6"/>
<line x1="408.0" y1="134.4" x2="408.0" y2="153.6"/>
<line x1="4.8" y1="153.6" x2="4.8" y2="172.8"/>
<line x1="408.0" y1="153.6" x2="408.0" y2="172.8"/>
<line x1="4.8" y1="172.8" x2="4.8" y2="192.0"/>
<line x1="4.8" y1="182.4" x2="9.6" y2="182.4"/>
<line x1="9.6" y1="182.4" x2="19.2" y2="182.4"/>
<line x1="19.2" y1="182.4" x2="28.8" y2="182.4"/>
<line x1="28.8" y1="182.4" x2="38.4" y2="182.4"/>
<line x1="38.4" y1="182.4" x2="48.0" y2="182.4"/>
<line x1="48.0" y1="182.4" x2="57.6" y2="182.4"/>
<line x1="57.6" y1="182.4" x2="67.2" y2="182.4"/>
<line x1="67.2" y1="182.4" x2="76.8" y2="182.4"/>
<line x1="76.8" y1="182.4" x2="86.4" y2="182.4"/>
<line x1="86.4" y1="182.4" x2="96.0" y2="182.4"/>
<line x1="96.0" y1="182.4" x2="105.6" y2="182.4"/>
<line x1="105.6" y1="182.4" x2="115.2" y2="182.4"/>
<line x1="115.2" y1="182.4" x2="124.8" y2="182.4"/>
<line x1="124.8" y1="182.4" x2="134.4" y2="182.4"/>
<line x1="134.4" y1="182.4" x2="144.0" y2="182.4"/>
<line x1="144.0" y1="182.4" x2="153.6" y2="182.4"/>
<line x1="153.6" y1="182.4" x2="163.2" y2="182.4"/>
<line x1="163.2" y1="182.4" x2="172.8" y2="182.4"/>
<line x1="172.8" y1="182.4" x2="182.4" y2="182.4"/>
<line x1="182.4" y1="182.4" x2="192.0" y2="182.4"/>
<line x1="192.0" y1="182.4" x2="201.6" y2="182.4"/>
<line x1="201.6" y1="182.4" x2="211.2" y2="182.4"/>
<line x1="211.2" y1="182.4" x2="220.8" y2="182.4"/>
<line x1="220.8" y1="182.4" x2="230.4" y2="182.4"/>
<line x1="230.4" y1="182.4" x2="240.0" y2="182.4"/>
<line x1="240.0" y1="182.4" x2="249.6" y2="182.4"/>
<line x1="249.6" y1="182.4" x2="259.2" y2="182.4"/>
<line x1="259.2" y1="182.4" x2="268.8" y2="182.4"/>
<line x1="268.8" y1="182.4" x2="278.4" y2="182.4"/>
<line x1="278.4" y1="182.4" x2="288.0" y2="182.4"/>
<line x1="288.0" y1="182.4" x2="297.6" y2="182.4"/>
<line x1="297.6" y1="182.4" x2="307.2" y2="182.4"/>
<line x1="307.2" y1="182.4" x2="316.8" y2="182.4"/>
<line x1="316.8" y1="182.4" x2="326.4" y2="182.4"/>
<line x1="326.4" y1="182.4" x2="336.0" y2="182.4"/>
<line x1="336.0" y1="182.4" x2="345.6" y2="182.4"/>
<line x1="345.6" y1="182.4" x2="355.2" y2="182.4"/>
<line x1="355.2" y1="182.4" x2="364.8" y2="182.4"/>
<line x1="364.8" y1="182.4" x2="374.4" y2="182.4"/>
<line x1="374.4" y1="182.4" x2="384.0" y2="182.4"/>
<line x1="384.0" y1="182.4" x2="393.6" y2="182.4"/>
<line x1="393.6" y1="182.4" x2="403.2" y2="182.4"/>
<line x1="408.0" y1="172.8" x2="408.0" y2="192.0"/>
<line x1="403.2" y1="182.4" x2="408.0" y2="182.4"/>
<line x1="4.8" y1="192.0" x2="4.8" y2="211.2"/>
<line x1="408.0" y1="192.0" x2="408.0" y2="211.2"/>
<line x1="4.8" y1="211.2" x2="4.8" y2="230.4"/>
<line x1="408.0" y1="211.2" x2="408.0" y2="230.4"/>
<line x1="4.8" y1="240.0" x2="9.6" y2="240.0"/>
<line x1="4.8" y1="230.4" x2="4.8" y2="240.0"/>
<line x1="9.6" y1="240.0" x2="19.2" y2="240.0"/>
<line x1="19.2" y1="240.0" x2="28.8" y2="240.0"/>
<line x1="28.8" y1="240.0" x2="38.4" y2="240.0"/>
<line x1="38.4" y1="240.0" x2="48.0" y2="240.0"/>
<line x1="48.0" y1="240.0" x2="57.6" y2="240.0"/>
<line x1="57.6" y1="240.0" x2="67.2" y2="240.0"/>
<line x1="67.2" y1="240.0" x2="76.8" y2="240.0"/>
<line x1="76.8" y1="240.0" x2="86.4" y2="240.0"/>
<line x1="86.4" y1="240.0" x2="96.0" y2="240.0"/>
<line x1="96.0" y1="240.0" x2="105.6" y2="240.0"/>
<line x1="105.6" y1="240.0" x2="115.2" y2="240.0"/>
<line x1="115.2" y1="240.0" x2="124.8" y2="240.0"/>
<line x1="124.8" y1="240.0" x2="134.4" y2="240.0"/>
<line x1="134.4" y1="240.0" x2="144.0" y2="240.0"/>
<line x1="144.0" y1="240.0" x2="153.6" y2="240.0"/>
<line x1="153.6" y1="240.0" x2="163.2" y2="240.0"/>
<line x1="163.2" y1="240.0" x2="172.8" y2="240.0"/>
<line x1="172.8" y1="240.0" x2="182.4" y2="240.0"/>
<line x1="182.4" y1="240.0" x2="192.0" y2="240.0"/>
<line x1="192.0" y1="240.0" x2="201.6" y2="240.0"/>
<line x1="201.6" y1="240.0" x2="211.2" y2="240.0"/>
<line x1="211.2" y1="240.0" x2="220.8" y2="240.0"/>
<line x1="220.8" y1="240.0" x2="230.4" y2="240.0"/>
<line x1="230.4" y1="240.0" x2="240.0" y2="240.0"/>
<line x1="240.0" y1="240.0" x2="249.6" y2="240.0"/>
<line x1="249.6" y1="240.0" x2="259.2" y2="240.0"/>
<line x1="259.2" y1="240.0" x2="268.8" y2="240.0"/>
<line x1="268.8" y1="240.0" x2="278.4" y2="240.0"/>
<line x1="278.4" y1="240.0" x2="288.0" y2="240.0"/>
<line x1="288.0" y1="240.0" x2="297.6" y2="240.0"/>
<line x1="297.6" y1="240.0" x2="307.2" y2="240.0"/>
<line x1="307.2" y1="240.0" x2="316.8" y2="240.0"/>
<line x1="316.8" y1="240.0" x2="326.4" y2="240.0"/>
<line x1="326.4" y1="240.0" x2="336.0" y2="240.0"/>
<line x1="336.0" y1="240.0" x2="345.6" y2="240.0"/>
<line x1="345.6" y1="240.0" x2="355.2" y2="240.0"/>
<line x1="355.2" y1="240.0" x2="364.8" y2="240.0"/>
<line x1="364.8" y1="240.0" x2="374.4" y2="240.0"/>
<line x1="374.4" y1="240.0" x2="384.0" y2="240.0"/>
<line x1="384.0" y1="240.0" x2="393.6" y2="240.0"/>
<line x1="393.6" y1="240.0" x2="403.2" y2="240.0"/>
<line x1="403.2" y1="240.0" x2="408.0" y2="240.0"/>
<line x1="408.0" y1="230.4" x2="408.0" y2="240.0"/>
<text x="120.0" y="28.8" text-anchor="middle" dominant-baseline="central">A</text>
<text x="129.6" y="28.8" text-anchor="middle" dominant-baseline="central">P</text>
<text x="139.2" y="28.8" text-anchor="middle" dominant-baseline="central">P</text>
<text x="148.8" y="28.8" text-anchor="middle" dominant-baseline="central">L</text>
<text x="158.4" y="28.8" text-anchor="middle" dominant-baseline="central">I</text>
<text x="168.0" y="28.8" text-anchor="middle" dominant-baseline="central">C</text>
<text x="177.6" y="28.8" text-anchor="middle" dominant-baseline="central">A</text>
<text x="187.2" y="28.8" text-anchor="middle" dominant-baseline="central">T</text>
<text x="196.8" y="28.8" text-anchor="middle" dominant-baseline="central">I</text>
<text x="206.4" y="28.8" text-anchor="middle" dominant-baseline="central">O</text>
<text x="216.0" y="28.8" text-anchor="middle" dominant-baseline="central">N</text>
<text x="235.2" y="28.8" text-anchor="middle" dominant-baseline="central">L</text>
<text x="244.8" y="28.8" text-anchor="middle" dominant-baseline="central">A</text>
<text x="254.4" y="28.8" text-anchor="middle" dominant-baseline="central">Y</text>
<text x="264.0" y="28.8" text-anchor="middle" dominant-baseline="central">E</text>
<text x="273.6" y="28.8" text-anchor="middle" dominant-baseline="central">R</text>
<text x="33.6" y="48.0" text-anchor="middle" dominant-baseline="central">(</text>
<text x="43.2" y="48.0" text-anchor="middle" dominant-baseline="central">v</text>
<text x="52.8" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="62.4" y="48.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="72.0" y="48.0" text-anchor="middle" dominant-baseline="central">l</text>
<text x="81.6" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="100.8" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="110.4" y="48.0" text-anchor="middle" dominant-baseline="central">p</text>
<text x="120.0" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="129.6" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="139.2" y="48.0" text-anchor="middle" dominant-baseline="central">a</text>
<text x="148.8" y="48.0" text-anchor="middle" dominant-baseline="central">t</text>
<text x="158.4" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="168.0" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="177.6" y="48.0" text-anchor="middle" dominant-baseline="central">n</text>
<text x="187.2" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="196.8" y="48.0" text-anchor="middle" dominant-baseline="central">,</text>
<text x="216.0" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="225.6" y="48.0" text-anchor="middle" dominant-baseline="central">o</text>
<text x="235.2" y="48.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="244.8" y="48.0" text-anchor="middle" dominant-baseline="central">p</text>
<text x="264.0" y="48.0" text-anchor="middle" dominant-baseline="central">q</text>
<text x="273.6" y="48.0" text-anchor="middle" dominant-baseline="central">u</text>
<text x="283.2" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="292.8" y="48.0" text-anchor="middle" dominant-baseline="central">r</text>
<text x="302.4" y="48.0" text-anchor="middle" dominant-baseline="central">i</text>
<text x="312.0" y="48.0" text-anchor="middle" dominant-baseline="central">e</text>
<text x="321.6" y="48.0" text-anchor="middle" dominant-baseline="central">s</text>
<text x="331.2" y="48.0" text-anchor="middle" dominant-baseline="central">)</text>
<text x="120.0" y="86.4" text-anchor="middle" dominant-baseline="central">M</text>
<text x="129.6" y="86.4" text-anchor="middle" dominant-baseline="central">E</text>
<text x="139.2" y="86.4" text-anchor="middle" dominant-baseline="central">S</text>
<text x="148.8" y="86.4" text-anchor="middle" dominant-baseline="central">S</text>
<text x="158.4" y="86.4" text-anchor="middle" dominant-baseline="central">A</text>
<text x="168.0" y="86.4" text-anchor="middle" dominant-baseline="central">G</text>
<text x="177.6" y="86.4" text-anchor="middle" dominant-baseline="central">E</text>
<text x="196.8" y="86.4" text-anchor="middle" dominant-baseline="central">L</text>
<text x="206.4" y="86.4" text-anchor="middle" dominant-baseline="central">A</text>
<text x="216.0" y="86.4" text-anchor="middle" dominant-baseline="central">Y</text>
<text x="225.6" y="86.4" text-anchor="middle" dominant-baseline="central">E</text>
<text x="235.2" y="86.4" text-anchor="middle" dominant-baseline="central">R</text>
<text x="33.6" y="105.6" text-anchor="middle" dominant-baseline="central">(</text>
<text x="43.2" y="105.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="52.8" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="62.4" y="105.6" text-anchor="middle" dominant-baseline="central">q</text>
<text x="72.0" y="105.6" text-anchor="middle" dominant-baseline="central">u</text>
<text x="81.6" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="91.2" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="100.8" y="105.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="110.4" y="105.6" text-anchor="middle" dominant-baseline="central">/</text>
<text x="120.0" y="105.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="129.6" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="139.2" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="148.8" y="105.6" text-anchor="middle" dominant-baseline="central">p</text>
<text x="158.4" y="105.6" text-anchor="middle" dominant-baseline="central">o</text>
<text x="168.0" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="177.6" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="187.2" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="196.8" y="105.6" text-anchor="middle" dominant-baseline="central">,</text>
<text x="216.0" y="105.6" text-anchor="middle" dominant-baseline="central">s</text>
<text x="225.6" y="105.6" text-anchor="middle" dominant-baseline="central">t</text>
<text x="235.2" y="105.6" text-anchor="middle" dominant-baseline="central">r</text>
<text x="244.8" y="105.6" text-anchor="middle" dominant-baseline="central">e</text>
<text x="254.4" y="105.6" text-anchor="middle" dominant-baseline="central">a</text>
<text x="264.0" y="105.6" text-anchor="middle" dominant-baseline="central">m</text>
<text x="273.6" y="105.6" text-anchor="middle" dominant-baseline="central">i</text>
<text x="283.2" y="105.6" text-anchor="middle" dominant-baseline="central">n</text>
<text x="292.8" y="105.6" text-anchor="middle" dominant-baseline="central">g</text>
<text x="302.4" y="105.6" text-anchor="middle" dominant-baseline="central">)</text>
<text x="120.0" y="144.0" text-anchor="middle" dominant-baseline="central">S</text>
<text x="129.6" y="144.0" text-anchor="middle" dominant-baseline="central">E</text>
<text x="139.2" y="144.0" text-anchor="middle" dominant-baseline="central">C</text>
<text x="148.8" y="144.0" text-anchor="middle" dominant-baseline="central">U</text>
<text x="158.4" y="144.0" text-anchor="middle" dominant-baseline="central">R</text>
<text x="168.0" y="144.0" text-anchor="middle" dominant-baseline="central">I</text>
<text x="177.6" y="144.0" text-anchor="middle" dominant-baseline="central">T</text>
<text x="187.2" y="144.0" text-anchor="middle" dominant-baseline="central">Y</text>
<text x="206.4" y="144.0" text-anchor="middle" dominant-baseline="central">L</text>
<text x="216.0" y="144.0" text-anchor="middle" dominant-baseline="central">A</text>
<text x="225.6" y="144.0" text-anchor="middle" dominant-baseline="central">Y</text>
<text x="235.2" y="144.0" text-anchor="middle" dominant-baseline="central">E</text>
<text x="244.8" y="144.0" text-anchor="middle" dominant-baseline="central">R</text>
<text x="33.6" y="163.2" text-anchor="middle" dominant-baseline="central">(</text>
<text x="43.2" y="163.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="52.8" y="163.2" text-anchor="middle" dominant-baseline="central">u</text>
<text x="62.4" y="163.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="72.0" y="163.2" text-anchor="middle" dominant-baseline="central">h</text>
<text x="81.6" y="163.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="91.2" y="163.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="100.8" y="163.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="110.4" y="163.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="120.0" y="163.2" text-anchor="middle" dominant-baseline="central">c</text>
<text x="129.6" y="163.2" text-anchor="middle" dominant-baseline="central">a</text>
<text x="139.2" y="163.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="148.8" y="163.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="158.4" y="163.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="168.0" y="163.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="177.6" y="163.2" text-anchor="middle" dominant-baseline="central">,</text>
<text x="196.8" y="163.2" text-anchor="middle" dominant-baseline="central">e</text>
<text x="206.4" y="163.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="216.0" y="163.2" text-anchor="middle" dominant-baseline="central">c</text>
<text x="225.6" y="163.2" text-anchor="middle" dominant-baseline="central">r</text>
<text x="235.2" y="163.2" text-anchor="middle" dominant-baseline="central">y</text>
<text x="244.8" y="163.2" text-anchor="middle" dominant-baseline="central">p</text>
<text x="254.4" y="163.2" text-anchor="middle" dominant-baseline="central">t</text>
<text x="264.0" y="163.2" text-anchor="middle" dominant-baseline="central">i</text>
<text x="273.6" y="163.2" text-anchor="middle" dominant-baseline="central">o</text>
<text x="283.2" y="163.2" text-anchor="middle" dominant-baseline="central">n</text>
<text x="292.8" y="163.2" text-anchor="middle" dominant-baseline="central">)</text>
<text x="120.0" y="201.6" text-anchor="middle" dominant-baseline="central">T</text>
<text x="129.6" y="201.6" text-anchor="middle" dominant-baseline="central">R</text>
<text x="139.2" y="201.6" text-anchor="middle" dominant-baseline="central">A</text>
<text x="148.8" y="201.6" text-anchor="middle" dominant-baseline="central">N</text>
<text x="158.4" y="201.6" text-anchor="middle" dominant-baseline="central">S</text>
<text x="168.0" y="201.6" text-anchor="middle" dominant-baseline="central">P</text>
<text x="177.6" y="201.6" text-anchor="middle" dominant-baseline="central">O</text>
<text x="187.2" y="201.6" text-anchor="middle" dominant-baseline="central">R</text>
<text x="196.8" y="201.6" text-anchor="middle" dominant-baseline="central">T</text>
<text x="216.0" y="201.6" text-anchor="middle" dominant-baseline="central">L</text>
<text x="225.6" y="201.6" text-anchor="middle" dominant-baseline="central">A</text>
<text x="235.2" y="201.6" text-anchor="middle" dominant-baseline="central">Y</text>
<text x="244.8" y="201.6" text-anchor="middle" dominant-baseline="central">E</text>
<text x="254.4" y="201.6" text-anchor="middle" dominant-baseline="central">R</text>
<text x="33.6" y="220.8" text-anchor="middle" dominant-baseline="central">(</text>
<text x="43.2" y="220.8" text-anchor="middle" dominant-baseline="central">T</text>
<text x="52.8" y="220.8" text-anchor="middle" dominant-baseline="central">C</text>
<text x="62.4" y="220.8" text-anchor="middle" dominant-baseline="central">P</text>
<text x="72.0" y="220.8" text-anchor="middle" dominant-baseline="central">,</text>
<text x="91.2" y="220.8" text-anchor="middle" dominant-baseline="central">Q</text>
<text x="100.8" y="220.8" text-anchor="middle" dominant-baseline="central">U</text>
<text x="110.4" y="220.8" text-anchor="middle" dominant-baseline="central">I</text>
<text x="120.0" y="220.8" text-anchor="middle" dominant-baseline="central">C</text>
<text x="129.6" y="220.8" text-anchor="middle" dominant-baseline="central">,</text>
<text x="148.8" y="220.8" text-anchor="middle" dominant-baseline="central">U</text>
<text x="158.4" y="220.8" text-anchor="middle" dominant-baseline="central">n</text>
<text x="168.0" y="220.8" text-anchor="middle" dominant-baseline="central">i</text>
<text x="177.6" y="220.8" text-anchor="middle" dominant-baseline="central">x</text>
<text x="196.8" y="220.8" text-anchor="middle" dominant-baseline="central">s</text>
<text x="206.4" y="220.8" text-anchor="middle" dominant-baseline="central">o</text>
<text x="216.0" y="220.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="225.6" y="220.8" text-anchor="middle" dominant-baseline="central">k</text>
<text x="235.2" y="220.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="244.8" y="220.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="254.4" y="220.8" text-anchor="middle" dominant-baseline="central">,</text>
<text x="273.6" y="220.8" text-anchor="middle" dominant-baseline="central">e</text>
<text x="283.2" y="220.8" text-anchor="middle" dominant-baseline="central">t</text>
<text x="292.8" y="220.8" text-anchor="middle" dominant-baseline="central">c</text>
<text x="302.4" y="220.8" text-anchor="middle" dominant-baseline="central">.</text>
<text x="312.0" y="220.8" text-anchor="middle" dominant-baseline="central">)</text>
</svg>
</div>
</section>
<section>
<h2>Transport Layer</h2>
<h3>Supported Transports</h3>
<pre class="language-scheme">
(define transports
  '((tcp "Traditional TCP/IP")
    (quic "UDP-based, multiplexed")
    (unix "Local Unix domain socket")
    (tor "Onion-routed TCP")
    (i2p "Garlic-routed")
    (bluetooth "Local mesh")
    (sneakernet "Physical media exchange")))
</pre>
<h3>Connection Establishment</h3>
<pre class="language-scheme">
(define (connect-vault address transport)
  "Establish connection to remote vault"
  (let* ((socket (transport-connect transport address))
         (connection (make-connection socket transport)))

    ;; Perform handshake
    (connection-handshake connection)

    ;; Return authenticated connection
    connection))
</pre>
<h3>Multiplexing</h3>
<p>Multiple streams over single connection:</p>
<pre class="language-scheme">
(define (open-stream connection stream-type)
  "Open multiplexed stream within connection"
  (let ((stream-id (allocate-stream-id connection)))
    (send-frame connection
      (frame type: 'stream-open
             stream-id: stream-id
             stream-type: stream-type))
    (make-stream connection stream-id stream-type)))
</pre>
</section>
<section>
<h2>Security Layer</h2>
<h3>Handshake Protocol</h3>
<p>Mutual authentication using Simple Public Key Infrastructure (SPKI) certificates:</p>
<div class="diagram-container">
